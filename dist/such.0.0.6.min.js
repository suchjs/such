!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeRegexpChars=function(t){return t.replace(/([()[{^$.*+?-])/g,"\\$1")},e.typeOf=function(t){return Object.prototype.toString.call(t).slice(8,-1)},e.isFn=function(t){return"function"==typeof t},e.map=function(t,r){if("Array"===e.typeOf(t))return t.map(r);if("Object"===e.typeOf(t)){var n={};for(var i in t=t)t.hasOwnProperty(i)&&(n[i]=r(t[i],i));return n}if("String"===e.typeOf(t))for(var a=0,o=(t=t).length;a<o;a++){var s=t.charCodeAt(a);if(s>=55296&&s<=56319){var u=t.charCodeAt(a+1);if(!(u>=56320&&u<=57343))throw new Error("wrong code point");r(t.substr(a,2),a),a++}else r(t.charAt(a),a)}},e.deepLoop=function(t,r,n){void 0===n&&(n=[]);var i=e.typeOf(t);if("Object"===i){for(var a in t)if(t.hasOwnProperty(a)){var o=t[a],s=e.typeOf(o);r.call(null,a,o,t,n.concat(a).join(".")),["Object","Array"].indexOf(s)>-1&&e.deepLoop(t[a],r,n.concat(a))}}else if("Array"===i){a=0;for(var u=t.length;a<u;a++){o=t[a],s=e.typeOf(o);r.call(null,a,o,t,n.concat(""+a).join(".")),["Object","Array"].indexOf(s)>-1&&e.deepLoop(t[a],r,n.concat(""+a))}}},e.makeRandom=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},e.makeStrRangeList=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!t||!r)return[];for(var a=t.charCodeAt(0),o=r.charCodeAt(0),s=[],u=0;a+u<=o;)s.push(String.fromCharCode(a+u)),u++;return n.length>0&&n.length%2==0?s.concat(e.makeStrRangeList.apply(void 0,n)):s},e.isOptional=function(){return Math.random()>=.5},e.capitalize=function(t){return t&&t.length?t.charAt(0).toUpperCase()+t.slice(1):""},e.decodeTrans=function(t){return t.replace(/\\(.)/g,function(t,e){return e})},e.getExp=function(t){var e=new Function("","return "+t);try{return e()}catch(e){throw new Error('wrong expression of "'+t+'".reason:'+e)}},e.getExpValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n=t.pop();void 0!==(r=t.shift());)try{return new Function("__$__","return __$__."+n)(r)}catch(t){}},e.range=function(t,e,r){return void 0===r&&(r=1),Array.apply(null,new Array(e-t+1)).map(function(e,n){return t+n*r})},e.deepCopy=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e.typeOf(t);if("Object"===i||"Array"===i)for(var a=function(n,a){var o=r[n];if(e.typeOf(o)!==i)return"continue";("Object"===i?Object.keys(o):e.range(0,o.length-1)).map(function(r){var n=o[r],i=t[r],a=e.typeOf(n),s=e.typeOf(i);"Object"===a||"Array"===a?(t[r]=s===a?t[r]:"Object"===a?{}:[],e.deepCopy(t[r],n)):t[r]=n})},o=0,s=r.length;o<s;o++)a(o);return t},e.isNoEmptyObject=function(t){return"Object"===e.typeOf(t)&&Object.keys(t).length>0},e.isPromise=function(t){return"Promise"===e.typeOf(t)||t&&e.isFn(t.then)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(3),a=i.default.fns,o=i.default.vars,s=i.default.mockits,u=function(){function t(t){var e=this;this.constructorName=t,this.configOptions={},this.params={},this.origParams={},this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[];var r=t||this.constructor.name;if(s[r]){var i=s[r].define;"Object"===n.typeOf(i)&&Object.keys(i).map(function(t){var r=i[t];"Object"===n.typeOf(r)?e[t]=n.deepCopy({},r):e[t]=r})}else{s[r]={rules:[],ruleFns:{},modifiers:[],modifierFns:{}},this.init(),this.addRule("Func",function(t){if(t)for(var e=t.options,r=function(t,r){var n=e[t],i=n.name;n.params.map(function(t){if(t.variable)try{if(t.value.indexOf(".")>-1||t.value.indexOf("[")>-1)new Function("__CONFIG__","return __CONFIG__."+t.value)(o);else if(!o.hasOwnProperty(t.value))throw new Error('"'+t.value+' is not assigned."')}catch(e){throw new Error("the modifier function "+i+"'s param "+t.value+" is not correct:"+e.message)}})},n=0,i=e.length;n<i;n++)r(n)});var a=this.configOptions;n.isNoEmptyObject(a)&&this.addRule("Config",function(t){var e=n.deepCopy({},t||{});return Object.keys(a).map(function(t){var i,o,s=a[t],u=!1,p=[],c=function(t){var e=n.typeOf(t),r="Array"===n.typeOf(o)?o:[o],i=!1;return r.map(function(t){var r=t.name;p.push(r),i||(i=e===r)}),i},f=e.hasOwnProperty(t);if("Object"===n.typeOf(s)&&(u=!!s.required,i=n.isFn(s.default)?s.default():s.default,o=s.type,c=n.isFn(s.validator)?s.validator:c),u&&!f)throw new Error(r+' required set config "'+t+'"');if(f&&!c.call(null,e[t]))throw new Error('the config of "'+t+"\"'s value "+e[t]+" is not instance of "+p.join(","));f||void 0===i||(e[t]=i)}),e})}}return t.prototype.addModifier=function(t,e,r){return this.add("modifier",t,e,r)},t.prototype.addRule=function(t,e,r){return this.add("rule",t,e,r)},t.prototype.setParams=function(t,e){var r={};return"object"==typeof t&&void 0===e?r=t:"string"==typeof t&&(r[t]=e),this.resetValidInfo(),n.deepCopy(this.origParams,r),n.deepCopy(this.params,r),this.validate(),this.origParams},t.prototype.frozen=function(){var t=this.constructorName||this.constructor.name,e=this.params,r=this.origParams,i=this.generateFn,a=this.configOptions;return s[t].define=n.deepCopy({},{params:e,origParams:r,configOptions:a,generateFn:i}),this},t.prototype.reGenerate=function(t){this.generateFn=t},t.prototype.make=function(t){this.validate();var e,r=this.params,i=s[this.constructorName||this.constructor.name],u=i.modifiers,p=i.modifierFns,c="function"==typeof this.generateFn?this.generateFn.call(this,t):this.generate(t),f=u.length;for(e=0;e<f;e++){var l=u[e];if(r.hasOwnProperty(l)){var h=p[l],d=[c,r[l],t];c=h.apply(this,d)}}var g=this.params,v=g.Config,m=g.Func;if(m){var y=m.queue,w=m.params,b=m.fns;for(e=0,f=y.length;e<f;e++){var _=y[e];h=b[e],d=(a[_]?[a[_]]:[]).concat([w[e],o,c,v||{},n.getExpValue]);c=h.apply(t,d)}}return c},t.prototype.add=function(t,e,r,n){var i,a,o=this.constructorName||this.constructor.name,u=s[o],p=u.rules,c=u.ruleFns,f=u.modifiers,l=u.modifierFns;if("rule"===t?(i=p,a=c):(i=f,a=l),i.indexOf(e)>-1)throw new Error(t+" of "+e+" already exists");if(void 0===n||""===n.trim())i.push(e);else{var h=!1;if("^"===n.charAt(0)&&(h=!0,n=n.slice(1)),""===n)i.unshift(e);else{var d=i.indexOf(n);if(d<0)throw new Error("no exists "+t+" name of "+n);i.splice(d+(h?0:1),0,e)}}a[e]=r},t.prototype.validParams=function(){var t=this,e=this.origParams,r=s[this.constructorName||this.constructor.name],n=r.rules,i=r.ruleFns,a=Object.keys(e);return n.map(function(r){try{var n=i[r].call(t,e[r]);"object"==typeof n&&(t.params[r]=n);var o=a.indexOf(r);o>-1&&a.splice(o,1)}catch(e){t.invalidKeys.push("[("+r+")"+e.message+"]")}}),a.length&&console.warn("the params of keys:"+a.join(",")+" has no valid rule."),0===this.invalidKeys.length},t.prototype.validate=function(){var t=this.invalidKeys;if(this.hasValid||(this.isValidOk=this.validParams(),this.hasValid=!0),!this.isValidOk)throw new Error("invalid params:"+t.join(","))},t.prototype.resetValidInfo=function(){this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[]},t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.splitor=":",e.encodeSplitor=n.encodeRegexpChars(e.splitor),e.suchRule=new RegExp("^"+e.encodeSplitor+"([A-Za-z][\\w$-]*)"),e.strRule=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1$/},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,a,o=(i={},(a=function(t,e,r){"function"!=typeof e||r?i[t]=e:n[t]=e}).fns=n={},a.vars=i,a.mockits={},a.alias={},a.aliasTypes=[],a.fileCache={},a.config={},a);e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return Math.random()>=.5},s=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},u=function(t){return t[t.length-1]},p=new(function(){function t(){this.points={d:[[48,57]],w:[[48,57],[65,90],[95],[97,122]],s:[[9,12],[32],[160],[5760],[6158],[8192,8202],[8232,8233],[8239],[8287],[12288],[65279]]},this.lens={d:[10],w:[10,36,37,63],s:[4,5,6,7,8,18,20,21,22,23,24]},this.bigCharPoint=[65536,1114111],this.bigCharTotal=1048576,this.cache={}}return t.prototype.make=function(t,e){var r,n,i;void 0===e&&(e={}),["w","d","s"].indexOf(t)>-1?(n=(r=this.charsetOf(t)).ranges,i=r.totals):(n=(r="."===t?e.s?this.charsetOfDotall():this.charsetOfAll():this.charsetOfNegated(t)).ranges,i=r.totals,e.u&&(n=n.concat([this.bigCharPoint]),i=i.slice(0).concat(this.bigCharTotal)));for(var a,o=u(i),p=s(1,o),c=i.length,f=0;c>1;){var l=Math.floor(c/2),h=i[f+l-1],d=i[f+l];if(p>=h&&p<=d){f+=l-(p===h?1:0);break}p>d?(f+=l+1,c-=l+1):c-=l}return a=n[f][0]+(p-(i[f-1]||0))-1,String.fromCodePoint(a)},t.prototype.charsetOfAll=function(){return this.charsetOfNegated("ALL")},t.prototype.charsetOfDotall=function(){return this.charsetOfNegated("DOTALL")},t.prototype.charsetOfNegated=function(t){var e=this.points,r=this.cache;if(r[t])return r[t];var n=0,i=[],a=[],o=0,s=function(t,e){var r=e-t+1;r<=0||(1===r?i.push([t]):i.push([t,e]),o+=r,a.push(o))};if("DOTALL"===t)s(n,56319),s(57344,65535);else{for(var p="ALL"===t?[[10],[13],[8232,8233]]:e[t.toLowerCase()],c="S"===t?1:0;n<=56319&&p.length>c;){var f=p.shift(),l=f[0],h=f[1];s(n,l-1),n=(h||l)+1}if(n<56319&&s(n,56319),"S"===t){var d=u(p)[0];s(57344,d-1),s(d+1,65535)}else s(57344,65535)}return r[t]={ranges:i,totals:a}},t.prototype.charsetOf=function(t){var e=this.lens;return{ranges:this.points[t],totals:e[t]}},t}()),c={beginWith:"^",endWith:"$",matchAny:".",groupBegin:"(",groupEnd:")",uncapture:"?:",lookahead:"?=",lookaheadNot:"?!",groupSplitor:"|",setBegin:"[",setEnd:"]",rangeSplitor:"-",multipleBegin:"{",multipleEnd:"}",multipleSplitor:",",translate:"\\",leastOne:"+",multiple:"*",optional:"?",setNotIn:"^"},f={i:1,u:2,s:4,g:8,m:16,y:32},l=Object.keys(f).join("");e.parserRule=new RegExp("^/(?:\\\\.|[^\\\\](?!/)|[^\\\\])+?/["+l+"]*"),e.regexpRule=new RegExp("^/((?:\\\\.|[^\\\\](?!/)|[^\\\\])+?)/(["+l+"]*)$");var h=function(){function t(t,r){if(void 0===r&&(r={}),this.rule=t,this.config=r,this.context="",this.flags=[],this.lastRule="",this.queues=[],this.ruleInput="",this.flagsHash={},this.totalFlagBinary=0,this.rootQueues=[],!e.regexpRule.test(t))throw new Error("wrong regexp:"+t);this.rule=t,this.context=RegExp.$1,this.flags=RegExp.$2?RegExp.$2.split(""):[],this.checkFlags(),this.parse(),this.lastRule=this.ruleInput}return t.prototype.setConfig=function(t){this.config=t},t.prototype.build=function(){var t=this.rootQueues,e=a({},this.config,{flags:this.flagsHash,namedGroupData:{},captureGroupData:{},beginWiths:[],endWiths:[]});return t.reduce(function(t,r){return t+r.build(e)},"")},t.prototype.info=function(){var t=this;return{rule:t.rule,context:t.context,lastRule:t.lastRule,flags:t.flags,queues:t.queues}},t.prototype.parse=function(){for(var t=this.context,e=c,r=0,n=t.length,i=[new x],a=[],o=[],s={},p=/^(\?(?:<(.+?)>|<=|<!|=|!|:))/,f=this.hasFlag("u"),l=0,h=null,d=null;r<n;){var g=t.charAt(r++);if((d||h)&&["[","(",")","|","*","?","+","{",".","}","^","$"].indexOf(g)>-1){var v=new P(g);d?(v.parent=d,d.add(v),d=null):(v.parent=h,"^"===g&&h.isSetStart()&&(h.reverse=!0),h.add(v)),i.push(v)}else{var C=t.slice(r),$=u(a),L=u(i),G=null,q=null;switch(g){case e.translate:var B=t.charAt(r++),H=g+B;if("u"===B||"x"===B){var V=(G="x"===B?new D:f?new I:new T).untilEnd(t.slice(r));0===V?G=new j("\\"+B):r+=V}else if("c"===B){var U=t.charAt(r);if(f){if(!/[a-zA-Z]/.test(U))throw new Error("invalid unicode escape,unexpect control character["+r+"]:\\c"+U);G=new O(U),r++}else/\w/.test(U)?(G=new O(U),r++):G=new P("\\")}else if(["d","D","w","W","s","S","b","B"].indexOf(B)>-1)G=new E(H);else if(["t","r","n","f","v"].indexOf(B)>-1)G=new R(H);else if(/^(\d+)/.test(C)){var W=RegExp.$1;if(h)if(/^(0[0-7]{1,2}|[1-7][0-7]?)/.test(W)){var X=RegExp.$1;G=new A("\\"+X),r+=X.length-1}else G=new k("\\"+W.charAt(0));else if("0"===W.charAt(0))G=new b;else{r+=W.length-1,G=new m("\\"+W);var K=o[+W-1];s[W]=K,K?K.isAncestorOf($)?G.ref=null:G.ref=K:G.ref=null}}else G=new k(H);break;case e.groupBegin:if(G=new z,$&&(G.parent=$,$.add(G)),q=new y("groupBegin"),a.push(G),p.test(C)){var Q=RegExp.$1,Y=RegExp.$2;if("?:"===Q);else{if(!Y)throw new Error("do not use any lookahead\\lookbehind:"+Q);G.captureIndex=++l,G.captureName=Y}r+=Q.length}else G.captureIndex=++l;G.captureIndex>0&&o.push(G);break;case e.groupEnd:var J=a.pop();if(!J)throw new Error("unmatched "+g+',you mean "\\'+g+'"?');J.isComplete=!0,(q=new y("groupEnd")).parent=J;break;case e.groupSplitor:(it=u(a))?it.addNewGroup():((G=new z).isRoot=!0,G.addNewGroup(i.slice(0)),i.splice(0,i.length,G),a.push(G),q=new y("groupSplitor"));break;case e.setBegin:/^\\b]/.test(C)?(G=new _,r+=3):h=G=new M,q=new y("setBegin");break;case e.setEnd:h?(h.isComplete=!0,(q=new y("setEnd")).parent=h,h=null):G=new P(g);break;case e.rangeSplitor:if(h)if("special"===L.type&&"setBegin"===L.special)G=new P(g);else if(C.charAt(0)===e.setEnd)h.isComplete=!0,h=null,r+=1;else{var Z=h.pop();(G=new F).add(Z),L.parent=G,q=i.pop(),d=G}else G=new P(g);break;case e.multipleBegin:case e.optional:case e.multiple:case e.leastOne:var tt=(G=g===e.multipleBegin?new N:new S).untilEnd(t.slice(r-1));if(tt>0){var et=L.special||L.type,rt="["+L.input+"]nothing to repeat[index:"+r+"]:"+t.slice(r-1,r-1+tt);if("groupStart"===et||"groupSplitor"===et||"times"===et||"multipleOptional"===et||"begin"===et||"charset"===et&&"b"===L.charset.toLowerCase())throw new Error(rt);if("multipleEnd"===et){if(g!==e.optional)throw new Error(rt);G=new j("\\?"),q=new y("multipleOptional")}else r+=tt-1,g!==e.multipleBegin&&g!==e.optional||(q=new y("multipleEnd")),G.target="groupEnd"===et||"setEnd"===et?L.parent:L}else G=new P(g);break;case e.matchAny:G=new w;break;default:G=new P(g)}if(G){var nt=G;if(i.push(nt),d&&!1===d.isComplete&&d!==G)G.parent=d,d.add(G),d=null;else if(h&&h!==nt)nt.parent=h,h.add(nt);else if(a.length){var it;(it=u(a))!==nt&&(nt.parent=it,it.add(nt))}}q&&(G&&(q.parent=G),i.push(q))}}1===i.length&&"group"===i[0].type&&(((it=i[0]).isRoot=!0)&&(it.isComplete=!0));var at=[],ot="";i.every(function(t){if(!t.isComplete)throw new Error("the regexp segment "+t.type+" is not completed:"+t.input);return null===t.parent&&(at.push(t),ot+=t.getRuleInput()),!0}),this.ruleInput=ot,this.rootQueues=at,this.queues=i},t.prototype.checkFlags=function(){var t,e=this.flags,r=e.length;if(0!==r){if(r>Object.keys(f).length)throw new Error("the rule has repeat flag,please check.");for(var n=e[0],i=f[n],a=((t={})[n]=!0,t),o=1,s=e.length;o<s;o++){var u=e[o],p=f[u];if(0!=(i&p))throw new Error("wrong flag["+o+"]:"+u);i+=p,a[u]=!0}this.flagsHash=a,this.totalFlagBinary=i,(a.y||a.m||a.g)&&console.warn("the flags of 'g','m','y' will ignore,but you can set flags such as 'i','u','s'")}},t.prototype.hasFlag=function(t){var e=this.totalFlagBinary,r=f[t];return r&&0!=(r&e)},t}();e.default=h;var d=function(){function t(t){void 0===t&&(t=""),this.input=t,this.queues=[],this.isComplete=!0,this.parent=null,this.buildForTimes=!1,this.min=1,this.max=1,this.curCodePoint=0,this.dataConf={}}return Object.defineProperty(t.prototype,"codePoint",{get:function(){return this.curCodePoint},set:function(t){this.curCodePoint=t},enumerable:!0,configurable:!0}),t.prototype.setRange=function(t){var e=this;Object.keys(t).forEach(function(r){e[r]=t[r]})},t.prototype.add=function(t,e){},t.prototype.pop=function(){return this.queues.pop()},t.prototype.build=function(t){var e=this,r=this.min,n=this.max,i="";if(0===r&&0===n);else{var a=r+Math.floor(Math.random()*(n-r+1));if(0!==a){var s=function(){var r=e.prebuild(t);return t.flags&&t.flags.i&&(r=o()?o()?r.toLowerCase():r.toUpperCase():r),r};if(this.buildForTimes)for(;a--;)i+=s();else i=s().repeat(a)}}return this.dataConf=t,this.setDataConf(t,i),i},t.prototype.setDataConf=function(t,e){},t.prototype.toString=function(){return this.input},t.prototype.untilEnd=function(t){},t.prototype.isAncestorOf=function(t){do{if(t===this)return!0}while(t=t?t.parent:null);return!1},t.prototype.getRuleInput=function(t){return this.queues.length?this.buildRuleInputFromQueues():this.input},t.prototype.buildRuleInputFromQueues=function(){return this.queues.reduce(function(t,e){return t+e.getRuleInput()},"")},t.prototype.prebuild=function(t){return this.queues.length?this.queues.reduce(function(e,r){return e+r.build(t)},""):""},t}();e.RegexpPart=d;var g=function(t){function e(e){var r=t.call(this,e)||this;return r.min=0,r.max=0,r}return i(e,t),e}(d);e.RegexpEmpty=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.prebuild=function(){return this.input},e}(d);e.RegexpOrigin=v;var m=function(t){function e(e){var r=t.call(this,e)||this;return r.type="reference",r.ref=null,r.index=Number(""+e.slice(1)),r}return i(e,t),e.prototype.prebuild=function(t){var e=this.ref;if(null===e)return"";var r=e.captureIndex;return t.captureGroupData[r]},e}(d);e.RegexpReference=m;var y=function(t){function e(e){var r=t.call(this)||this;return r.special=e,r.type="special",r}return i(e,t),e}(g);e.RegexpSpecial=y;var w=function(t){function e(){var e=t.call(this,".")||this;return e.type="any",e.buildForTimes=!0,e}return i(e,t),e.prototype.prebuild=function(t){return p.make(".",t.flags)},e}(d);e.RegexpAny=w;var b=function(t){function e(){var e=t.call(this,"\\0")||this;return e.type="null",e}return i(e,t),e.prototype.prebuild=function(){return"\0"},e}(d);e.RegexpNull=b;var _=function(t){function e(){var e=t.call(this,"[\\b]")||this;return e.type="backspace",e}return i(e,t),e.prototype.prebuild=function(){return"\b"},e}(d);e.RegexpBackspace=_;var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="begin",e}return i(e,t),e}(g);e.RegexpBegin=x;var O=function(t){function e(e){var r=t.call(this,"\\c"+e)||this;return r.type="control",r.codePoint=parseInt(e.charCodeAt(0).toString(2).slice(-5),2),r}return i(e,t),e.prototype.prebuild=function(){return String.fromCharCode(this.codePoint)},e}(d);e.RegexpControl=O;var E=function(t){function e(e){var r=t.call(this,e)||this;return r.type="charset",r.charset=r.input.slice(-1),r.buildForTimes=!0,r}return i(e,t),e.prototype.prebuild=function(t){var e=this.charset;return"b"===e||"B"===e?(console.warn("please do not use \\b or \\B"),""):p.make(e,t.flags)},e}(d);e.RegexpCharset=E;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="print",e}return i(e,t),e.prototype.prebuild=function(){return this.input},e}(d);e.RegexpPrint=R;var j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ignore",e}return i(e,t),e.prototype.prebuild=function(){return console.warn('the "'+this.input+'" will ignore.'),""},e}(g);e.RegexpIgnore=j;var P=function(t){function e(e){var r=t.call(this,e)||this;return r.type="char",r.codePoint=e.codePointAt(0),r}return i(e,t),e}(v);e.RegexpChar=P;var k=function(t){function e(e){var r=t.call(this,e)||this;return r.type="translate",r.codePoint=e.slice(-1).codePointAt(0),r}return i(e,t),e.prototype.prebuild=function(){return this.input.slice(-1)},e}(v);e.RegexpTranslateChar=k;var A=function(t){function e(e){var r=t.call(this,e)||this;return r.type="octal",r.codePoint=Number("0o"+e.slice(1)),r}return i(e,t),e.prototype.prebuild=function(){return String.fromCodePoint(this.codePoint)},e}(d);e.RegexpOctal=A;var C=function(t){function e(){var e=t.call(this)||this;return e.type="times",e.maxNum=5,e.greedy=!0,e.minRepeat=0,e.maxRepeat=0,e.isComplete=!1,e}return i(e,t),Object.defineProperty(e.prototype,"target",{set:function(t){t.setRange({min:this.minRepeat,max:this.maxRepeat})},enumerable:!0,configurable:!0}),e.prototype.untilEnd=function(t){if(this.rule.test(t)){var e=RegExp.$1;return this.isComplete=!0,this.input=e,this.parse(),e.length}return 0},e}(d);e.RegexpTimes=C;var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\{(\d+)(,(\d*))?})/,e}return i(e,t),e.prototype.parse=function(){var t=RegExp.$2,e=RegExp.$3,r=RegExp.$4;this.minRepeat=parseInt(t,10),this.maxRepeat=Number(r)?parseInt(r,10):e?this.minRepeat+2*this.maxNum:this.minRepeat},e}(C);e.RegexpTimesMulti=N;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\*\?|\+\?|\*|\+|\?)/,e}return i(e,t),e.prototype.parse=function(){var t=RegExp.$1;switch(this.greedy=1===t.length,t.charAt(0)){case"*":this.maxRepeat=this.maxNum;break;case"+":this.minRepeat=1,this.maxRepeat=this.maxNum;break;case"?":this.maxRepeat=1}},e}(C);e.RegexpTimesQuantifiers=S;var M=function(t){function e(){var e=t.call(this)||this;return e.type="set",e.reverse=!1,e.isComplete=!1,e.buildForTimes=!0,e}return i(e,t),e.prototype.add=function(t){this.queues.push(t)},e.prototype.isSetStart=function(){return 0===this.queues.length},e.prototype.getRuleInput=function(){return"["+this.buildRuleInputFromQueues()+"]"},e.prototype.prebuild=function(t){var e=s(0,this.queues.length-1);return this.queues[e].build(t)},e}(d);e.RegexpSet=M;var F=function(t){function e(){var e=t.call(this)||this;return e.type="range",e.isComplete=!1,e}return i(e,t),e.prototype.add=function(t){1===this.queues.length&&(this.isComplete=!0),this.queues.push(t)},e.prototype.getRuleInput=function(){var t=this.queues,e=t[0],r=t[1];return e.getRuleInput()+"-"+r.getRuleInput()},e.prototype.prebuild=function(){var t=this.queues,e=t[0],r=t[1],n=e.codePoint,i=r.codePoint;return String.fromCodePoint(s(n,i))},e}(d);e.RegexpRange=F;var $=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hexcode",e}return i(e,t),e.prototype.untilEnd=function(t){var e=this.rule,r=this.codeType;if(e.test(t)){var n=RegExp.$1,i=RegExp.$2||n;this.codePoint=Number("0x"+i),this.input="\\"+r+n}return 0},e}(v);e.RegexpHexCode=$;var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{4})/,e.codeType="u",e}return i(e,t),e}($);e.RegexpUnicode=T;var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^({([0-9A-Fa-f]{4}|[0-9A-Fa-f]{6})}|[0-9A-Fa-f]{2})/,e.codeType="u",e}return i(e,t),e}($);e.RegexpUnicodeAll=I;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{2})/,e.codeType="x",e}return i(e,t),e}($);e.RegexpASCII=D;var z=function(t){function e(){var e=t.call(this)||this;return e.type="group",e.captureIndex=0,e.groupIndex=0,e.captureName="",e.isRoot=!1,e.groups=[[]],e.curRule=null,e.isComplete=!1,e.buildForTimes=!0,e}return i(e,t),e.prototype.addNewGroup=function(t){var e=this.groups;t&&(e[e.length-1]=t),this.groups.push([])},e.prototype.add=function(t){var e=this.groups;u(e).push(t)},e.prototype.isGroupStart=function(){return 0===this.groups[this.groups.length-1].length},e.prototype.getRuleInput=function(t){var e=this,r=this.groups,n=this.captureIndex,i=this.isRoot,a="";return 0===n&&(a="?:"+a),a+=r.map(function(r){return 0===r.length?"":r.reduce(function(r,n){return r+(t&&"reference"===n.type&&null!==n.ref?n.ref.getRuleInput(t):e.isEndLimitChar(n)?"":n.getRuleInput(t))},"")}).join("|"),i?a:"("+a+")"},e.prototype.buildRule=function(t){if(this.curRule)return this.curRule;var e=this.getRuleInput(!0),r=Object.keys(t).join("");return new Function("","return /^"+e+"$/"+r)()},e.prototype.prebuild=function(t){var e=this,r=this.groups,n=this.captureIndex,i=this.captureName,a="",o=t.flags,u=t.namedGroupConf,p=r.length,c=function(){var t=[];if(i&&i.indexOf(":")>-1&&u){var e=i.split(":");if(e.length===p){var n=[],a=[];e.forEach(function(t,e){"boolean"==typeof u[t]&&(!0===u[t]?a:n).push(e)});var o=[];if(a.length)o=a;else if(n.length&&n.length<p)for(var s=0;s<p;s++)n.indexOf(s)<0&&o.push(s);o.length&&(t=o.map(function(t){return r[t]}))}}return t}();if(i&&u&&u[i]){var f=this.buildRule(o),l=s(0,u[i].length-1);if(a=u[i][l],!f.test(a))throw new Error("the namedGroupConf of "+i+"'s value \""+a+'" is not match the rule '+f.toString())}else{var h=c.length?c:r,d=h[l=s(0,h.length-1)];a=0===d.length?"":d.reduce(function(r,n){var i;return e.isEndLimitChar(n)?(console.warn("the ^ and $ of the regexp will ignore"),i=""):i=n.build(t),r+i},"")}return i&&(t.namedGroupData[i]=a),n&&(t.captureGroupData[n]=a),a},e.prototype.isEndLimitChar=function(t){return"char"===t.type&&("^"===t.input||"$"===t.input)},e}(d);e.RegexpGroup=z},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(7);i.default.config(n.default),window.Such=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={types:{integer:["number","%d"],percent:["number","[0,100]:%d%"],chinese:["string","[\\u4E00,\\u9FA5]"],uppercase:["string","[65,90]"],lowercase:["string","[97,122]"],alphaNumericDash:["string","[48-57,97-122,65-90,95]"],url:["regexp","/(?<protocol>http|https|ftp|sftp|mailto|telnet|pop|smb|sms|ssh|mid):\\/\\/(?<domain>(?:[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<ltd>com|cn|com\\.cn|org|net|gov\\.cn|wang|ren|xyz|top|cc|io))\\/(?<pathname>(?:[0-9a-z]+\\/)*(?<filename>\\w+(?<extname>\\.(?:html|htm|php|do)))?)(?<query>\\?([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})&)*([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})))(?<hash>#[0-9a-z_=]{5,})?/"],email:["regexp","/(?<user>(?:[a-z0-9]+(?:[-_]?[a-z0-9]+|[a-z0-9]*)))@(?<domain>(?:[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<ltd>com|cn|com\\.cn|org|net|gov\\.cn|wang|ren|xyz|top|cc|io))/"],boolean:function(t){return t.such.utils.isOptional()},color$hex:function(t){return"#"+t.such.utils.makeRandom(0,16777215).toString(16).toUpperCase()},color$rgb:function(t){var e=t.such.as(":int[0,255]",{instance:!0});return"rgb("+[e.a(),e.a(),e.a()].join(",")+")"},color$rgba:function(t){var e=t.such,r=e.as(":int[0,255]",{instance:!0}),n=e.as(":number[0,1]:%.2f");return"rgba("+[r.a(),r.a(),r.a(),n||0].join(",")+")"},color$hsl:function(t){var e=t.such,r=e.as(":int[0,360]"),n=e.as(":percent",{instance:!0});return"hsl("+[r,n.a(),n.a()].join(",")+")"},color$hsla:function(t){var e=t.such,r=e.as(":int[0,360]"),n=e.as(":percent",{instance:!0}),i=e.as(":number[0,1]:%.2f");return"hsla("+[r,n.a(),n.a(),i||0].join(",")+")"}},alias:{int:"integer",bool:"boolean"}}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),o=r(8),s=r(0),u=r(9),p=r(1),c=r(18),f=r(3),l=s.capitalize,h=s.isFn,d=s.isOptional,g=s.makeRandom,v=s.map,m=s.typeOf,y=s.deepCopy,w=s.isNoEmptyObject,b=f.default.alias,_=f.default.aliasTypes,x={};v(u,function(t,e){0!==e.indexOf("_")&&(x[e]=t)});var O=function(){function t(e,r,n){var i=this;this.config={};var o=e.target,s=e.path,u=e.config,p=e.parent;this.target=o,this.path=s,this.config=u||{},this.isRoot=0===s.length,this.isRoot?(this.instances=r,this.datas=n,this.root=this,this.parent=this):(this.parent=p,this.root=p.root);var f=m(this.target).toLowerCase(),l=this.config,h=l.min,v=l.max,y=l.oneOf,w=l.alwaysArray,_=this.root,O=_.instances,R=_.datas,j=!isNaN(h);if(this.dataType=f,"array"===f){var P=o.length-1,k=function(e){e="number"==typeof e?e:g(0,P);var r=s.concat(e),n=O.get(r);return n instanceof t||(n=new t({target:o[e],path:r,parent:i}),O.set(r,n)),n};if(j){var A,C=function(e,r,n){var i=[],a=r instanceof t?function(t){return r}:function(t){return r[t]};n="number"==typeof n?n:g(h,v);for(var o=0;o<n;o++){var s=a(o),u=e.concat(o),p=s.mock(u);i[o]=p,R.set(u,p)}return i},N=function(t,e,r){var n;if(r>1)throw new Error("optional func of the total param can not more than 1");return 1===r&&(n=e.mock(t)),R.set(t,n),n};if(y)A=w?C:function(t,e){var r=g(h,v);return r<=1?N(t,e,r):C(t,e,r)},this.mockFn=function(t){var e=k();return A(t,e)};else{var S=function(t,e){e=isNaN(e)?g(h,v):e;var r=Array.apply(null,new Array(e)).map(function(){return k()});return C(t,r,e)};this.mockFn=w||h>1?function(t){return S(t)}:function(t){var e=g(h,v);return e<=1?N(t,k(),e):S(t,e)}}}else{var M=o.map(function(t,e){return k(e)});this.mockFn=function(t){var e=[];return M.map(function(r,n){var i=t.concat(n),a=r.mock(i);e[n]=a,R.set(i,a)}),e}}}else if("object"===f){var F=Object.keys(o).map(function(e){var r=o[e],n=t.parseKey(e);return{key:n.key,target:r,config:n.config}});this.mockFn=function(e){var r={},n=i.path;return F.map(function(a){var o=a.key,s=a.config,u=a.target,p=s.optional,c=n.concat(o),f=e.concat(o);if(p&&d());else{var l=O.get(c);l instanceof t||(l=new t({target:u,config:s,path:c,parent:i}),O.set(c,l));var h=l.mock(f);r[o]=h,R.set(f,h)}}),r}}else{if("string"===f){var $=o.match(a.suchRule),T=$&&$[1];if(T){var I=b[T]?b[T]:T;if(x.hasOwnProperty(I)){this.type=I;var D=new(0,x[I]),z=o.replace($[0],"").replace(/^\s*:\s*/,"");if(""!==z){var L=c.default.parse(z);D.setParams(L)}return this.mockit=D,void(this.mockFn=function(t){return D.make({datas:R,dpath:t,such:E})})}}}this.mockFn=function(t){return o}}}return t.parseKey=function(t){var e,r={};if((e=t.match(/(\??)(:?)(?:\{(\d+)(?:,(\d+))?}|\[(\d+)(?:,(\d+))?])?$/)).length&&""!==e[0]){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],p=e[6],c=void 0!==u,f=void 0!==o;if(r.optional="?"===i,r.oneOf=":"===a,r.alwaysArray=c,f||c){var l=f?o:u,h=f?s:p;if(void 0===h&&(h=l),Number(h)<Number(l))throw new Error("the max of "+h+" is less than "+l);r.min=Number(l),r.max=Number(h)}else r.oneOf&&(r.min=r.max=1);t=t.slice(0,-n.length)}return{key:t,config:r}},t.prototype.setParams=function(t){if(this.mockit)return this.mockit.setParams("string"==typeof t?c.default.parse(t):t);throw new Error("This mocker is not the mockit type.")},t.prototype.mock=function(t){var e=this.config.optional;if(!(this.isRoot&&e&&d()))return this.mockFn(t)},t}();e.Mocker=O;var E=function(){function t(t,e){this.initail=!1,this.target=t,this.instances=new o.default(!1),this.datas=new o.default(!0),this.mocker=new O({target:t,path:[],config:e&&e.config},this.instances,this.datas)}return t.alias=function(t,e){if(""===t||""===e||t===e)throw new Error("wrong alias params:["+t+"]["+e+"]");if(_.indexOf(e)>-1)throw new Error('the type of "'+e+'" has an alias yet,can not use "'+t+'" for alias name.');b[t]=e,_.push(e)},t.config=function(e){var r=e.parsers,n=e.types,i=e.globals,a={parsers:"parser",types:"define",globals:"assign"},o={},s=t;if(e.extends&&"function"==typeof s.loadConf){var u="string"==typeof e.extends?[e.extends]:e.extends;s.loadConf(u).map(function(t){delete t.extends,y(o,t)})}y(o,{parsers:r||{},types:n||{},globals:i||{}}),Object.keys(o).map(function(t){var e=o[t],r=a[t]||t;Object.keys(e).map(function(t){var n="Array"===m(e[t])?e[t]:[e[t]];s[r].apply(s,[t].concat(n))})})},t.parser=function(t,e){var r=e.config,n=e.parse,i=e.setting;return c.default.addParser(t,r,n,i)},t.as=function(e,r){var n=new t(e,r);return r&&r.instance?n:n.a()},t.assign=function(t,e,r){void 0===r&&(r=!1),f.default(t,e,r)},t.define=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.length;if(0===n||n>2)throw new Error('the static "define" method\'s arguments is not right.');var a=e.pop(),o=2===n&&"string"==typeof a?{param:a}:1===n&&"function"==typeof a?{generate:a}:a,s=o.param,u=o.init,f=o.generateFn,d=o.generate,g=o.configOptions,v="string"==typeof s?c.default.parse(s):{},m="To"+l(t);if(x.hasOwnProperty(t))throw new Error('the type "'+t+'" has been defined yet.');var b=void 0;if(2===n){var _=e[0],O=x[_];if(!O)throw new Error('the defined type "'+t+'" what based on type of "'+_+'" is not exists.');b=function(t){function e(){return t.call(this,m)||this}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),w(g)&&(this.configOptions=y({},this.configOptions,g)),h(u)&&u.call(this),h(f)&&this.reGenerate(f),w(v)&&this.setParams(v),this.frozen()},e}(O)}else b=function(t){function e(){return t.call(this,m)||this}return i(e,t),e.prototype.init=function(){w(g)&&(this.configOptions=y({},this.configOptions,g)),h(u)&&u.call(this),w(v)&&this.setParams(v,void 0),this.frozen()},e.prototype.generate=function(t){return d.call(this,t)},e.prototype.test=function(){return!0},e}(p.default);x[t]=b},t.prototype.a=function(){return this.initail?this.datas.clear():this.initail=!0,this.mocker.mock([])},t.utils=s,t}();e.default=E},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t){this.isPlain=t,this.result=null,this.initial=!1}return t.prototype.set=function(t,e){var r=n.typeOf(e),i=t.length;if(!this.isPlain||"Array"!==r&&"Object"!==r){this.initial||(this.result="number"==typeof t[0]?[]:{},this.initial=!0);for(var a=this.result,o=0;o<i-1;o++){var s=t[o],u=t[o+1];a[s]||(a[s]="number"==typeof u?[]:{}),a=a[s]}return a[t[o]]=e,this}},t.prototype.get=function(t){var e=this.result;try{for(var r=0,n=t.length;r<n;r++){e=e[t[r]]}}catch(t){}return e},t.prototype.clear=function(){this.result=null,this.initial=!1},t.prototype.has=function(t){for(var e=this.result,r=!0,i=0,a=t.length;i<a;i++){var o=t[i];if(!(r="number"==typeof o?"Array"===n.typeOf(e)&&e.length>o:"Object"===n.typeOf(e)&&e.hasOwnProperty(o)))break;e=e[o]}return r},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10);e.number=n.default;var i=r(12);e.string=i.default;var a=r(13);e.regexp=a.default;var o=r(14);e.date=o.default;var s=r(16);e.ref=s.default;var u=r(17);e.id=u.default},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(11),o=r(0),s=r(1),u=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.configOptions={step:{type:Number}},this.addRule("Count",function(t){if(t){var e=t.range,r=e.length;if(2!==r)throw new Error(r<2?"the count param must have the min and the max params":"the count param length should be 2,but got "+r);var n=e[0],i=e[1];if(n=n.trim(),i=i.trim(),""===n&&""===i)throw new Error("the min param and max param can not both undefined");if(""===n&&(n=Number.MIN_SAFE_INTEGER||Number.MIN_VALUE),""===i&&(i=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),isNaN(n))throw new Error("the min param expect a number,but got "+n);if(isNaN(i))throw new Error("the max param expect a number,but got "+i);var a=Number(n),o=Number(i);if(a>o)throw new Error("the min number "+n+" is big than the max number "+i);return{range:[a,o]}}}),this.addRule("Format",function(t){if(t){var e=t.format;if(!a.rule.test(e))throw new Error("Wrong format rule("+e+")")}}),this.addModifier("Format",function(t,e){return a.default(e.format,t)})},e.prototype.generate=function(){var t,e=this.params,r=e.Count,n=e.Config;if(r){var i=r.range,a=n&&n.step,s=i[0],u=i[1];if(a){var p=Math.floor((u-s)/a);if(p>0)return+s+a*(0+Math.floor(Math.random()*(p-0)))}t=+s+(u-s)*function(t){var e=Number.EPSILON||Math.pow(2,-52);switch(t){case 2:return 1-Math.random();case 3:return(1+e)*Math.random();case 0:return(1-e)*(1-Math.random());case 1:default:return Math.random()}}(3)}else t=Math.random()*Math.pow(10,Math.floor(10*Math.random())),t=o.isOptional()?-t:t;return t},e.prototype.test=function(){return!0},e}(s.default);e.default=u},function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.rule=/^%([#\-+0 ]*)?([1-9]\d*)?(?:\.(\d+))?([dfeEoxXi])(%)?$/,"function"!=typeof String.prototype.padStart&&(n=function(t,e,r,n){void 0===r&&(r=" "),void 0===n&&(n=!0);var i=t.length;if(i>=e||""===r)return t;for(var a=r.length,o=e-i,s="";o>a;)s+=r,o-=a;return s+=r.slice(0,o),n?s+t:t+s},String.prototype.padStart=function(t,e){return void 0===e&&(e=""),n(this,t,e)},String.prototype.padEnd=function(t,e){return void 0===e&&(e=""),n(this,t,e,!1)});var i=function(t,r){if("number"!=typeof r)throw new Error("the second param must be a number["+r+"]");var n,a="string"==typeof t?function(t){var r;if(null!==(r=t.match(e.rule))){var n={align:"right",type:"",fill:" ",prefix:"",digits:6,minWidth:1,hash:!1,percent:!1},i=(r[0],r[1]),a=r[2],o=r[3],s=r[4],u=r[5],p=["f","e","E"].indexOf(s)>-1;if(void 0!==o&&!p)throw new Error('the type of "'+s+'" should not have a percision width');if(n.type=s,n.digits=void 0!==o?+o:n.digits,n.minWidth=void 0!==a?+a:n.minWidth,n.percent="%"===u,void 0!==i)for(var c=i.split(""),f=void 0,l="";void 0!==(f=c.shift());){if(l.indexOf(f)>-1)throw new Error("repeated flag of ("+f+")");switch(l+=f,f){case"+":n.prefix="+";break;case" ":"+"!==n.prefix&&(n.prefix=" ");break;case"0":"left"!==n.align&&(n.fill="0");break;case"-":n.align="left",n.fill=" ";break;case"#":n.hash=!0}}return n}throw new Error("wrong format param")}(t):t,o="f"===a.type;switch(a.type){case"d":case"i":case"f":if(o){var s=Math.pow(10,a.digits);n=Math.round(r*s)/s}else n=Math.round(r);if(n<0?(a.prefix="-",n=n.toString().slice(1)):n=n.toString(),o){var u=n.split(".");n=u[0]+(a.digits?"."+(u[1]||"0").padEnd(a.digits,"0"):"")}break;case"o":case"x":case"X":if((n=r>0?Math.floor(r):Math.ceil(r))<0&&(a.prefix="-"),"o"===a.type)n=Math.abs(n).toString(8),n=a.hash?"0"+n:n.toString();else{n=Math.abs(n).toString(16);var p="X"===a.type;a.hash&&(a.prefix+=p?"0X":"0x"),p&&(n=n.toUpperCase())}break;case"e":case"E":var c=Math.floor(Math.log10(r)),f=c.toString();return c<0?c>=-9&&(f="-0"+f.charAt(1)):(c<=9&&(f="0"+f),f="+"+f),f=a.type+f,i(Object.assign({},a,{type:"f",minWidth:a.minWidth-f.length,percent:!1}),r/Math.pow(10,c))+f+(a.percent?"%":"")}var l=a.minWidth,h="right"===a.align?"padStart":"padEnd";return n="0"===a.fill?a.prefix+n[h](l-a.prefix.length,a.fill):(a.prefix+n)[h](l,a.fill),a.percent&&(n+="%"),/^(?:[+ ]|0(?!\.\d+|$)|-(?![1-9]))|[ %0]$/.test(n)?n:Number(n)};e.default=i},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),o=r(1),s=/^\\u((?:[0-9a-fA-F]{4}|[0-9a-fA-F]{6}))$/,u=/^\d+$/,p=function(t){return Number("0x"+t)},c=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Count",function(t){if(t){var e=t.range;if(e.length<2)throw new Error("The count param should have 2 params,but got "+e.length);var r=e[0],n=e[1],i=s.test(r),a=[];if(i||u.test(r)){var o=void 0,c=void 0;if(e.length>2)throw new Error("the count of range should have just 2 params,if you want support some specail point code,you can set the param like this,["+r+"-"+r+",...]");if(i){if(o=p(RegExp.$1),!s.test(n))throw new Error('the max param "'+n+'" should use unicode too.');c=p(RegExp.$1)}else{if(o=Number(r),!u.test(n))throw new Error('the max param "'+n+'" is not a number.');c=Number(n)}if(c<o)throw new Error("the min param '"+r+"' is big than the max param '"+n+"'");if(c>1114111)throw new Error("the max param's unicode point is big than the max point ("+n+" > '0x10ffff')");a.push([o,c])}else{var f=/^\\u([0-9a-fA-F]{4}|[0-9a-fA-F]{6})\-\\u([0-9a-fA-F]{4}|[0-9A-Fa-f]{6})$/,l=/^(\d+)\-(\d+)$/;e.map(function(t,e){var r,n,i,o=!0;if(r=t.match(f))n=p(r[1]),i=p(r[2]);else if(r=t.match(l))n=Number(r[1]),i=Number(r[2]);else{if(!(e>0&&(r=t.match(u))))throw new Error("the param of index "+e+"("+t+") is a wrong range or number.");o=!1,n=i=Number(r[0])}if(o&&i<n)throw new Error("the param of index "+e+"'s range is wrong.("+r[1]+" > "+r[2]+")");if(i>1114111)throw new Error("the param of index "+e+"'s code point("+i+") is big than 0x10ffff");a.push([n,i])})}return{range:a}}}),this.addRule("Length",function(t){if(t){var e=t.least,r=t.most;if(isNaN(e))throw new Error("The length param of least expect a number,but got "+e);if(isNaN(r))throw new Error("The length param of most expect a number,but got "+r);if(Number(e)>Number(r))throw new Error("The length param of least  "+e+" is big than the most "+r)}})},e.prototype.generate=function(){for(var t=this.params,e=t.Length||{least:1,most:100},r=e.least,n=e.most,i=(t.Count||{range:[[0,127]]}).range,o=i.length-1,s=a.makeRandom(Number(r),Number(n)),u="",p=1;p<=s;p++){var c=i[a.makeRandom(0,o)],f=c[0],l=c[1],h=a.makeRandom(f,l);u+=String.fromCodePoint(h)}return u},e.prototype.test=function(){return!0},e}(o.default);e.default=c},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(4),o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Regexp",function(t){if(!t)throw new Error("the regexp type must has a regexp rule.");var e=t.rule;if(!a.regexpRule.test(e))throw new Error("wrong regexp expression")}),this.addRule("Config",function(t){if(t){var e={},r=/(.?)\|/g;return Object.keys(t).forEach(function(n){var i=t[n];if("string"==typeof i){for(var a=void 0,o=[],s=[],u=0;null!==(a=r.exec(i));)"\\"===a[1]?o.push(i.slice(u,r.lastIndex)):(s.push(o.join("")+i.slice(u,r.lastIndex-1)),o=[]),u=r.lastIndex;u<i.length&&s.push(i.slice(u,i.length)),e[n]=s}else e[n]=i}),e}})},e.prototype.generate=function(){var t=this.instance,e=this.params,r=e.Config,n=e.Regexp;return t||(t=this.instance=new a.default(n.rule,{namedGroupConf:r||{}})),t.build()},e.prototype.test=function(){return!0},e}(r(1).default);e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),o=r(15),s=r(0),u=r(1),p=function(t){var e;if(isNaN(t)){if(!a.strRule.test(t))throw new Error("invalid date:"+t);e=o.strtotime(RegExp.$2)}else e=new Date(t);return e},c=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Count",function(t){if(t){var e=t.range;if(2!==e.length)throw new Error("the time range should supply 2 arguments,but got "+e.length);var r=e[0],n=e[1],i=p(r),a=p(n),o=i.getTime(),s=a.getTime();if(s<o)throw new Error("the time range of start time "+r+" is big than end time "+n+".");return{range:[o,s]}}}),this.addRule("Format",function(t){if(!t)return{format:"yyyy-mm-dd"};var e=t.format;return{format:e=s.decodeTrans(e.slice(1))}}),this.addModifier("Format",function(t,e){var r=e.format;return o.dateformat(r,t)})},e.prototype.generate=function(){var t=this.params.Count.range,e=s.makeRandom(t[0],t[1]);return new Date(e)},e.prototype.test=function(){return!0},e}(u.default);e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(t){return void 0===t?new Date:t instanceof Date?t:new Date(t)},a=function(t,e,r){var n=new Date,i=n.getFullYear().toString();t=t||i,e=e||(n.getMonth()+1).toString(),r=r||n.getDate().toString();var a=[t=(t.length<4?i.slice(0,i.length-t.length):"")+t,e,r].join("/")+" 00:00:00";return new Date(a)};e.strtotime=function(t){if(isNaN(t)){if("string"==typeof t){var e=void 0;try{if(e=new Date(t),isNaN(+e))throw new Error("invalid date")}catch(r){try{e=function(t,e){var r,o=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],s=["january","february","march","april","may","june","july","august","september","october","november","december"],u=new RegExp("^("+o.concat(s).join("|")+")(?:\\s+|\\.)(?:(([13]?1)(?:st)?|([12]?2)(?:nd)?|([12]?3)(?:rd)?|([12]0|[12]?[4-9])(?:th)?|(30)th))(?:\\s*,\\s*(\\d{2}|\\d{4}))?$"),p=/([+-]?\d+)\s+(day|month|week|year)s?/g,c=new Date;if(""===(t=t.toLowerCase()))return c.setHours(0,0,0,0),c;if(r=t.match(/^(\d{4})([-\/.])(\d{1,2})\2(\d{1,2})$/))return a(r[1],r[3],r[4]);if(r=t.match(/^(today|yesterday|tomorrow)$/)){var f={today:0,tomorrow:1,yesterday:-1},l=r[1];return e?(e=i(e),f[l]&&e.setDate(e.getDate()+f[l]),e.setHours(0,0,0,0),e):a(null,null,f[l]?(c.getDate()+f[l]).toString():null)}if(r=t.match(/^(\d{4})(\d{1,2})(\d{1,2})$/))return a.apply(null,r.slice(1,4));if(r=t.match(/^(\d{1,2})\/(\d{1,2})(?:\/(\d{2}|\d{4})?)$/))return a(r[4],r[1],r[2]);if(r=t.match(u)){var h=r[1],d=r[3],g=r[8],v=o.indexOf(h),m=s.indexOf(h);return h=v>-1?(v+1).toString():(m+1).toString(),a(g,h,d)}if(r=t.match(/^(([+-]?\d+)\s+(day|month|week|year)s?(\s+(?!$)|))+?(\s+ago)?$/)){for(var y=r[5]?"-":"",w=null,b={year:[],month:[],day:[],week:[]},_={year:0,month:0,day:0,week:0,date:0,fullYear:0};null!==(w=p.exec(t));){var x=w[2],O=w[1];b[x].push("("+O+")")}Object.keys(b).map(function(t){var e=b[t];e.length?_[t]=new Function("","return "+y+"("+e.join("+")+")")():_[t]=0}),_.date=7*_.week+_.day,_.fullYear=_.year;for(var E=["date","month","fullYear"],R=i(e),j=0,P=E.length;j<P;j++){O=_[l=E[j]];var k=n.capitalize(l);if(O){var A=R["get"+k]();try{R["set"+k](A+O)}catch(t){throw t}}}return R}throw new Error("can not parse the date!")}(t)}catch(t){throw t}}return e}throw new Error("invalid date:"+t)}return new Date(+t)};var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u={d:function(){return this.getDate()},dd:function(){return p("d",this)},dddd:function(){return o[this.getDay()]},ddd:function(){return u.dddd.call(this).slice(0,3)},m:function(){return this.getMonth()+1},mm:function(){return p("m",this)},mmmm:function(){return s[this.getMonth()]},mmm:function(){return u.mmmm.call(this).slice(0,3)},yyyy:function(){return this.getFullYear().toString().padStart(4,"0")},yy:function(){return this.getFullYear().toString().slice(-2).padStart(2,"0")},h:function(){return this.getHours()%12},hh:function(){return p("h",this)},H:function(){return this.getHours()},HH:function(){return p("H",this)},M:function(){return this.getMinutes()},MM:function(){return p("M",this)},s:function(){return this.getSeconds()},ss:function(){return p("s",this)},l:function(){return this.getMilliseconds().toString().padStart(3,"0")},L:function(){return Math.round(this.getMilliseconds()/10).toString().padStart(2,"0")},tt:function(){return this.getHours()>=12?"pm":"am"},t:function(){return u.tt.call(this).charAt(0)},TT:function(){return this.getHours()>=12?"PM":"AM"},T:function(){return u.TT.call(this).charAt(0)},S:function(){return["st","nd","rd"][this.getDate()%10-1]||"th"},N:function(){return this.getDay()||7}},p=function(t,e){return u[t].call(e).toString().padStart(2,"0")};e.dateformat=function(t,e){return t.replace(/[A-Za-z]*/g,function(t){return u[t]?u[t].call(e):t})}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Path",function(t){if(!t)throw new Error("the ref type must has a path param.")})},e.prototype.generate=function(t){var e=t.datas,r=t.dpath,n=this.params.Path,i=[],a=!0;return n.map(function(t){var n;if(t.relative?r.length<t.depth+1?a=!1:n=r.slice(0,-(1+t.depth)).concat(t.path):n=t.path,!a||!e.has(n))throw new Error('the path of "'+(n?"/"+n.join("/"):t.fullpath)+'" is not exists in the datas.');i.push(e.get(n))}),1===n.length?i[0]:i},e.prototype.test=function(){return!0},e}(r(1).default);e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.configOptions={step:{type:Number,default:1},start:{type:Number,default:1}}},e.prototype.generate=function(t){for(var e=t.dpath,r=this.params.Config||{},n=r.start,i=r.step,a=e.length;a--;){var o=e[a];if("number"==typeof o)return n+i*o}return n},e.prototype.test=function(){return!0},e}(r(1).default);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(19),a=new(r(27).Dispatcher);n.map(i,function(t,e){0!==e.indexOf("_")&&a.addParser(e,t.config,t.parse,t.setting||{})}),e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(20);e.Count=n.default;var i=r(21);e.Length=i.default;var a=r(22);e.Format=a.default;var o=r(23);e.Config=o.default;var s=r(24);e.Func=s.default;var u=r(25);e.Regexp=u.default;var p=r(26);e.Path=p.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["["],endTag:["]"],separator:","},parse:function(){return{range:this.info().params}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["{"],endTag:["}"],separator:","},parse:function(){var t=this.info().params;return t.length>2?this.halt("The length should not have more than 2 params"):{least:t[0],most:t[t.length-1]}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["%"],endTag:[]},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("wrong format param:"+t.join("")):{format:t[0]}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),i=r(0),a={config:{startTag:["#["],endTag:["]"],separator:","},parse:function(){var t=this.info().params,e={};if(t.length)for(var r=/^\s*([$\w]+)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|(.+))\s*)?$/,a=["true","false","null","undefined"],o=0,s=t.length;o<s;o++){var u=t[o];if(r.test(u)){var p=RegExp.$1,c=RegExp.$3,f=RegExp.$4;if(e.hasOwnProperty(p))throw new Error('the config of "'+p+'" has exists,do not define again.');if(c)e[p]=i.decodeTrans(c);else if(f){var l=f;"/"===l.charAt(0)?n.regexpRule.test(l)?e[p]=i.getExp(l):this.halt("wrong regexp:"+l):isNaN(Number(l))?a.indexOf(l)>-1?e[p]=i.getExp(l):this.halt("wrong param:"+u):e[p]=Number(l)}else e[p]=!0}else this.halt("the config params of index "+o+' "'+u+'" is wrong,please check it.')}return e},setting:{frozen:!1}};e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0),a=r(3).default.fns,o={config:{startTag:["@"],endTag:[],separator:"|",pattern:/^([a-z][\w$]*)(?:\(((?:(?:(['"])(?:(?!\3)[^\\]|\\.)*\3|[\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)\s*(?:,(?!\s*\))|(?=\s*\)))\s*)*)\)|)/,rule:new RegExp("^@(?:[a-z][\\w$]*(?:\\((?:(?:(['\"])(?:(?!\\1)[^\\\\]|\\\\.)*\\1|[\\w$]+(?:\\.[\\w$]+|\\[(?:(['\"])(?:(?!\\2)[^\\\\]|\\.)*\\2|\\d+)\\])*)\\s*(?:,(?!\\s*\\))|(?=\\s*\\)))\\s*)*\\)|)(?:\\|(?!$|"+n.encodeSplitor+")|(?=\\s*$|"+n.encodeSplitor+")))*")},parse:function(){var t=this.info(),e=t.patterns,r=t.code,n={queue:[],fns:[],params:[],options:[]};if(e.length){var o=/(['"])((?:(?!\1)[^\\]|\\.)*)\1|([\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)/g,s=["true","false","undefined","null","NaN"];return e.forEach(function(t){t[0];var e=t[1],r=t[2],u=[];if(r)for(var p=null;null!==(p=o.exec(r));){var c=p[3],f={};c?s.indexOf(c)>-1||!isNaN(c)?f.value=i.getExp(c):(f.value=c,f.variable=!0):f.value=p[2],u.push(f)}n.queue.push(e);var l={name:e,params:u};n.options.push(l);var h=function(t){var e=t.name,r=t.params,n=a.hasOwnProperty(e),i=n?"__FN__":"__RESULT__."+e,o=n?[i]:[],s=n?["__RESULT__"]:[],u=[],p=0;return r.forEach(function(t){var e=t.value;if(t.variable){var r=e.indexOf(".")>-1||e.indexOf("[")>-1;s.push(r?'__EXP__(__CONFIG__,"'+e+'")':'__CONFIG__.hasOwnProperty("'+e+'") ? __CONFIG__["'+e+'"] : __VARS__["'+e+'"]')}else u.push(e),s.push("__ARGS__["+p+++"]")}),{fn:new Function(o.concat("__ARGS__","__VARS__","__RESULT__","__CONFIG__","__EXP__").join(","),n?"return "+i+".apply(this,["+s.join(",")+"]);":"return "+i+"("+s.join(",")+")"),param:u}}(l),d=h.fn,g=h.param;n.fns.push(d),n.params.push(g)}),n}this.halt('no modify functions find in "'+r+'"')}};e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["/"],endTag:[],rule:r(4).parserRule},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("invalid regexp rule:"+t.join("")):{rule:t[0]}}};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i={config:{startTag:["&"],endTag:[],separator:",",pattern:new RegExp("^(?:(\\.(?:\\/(?=\\.)|))?((?:\\.\\.(?:\\/(?=\\.)|))*)|<(\\w+)>)((?:\\/(?:\\\\.|[^,\\\\"+n.encodeSplitor+"\\/])+)+)"),rule:new RegExp("^&(?:(?:(?:\\.(?:\\/(?=\\.)|))?(?:\\.\\.(?:\\/(?=\\.)|))*|<(\\w+)>)(?:\\/(?:\\\\.|[^,\\\\"+n.encodeSplitor+"\\/])+)+?(?:,(?=\\/|\\.)|(?=$|"+n.encodeSplitor+")))+")},parse:function(){var t=this.info(),e=t.patterns,r=t.code;e.length||this.halt("no path params found:"+r);var n=[];return e.forEach(function(t){var e=t[0],r=t[1],i=t[2],a=t[3],o=!(!i&&!r),s={relative:o,path:t[4].split("/").slice(1),depth:o&&i?i.split("/").length:0,fullpath:e,variable:a};n.push(s)}),n}};e.default=i},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),s=r(0),u=function(){function t(){this.patterns=[],this.code="",this.setting={frozen:!0},this.defaults={params:[],patterns:[],code:"",tags:{start:"",end:""}},this.init()}return t.prototype.init=function(){var t=this,e=this.defaults;return Object.keys(e).forEach(function(r){t[r]=e[r]}),this},t.prototype.info=function(){return{tags:this.tags,params:this.params,code:this.code,patterns:this.patterns}},t.prototype.parseCode=function(t,e){this.code=t,this.tags=e;var r=e.start,n=e.end,i=this.constructor,a=i.separator,o=i.pattern;if(a||n){var s=[],u=[r.length].concat(n?-n.length:[]),p=t.slice.apply(t,u);if(o)for(var c=null,f=p,l=0,h=p.length;l<h&&null!==(c=f.match(o));){var d=c[0].length;l+=d;var g=p.charAt(l);if(0===d)throw new Error('the pattern rule "'+o.toString()+'" match nothing to the string:'+f);if(l<h&&g!==a)throw new Error('unexpected separator character "'+g+'" in "'+f.slice(l)+'",expect to be "'+a+'"');l+=1,f=f.slice(d+1),s.push(c[0]),o.lastIndex=0,this.patterns.push(c)}else{for(var v="",m=0,y=p.length;m<y;m++){var w=p.charAt(m);"\\"===w?v+="\\"+p.charAt(++m):w===a?(s.push(v),v=""):v+=w}(s.length||v)&&s.push(v)}this.params=s}else this.params=[t]},t.prototype.halt=function(t){throw new Error(t)},t}();e.ParserInterface=u;var p=function(){function t(){this.parsers={},this.tagPairs=[],this.pairHash={},this.splitor=o.splitor,this.instances={}}return t.prototype.addParser=function(t,e,r,n){var a,p=e.startTag,c=e.endTag,f=e.separator,l=e.pattern,h=this.splitor;if(f===h)return this.halt('the parser of "'+t+"\" can not set '"+h+"' as separator.");if(this.parsers.hasOwnProperty(t))return this.halt('the parser of "'+t+'" has existed.');if(0===p.length)return this.halt('the parser of "'+t+"\"'s startTag can not be empty. ");if(/(\\|:|\s)/.test(p.concat(c).join(""))){var d=RegExp.$1;return this.halt('the parser of "'+t+'" contains special char ('+d+")")}var g=e.rule,v=[],m=0===c.length&&g instanceof RegExp;if(!m){var y=function(t,e){return e.length>t.length?1:-1};p.sort(y),c.sort(y)}var w=[],b=[];p.map(function(t){m||w.push(s.encodeRegexpChars(t)),c.length?c.map(function(e){v.push(t+h+e),m||b.push(s.encodeRegexpChars(e))}):v.push(t)});for(var _=0,x=v.length;_<x;_++){var O=v[_];if(this.tagPairs.indexOf(O)>-1){var E=O.split(h);return this.halt('the parser of "'+t+'"\'s start tag "'+E[0]+'" and end tag "'+E[1]+'" has existed.')}this.pairHash[O]=t}if(!m){var R=c.length,j="(?="+o.encodeSplitor+"|$)",P="(?:"+w.join("|")+")",k=void 0;if(R){var A=b.join("|");k="^"+P+"(?:\\\\.|[^\\\\](?!"+A+")|[^\\\\])+?(?:"+A+j+")"}else k="^"+P+"(?:\\\\.|[^\\\\"+h+"])+?"+j;g=new RegExp(k)}this.tagPairs=this.tagPairs.concat(v).sort(function(t,e){return t.length-e.length}),this.parsers[t]=((a=function(t){function e(){var e=t.call(this)||this;return n&&(e.setting=Object.assign(e.setting,n)),e}return i(e,t),e.prototype.parse=function(){return r.call(this)},e}(u)).startTag=p,a.endTag=c,a.separator=f||"",a.splitor=h,a.rule=g,a.pattern=l||null,a)},t.prototype.parse=function(t){for(var e=t.length,r=this.splitor,n=0,i=t,o={},u={};n<e;){var p=this.parseUntilFind(i),c=p.data,f=p.total;if((n+=f)<e&&r!==t.charAt(n))throw new Error('unexpect splitor of "'+t.slice(n)+'",expect to be started with splitor "'+r+'"');i=i.slice(f+1),n+=1;var l=c.instance,h=c.type;if(o[h]&&l.setting.frozen)throw new Error('the config of "'+h+'" ('+l.code+") can not be set again.");var d=l.parse();"Array"!==s.typeOf(d)?u[h]=a({},u[h]||{},d):u[h]=d,o[h]=!0}return u},t.prototype.getInstance=function(t){return new this.parsers[t]},t.prototype.parseUntilFind=function(t){if(""===t)throw new Error("the context is empty");var e=this.tagPairs,r=this.pairHash,n=this.splitor,i=this.parsers,a=[],o='can not parse context "'+t+'",no parser matched.',s=[],u=0,p="",c=null,f=function(){var r=t.charAt(u++),i=(p+=r).length,o=!1;if(1===(s=e.filter(function(t){var e=0===t.indexOf(p);return!e||t!==p&&t.charAt(i)!==n||(o=!0,a.push(t)),e})).length){if(!o){var c=s[0],f=c.indexOf(n),l=f>0?c.slice(0,f):c;0===t.indexOf(l)&&a.push(c)}return"break"}};do{if("break"===f())break}while(s.length);var l=a.length;if(l){for(var h={},d=[];l--;){var g=a[l],v=r[g];if(!h[v]){var m,y=i[v].rule;if(d.push(v),m=t.match(y)){var w=this.getInstance(v),b=g.split(n),_=b[0],x=b[1],O=m[0];try{w.parseCode(O,{start:_,end:x||""}),c={data:{type:v,instance:w},total:O.length};break}catch(t){h[v]=!0}}}}if(c)return c;throw new Error(o+"[tried types:"+d.join(",")+"]")}throw new Error(o)},t.prototype.halt=function(t){throw new Error(t)},t}();e.Dispatcher=p}]);