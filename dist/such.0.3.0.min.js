!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";function n(t,r){var n=[];e.isObject(r)?n=Object.keys(r):Array.isArray(r)&&(n=e.range(0,r.length-1)),n.map(function(n){var i=r[n],o=t[n],a=e.typeOf(i),s=e.typeOf(o);"Object"===a||"Array"===a?(t[n]=s===a?t[n]:"Object"===a?{}:[],e.deepCopy(t[n],i)):t[n]=i})}Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=e.getRefMocker=e.isRelativePath=e.withPromise=e.shifTObj=e.isPromise=e.isNoEmptyObject=e.deepCopy=e.range=e.getExpValue=e.getExp=e.decodeTrans=e.capitalize=e.isOptional=e.makeStrRangeList=e.makeRandom=e.isFn=e.typeOf=e.encodeRegexpChars=void 0,e.encodeRegexpChars=function(t){return t.replace(/([()\[{^$.*+?\/\-])/g,"\\$1")},e.typeOf=function(t){return Object.prototype.toString.call(t).slice(8,-1)},e.isFn=function(t){return"function"==typeof t},e.makeRandom=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},e.makeStrRangeList=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!t||!r)return[];for(var o=t.charCodeAt(0),a=r.charCodeAt(0),s=[],u=0;o+u<=a;)s.push(String.fromCharCode(o+u)),u++;return n.length>0&&n.length%2==0?s.concat(e.makeStrRangeList.apply(void 0,n)):s},e.isOptional=function(){return Math.random()>=.5},e.capitalize=function(t){return t&&t.length?t.charAt(0).toUpperCase()+t.slice(1):""},e.decodeTrans=function(t){return t.replace(/\\(.)/g,"$1")},e.getExp=function(t){var e=new Function("","return "+t);try{return e()}catch(e){throw new Error('wrong expression of "'+t+'".reason:'+e)}},e.getExpValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n=t.pop();void 0!==(r=t.shift());)try{return new Function("__$__","return __$__."+n)(r)}catch(t){}},e.range=function(t,e,r){void 0===r&&(r=1);var n=Math.floor((e-t)/r)+1;return Array.from(new Array(n),function(e,n){return t+n*r})},e.deepCopy=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o,a=!1;if((o=e.isObject(t))||(a=Array.isArray(t)))for(var s=0,u=r.length;s<u;s++){var c=r[s];(o&&e.isObject(c)||a&&Array.isArray(c))&&n(t,c)}return t},e.isNoEmptyObject=function(t){return"Object"===e.typeOf(t)&&Object.keys(t).length>0},e.isPromise=function(t){return"Promise"===e.typeOf(t)||"Object"===e.typeOf(t)&&e.isFn(t.then)},e.shifTObj=function(t,e){var r={};return e.map(function(e){r[e]=t[e],delete t[e]}),r},e.withPromise=function(t){var r=[],n=!1;return t.map(function(t){var i=e.isPromise(t);n?i?r.push(t):r.push(Promise.resolve(t)):i?(n=!0,(r=r.map(function(t){return Promise.resolve(t)})).push(t)):r.push(t)}),r},e.isRelativePath=function(t,r){if(t.length>r.length)return e.isRelativePath(r,t);for(var n=t.length,i=0;i<n;){if(t[i].toString()!==r[i].toString())break;i++}return i===n},e.getRefMocker=function(t,r){var n,i,o=!0,a=r.root,s=r.path,u=a.instances;if(t.relative?s.length<t.depth+1?o=!1:n=s.slice(0,-(1+t.depth)).concat(t.path):n=t.path,o&&(i=u.get(n))){if(e.isRelativePath(s,n))throw new Error('the ref path of "'+s.join("/")+'" and "'+n.join("/")+'" is a relative path.');return i}throw new Error('the path of "'+(n?"/"+n.join("/"):t.fullpath)+'" is not exists in the instances.')},e.isObject=function(t){return"Object"===e.typeOf(t)}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExtendMockit=void 0;var o=r(0),a=r(3),s=a.default.fns,u=a.default.vars,c=a.default.mockitsCache,p=function(){function t(t){var e=this;this.constructorName=t,this.params={},this.configOptions={},this.origParams={},this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[];var r=t||this.constructor.name;if(c[r]){var n=c[r].define;o.isObject(n)&&Object.keys(n).map(function(t){var r=n[t],i=e;"Object"===o.typeOf(r)?i[t]=o.deepCopy({},r):i[t]=r})}else{c[r]={rules:[],ruleFns:{},modifiers:[],modifierFns:{}},this.init(),this.addRule("Func",function(t){if(t)for(var e=t.options,r=function(t,r){var n=e[t],i=n.name;n.params.map(function(t){if(t.variable)try{if("string"==typeof t.value)if(t.value.indexOf(".")>-1||t.value.indexOf("[")>-1)new Function("__CONFIG__","return __CONFIG__."+t.value)(u);else if(!u.hasOwnProperty(t.value))throw new Error('"'+t.value+' is not assigned."')}catch(e){throw new Error("the modifier function "+i+"'s param "+t.value+" is not correct:"+e.message)}})},n=0,i=e.length;n<i;n++)r(n)});var i=this.configOptions;o.isNoEmptyObject(i)&&this.addRule("Config",function(t){void 0===t&&(t={});var e=o.deepCopy({},t);return Object.keys(i).map(function(t){var n,a,s=i[t],u=!1,c=[],p=function(t){var e=o.typeOf(t),r=Array.isArray(a)?a:[a],n=!1;return r.map(function(t){var r=t.name;c.push(r),n||(n=e===r)}),n},l=e.hasOwnProperty(t);if(o.isObject(s)&&(u=!!s.required,n=o.isFn(s.default)?s.default():s.default,a=s.type,p=o.isFn(s.validator)?s.validator:p),u&&!l)throw new Error(r+' required set config "'+t+'"');if(l&&!p.call(null,e[t]))throw new Error('the config of "'+t+"\"'s value "+e[t]+" is not instance of "+c.join(","));l||void 0===n||(e[t]=n)}),e})}}return Object.defineProperty(t.prototype,"constrName",{get:function(){return this.constructorName||this.constructor.name},enumerable:!1,configurable:!0}),t.prototype.addModifier=function(t,e,r){return this.add("modifier",t,e,r)},t.prototype.addRule=function(t,e,r){return this.add("rule",t,e,r)},t.prototype.setParams=function(t,e){var r={};return"object"==typeof t&&void 0===e?r=t:"string"==typeof t&&(r[t]=e),this.resetValidInfo(),o.deepCopy(this.origParams,r),o.deepCopy(this.params,r),this.validate(),this.origParams},t.prototype.frozen=function(){var t=this.constructorName||this.constructor.name,e=this.params,r=this.origParams,n=this.generateFn,i=this.configOptions;return c[t].define=o.deepCopy({},{params:e,origParams:r,configOptions:i,generateFn:n}),this},t.prototype.reGenerate=function(t){this.generateFn=t},t.prototype.make=function(t){var e=this;this.validate();var r="function"==typeof this.generateFn?this.generateFn.call(this,t):this.generate(t),n=o.isPromise(r);return n||"Array"!==o.typeOf(r)||(r=o.withPromise(r),(n=o.isPromise(r[0]))&&(r=Promise.all(r))),n?r.then(function(r){return e.runAll(r,t)}):this.runAll(r,t)},t.prototype.add=function(t,e,r,n){var i,o,a=this.constructorName||this.constructor.name,s=c[a],u=s.rules,p=s.ruleFns,l=s.modifiers,f=s.modifierFns;if("rule"===t?(i=u,o=p):(i=l,o=f),i.indexOf(e)>-1)throw new Error(t+" of "+e+" already exists");if(void 0===n||""===n.trim())i.push(e);else{var h=!1;if("^"===n.charAt(0)&&(h=!0,n=n.slice(1)),""===n)i.unshift(e);else{var d=i.indexOf(n);if(d<0)throw new Error("no exists "+t+" name of "+n);i.splice(d+(h?0:1),0,e)}}o[e]=r},t.prototype.validParams=function(){var t=this,e=this.origParams,r=c[this.constructorName||this.constructor.name],n=r.rules,i=r.ruleFns,o=Object.keys(e);return n.map(function(r){try{var n=i[r].call(t,e[r]);"object"==typeof n&&(t.params[r]=n);var a=o.indexOf(r);a>-1&&o.splice(a,1)}catch(e){t.invalidKeys.push("[("+r+")"+e.message+"]")}}),0===this.invalidKeys.length},t.prototype.validate=function(){var t=this.invalidKeys;if(this.hasValid||(this.isValidOk=this.validParams(),this.hasValid=!0),!this.isValidOk)throw new Error("invalid params:"+t.join(","))},t.prototype.resetValidInfo=function(){this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[]},t.prototype.runModifiers=function(t,e){for(var r=this.params,n=c[this.constructorName||this.constructor.name],i=n.modifiers,o=n.modifierFns,a=0,s=i.length;a<s;a++){var u=i[a];if(r.hasOwnProperty(u)){var p=o[u],l=[t,r[u],e];t=p.apply(this,l)}}return t},t.prototype.runFuncs=function(t,e){var r=this.params,n=r.Config,i=r.Func;if(i)for(var a=i,c=a.queue,p=a.params,l=a.fns,f=0,h=c.length;f<h;f++){var d=c[f],g=l[f],m=(s[d]?[s[d]]:[]).concat([p[f],u,t,n||{},o.getExpValue]);t=g.apply(e,m)}return t},t.prototype.runAll=function(t,e){return t=this.runModifiers(t,e),this.runFuncs(t,e)},t}();e.default=p;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.test=function(){return!1},e.prototype.generate=function(){},e}(p);e.BaseExtendMockit=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strRule=e.suchRule=e.encodeSplitor=e.splitor=void 0;var n=r(0);e.splitor=":",e.encodeSplitor=n.encodeRegexpChars(e.splitor),e.suchRule=new RegExp("^"+e.encodeSplitor+"([A-Za-z][\\w$-]*)"),e.strRule=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1$/},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFileCache=void 0;var n=r(0);e.isFileCache=function(t){return n.isObject(t)&&"number"==typeof t.mtime};var i,o,a,s=(o={},(a=function(t,e,r){"function"!=typeof e||r?o[t]=e:i[t]=e}).fns=i={},a.vars=o,a.mockits={},a.mockitsCache={},a.alias={},a.aliasTypes=[],a.fileCache={},a.config={},a);e.default=s},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.RegexpGroup=e.RegexpGroupItem=e.RegexpASCII=e.RegexpUnicodeAll=e.RegexpUnicode=e.RegexpHexCode=e.RegexpRange=e.RegexpSet=e.RegexpTimesQuantifiers=e.RegexpTimesMulti=e.RegexpTimes=e.RegexpRefOrNumber=e.RegexpOctal=e.RegexpTranslateChar=e.RegexpChar=e.RegexpAnchor=e.RegexpPrint=e.RegexpCharset=e.RegexpControl=e.RegexpBegin=e.RegexpBackspace=e.RegexpNull=e.RegexpAny=e.RegexpLookaround=e.RegexpSpecial=e.RegexpReference=e.RegexpOrigin=e.RegexpEmpty=e.RegexpPart=e.regexpRule=e.parserRule=void 0;var s=function(){return Math.random()>=.5},u=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},c=function(t){return t[t.length-1]},p=function(){function t(){}return t.charsetOfAll=function(){return t.charsetOfNegated("ALL")},t.charsetOfDotall=function(){return t.charsetOfNegated("DOTALL")},t.charsetOfNegated=function(e){var r=t.points,n=t.cache;if(n[e])return n[e];var i=0,o=[],a=[],s=0,u=function(t,e){var r=e-t+1;r<=0||(1===r?o.push([t]):o.push([t,e]),s+=r,a.push(s))};if("DOTALL"===e)u(i,56319),u(57344,65535);else{for(var p="ALL"===e?[[10],[13],[8232,8233]]:r[e.toLowerCase()],l="S"===e?1:0,f=p.length;i<=56319&&f>l;){var h=p[--f],d=h[0],g=h[1];u(i,d-1),i=(g||d)+1}if(i<56319&&u(i,56319),"S"===e){var m=c(p)[0];u(57344,m-1),u(m+1,65535)}else u(57344,65535)}return n[e]={ranges:o,totals:a}},t.charsetOf=function(e){var r=t.lens;return{ranges:t.points[e],totals:r[e]}},t.getCharsetInfo=function(e,r){var n;void 0===r&&(r={});var i=t;return["w","d","s"].includes(e)?n=i.charsetOf(e):(n="."===e?r.s?i.charsetOfDotall():i.charsetOfAll():i.charsetOfNegated(e),r.u&&(n.ranges=n.ranges.slice(0).concat([i.bigCharPoint.slice(0)]),n.totals=n.totals.slice(0).concat(i.bigCharTotal))),n},t.make=function(e,r){return void 0===r&&(r={}),t.makeOne(t.getCharsetInfo(e,r))},t.makeOne=function(t){for(var e=t.totals,r=t.ranges,n=c(e),i=u(1,n),o=e.length,a=0;o>1;){var s=Math.floor(o/2),p=e[a+s-1],l=e[a+s];if(i>=p&&i<=l){a+=s-(i===p?1:0);break}i>l?(a+=s+1,o-=s+1):o-=s}var f=r[a][0]+(i-(e[a-1]||0))-1;return String.fromCodePoint(f)},t.points={d:[[48,57]],w:[[48,57],[65,90],[95],[97,122]],s:[[9,12],[32],[160],[5760],[6158],[8192,8202],[8232,8233],[8239],[8287],[12288],[65279]]},t.lens={d:[10],w:[10,36,37,63],s:[4,5,6,7,8,18,20,21,22,23,24]},t.bigCharPoint=[65536,1114111],t.bigCharTotal=1048576,t.cache={},t}(),l={beginWith:"^",endWith:"$",matchAny:".",groupBegin:"(",groupEnd:")",uncapture:"?:",lookahead:"?=",lookaheadNot:"?!",groupSplitor:"|",setBegin:"[",setEnd:"]",rangeSplitor:"-",multipleBegin:"{",multipleEnd:"}",multipleSplitor:",",translate:"\\",leastOne:"+",multiple:"*",optional:"?",setNotIn:"^",delimiter:"/"},f={i:1,u:2,s:4,g:8,m:16,y:32},h=Object.keys(f).join("");e.parserRule=new RegExp("^\\/(?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?/["+h+"]*"),e.regexpRule=new RegExp("^\\/((?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?)\\/(["+h+"]*)$");var d=/^(0[0-7]{0,2}|[1-3][0-7]{0,2}|[4-7][0-7]?)/,g=function(){function t(t,r){if(void 0===r&&(r={}),this.rule=t,this.config=r,this.context="",this.flags=[],this.lastRule="",this.queues=[],this.ruleInput="",this.flagsHash={},this.totalFlagBinary=0,this.rootQueues=[],this.hasLookaround=!1,this.hasNullRoot=null,t instanceof RegExp)this.rule=t.toString(),this.context=t.source,this.flags=t.flags.split("");else{if(!e.regexpRule.test(t))throw new Error("wrong regexp:"+t);this.rule=t,this.context=RegExp.$1,this.flags=RegExp.$2?RegExp.$2.split(""):[]}this.checkFlags(),this.parse(),this.lastRule=this.ruleInput}return t.prototype.setConfig=function(t){this.config=t},t.prototype.build=function(){if(this.hasLookaround)throw new Error("the build method does not support lookarounds.");var t=this.rootQueues,e="",r=o(o({},this.config),{flags:this.flagsHash,namedGroupData:{},captureGroupData:{},beginWiths:[],endWiths:[]}),n="the regexp has null expression, will match nothing";if(!0===this.hasNullRoot)throw new Error(n);if(this.hasNullRoot=t.some(function(t){return e+=t.build(r),!!t.isMatchNothing}),this.hasNullRoot)throw new Error(n);return e},t.prototype.info=function(){var t=this;return{rule:t.rule,context:t.context,lastRule:t.lastRule,flags:t.flags,queues:t.queues}},t.prototype.parse=function(){for(var t=this.context,e=l,r=0,n=t.length,i=[new E],o=[],s=[],u=[],p={},f={},h=/^(\?(?:<(.+?)>|:))/,g=/^(\?(?:<=|<!|=|!))/,m=this.hasFlag("u"),v=[],y=[],F=0,L=null,B=null,V=function(t){if(o.length||s.length){var e=v.length&&"group"===c(v).type||o.length>0,r=c(e?o:s);e?r.addItem(t):t.parent=r}},W=function(t,e){return["groupBegin","groupSplitor","times","begin","anchor"].includes(t)||"charset"===t&&"b"===e.charset.toLowerCase()};r<n;){var U=t.charAt(r++);if((B||L)&&["[","(",")","|","*","?","+","{",".","}","^","$","/"].includes(U)){var Q=new N(U);B?(Q.parent=B,B=null):Q.parent=L,i.push(Q)}else{var X=t.slice(r),K=c(o),Y=c(i),Z=null,J=null;switch(U){case e.translate:var tt=t.charAt(r++),et=U+tt;if("u"===tt||"x"===tt){var rt=(Z="x"===tt?new G:m?new D:new q).untilEnd(t.slice(r));if(0===rt){if(m)throw new Error("invalid unicode code point:"+t);Z=new M("\\"+tt)}else r+=rt}else if("c"===tt){var nt=t.charAt(r);if(m){if(!/[a-zA-Z]/.test(nt))throw new Error("invalid unicode escape,unexpect control character["+r+"]:\\c"+nt);Z=new P(nt),r++}else/[A-Za-z]/.test(nt)?(Z=new P(nt),r++):(Z=new N("\\"),r--)}else if(["d","D","w","W","s","S","b","B"].includes(tt))Z=new j(et);else if(["t","r","n","f","v"].includes(tt))Z=new k(et);else if(/^(\d+)/.test(X)){var it=RegExp.$1;if(L)if(d.test(it)){var ot=RegExp.$1;Z=new C("\\"+ot),r+=ot.length-1}else Z=new M("\\"+it.charAt(0));else if("0"===it.charAt(0))if(1===it.length)Z=new O;else if(+it.charAt(1)>7)Z=new O;else{ot=it.length>=3&&+it.charAt(2)<=7?it.slice(1,3):it.charAt(1);Z=new C("\\0"+ot),r+=ot.length}else if(r+=it.length-1,+it<=u.length){Z=new w("\\"+it);var at=u[+it-1];f[it]=at,at.isAncestorOf(K)?Z.ref=null:Z.ref=at}else Z=new S("\\"+it),y.push(Z)}else if("k"===tt&&/^<([^>]+?)>/.test(t.slice(r))){var st=RegExp.$1;if(!p[st])throw new Error("Invalid named capture referenced:"+st);r+=st.length+2;at=p[st];Z=new w("\\"+at.captureIndex,st),at.isAncestorOf(K)?Z.ref=null:Z.ref=at}else Z=new M(et);break;case e.groupBegin:var ut=g.test(X);if(ut){var ct=RegExp.$1;Z=new x(ct),J=new b("lookaroundBegin"),this.hasLookaround=!0,r+=ct.length}else Z=new H,J=new b("groupBegin");if(v.push(Z),!ut){if(Z=Z,h.test(X)){var pt=RegExp.$1,lt=RegExp.$2;"?:"===pt||(Z.captureIndex=++F,Z.captureName=lt,p[lt]=Z),r+=pt.length}else Z.captureIndex=++F;Z.captureIndex>0&&u.push(Z)}break;case e.groupEnd:if(!v.length)throw new Error("unmatched "+U+',you mean "\\'+U+'"?');var ft=v.pop();if(!ft||!["group","lookaround"].includes(ft.type))throw new Error("unexpected capture end.");var ht=("group"===ft.type?o:s).pop();ht&&(ht.isComplete=!0,(J=new b(ft.type+"End")).parent=ht);break;case e.groupSplitor:var dt=c(o);if(dt)dt.addNewGroup();else{var gt=new H;gt.isRoot=!0,gt.addRootItem(i.slice(1)),i.splice(1,0,gt),o.push(gt)}J=new b("groupSplitor");break;case e.setBegin:/^\\b]/.test(X)?(Z=new R,r+=3):(L=new $,"^"===X.charAt(0)&&(L.reverse=!0,r+=1),i.push(L),V(L),(J=new b("setBegin")).parent=L);break;case e.setEnd:L?(L.isComplete=!0,(J=new b("setEnd")).parent=L,L=null):Z=new N(U);break;case e.rangeSplitor:if(L)if(Y.codePoint<0)Z=new N(U);else X.charAt(0)===e.setEnd?(L.isComplete=!0,L=null,r+=1):(L.pop(),(B=new z).parent=L,i.pop().parent=B,i.push(B,Y),(J=new b("rangeSplitor")).parent=B);else Z=new N(U);break;case e.multipleBegin:case e.optional:case e.multiple:case e.leastOne:var mt=(Z=U===e.multipleBegin?new T:new I).untilEnd(t.slice(r-1));if(mt>0){var vt=Y instanceof b?Y.special:Y.type,yt="["+Y.input+"]nothing to repeat[index:"+r+"]:"+t.slice(r-1,r-1+mt);if(W(vt,Y))throw new Error(yt);r+=mt-1,Z.target="groupEnd"===vt||"setEnd"===vt?Y.parent:Y}else Z=new N(U);break;case e.matchAny:Z=new _;break;case e.beginWith:case e.endWith:Z=new A(U);break;case e.delimiter:throw new Error('unexpected pattern end delimiter:"/'+X+'"');default:Z=new N(U)}if(Z){var wt=Z;if(i.push(wt),B){if(Z.codePoint<0){var bt=i.splice(-4,4),xt=bt[1],_t=bt[3],Ot=new N("-");L.pop(),[xt,Ot,_t].map(function(t){return t.parent=L,i.push(t),t})}else Z.parent=B;B=null}else L?wt.parent=L:V(wt);if(["group","lookaround"].includes(wt.type))("group"===wt.type?o:s).push(wt)}J&&(Z&&(J.parent=Z),i.push(J))}}if(y.length){var Rt=function(t,e,r){for(var n=0,i=!1,o=t.length;n<o;n++)if(e===t[n]){i=!0;break}i&&t.splice.apply(t,a([n,1],r))},Et=u.length;y.map(function(t){var e,r=t.input.slice(1),n=r.length,o=0;if(+r<=Et)(e=new w(t.input)).ref=null,o=n;else if(/^([1-3][0-7]{0,2}|[4-7][0-7]?)/.test(r)){var a=RegExp.$1;e=new C("\\"+a),o+=a.length}else e=new M("\\"+r.charAt(0)),o+=1;e.linkParent=t.parent;for(var s=[e];o<n;){var u=new N(r.charAt(o++));u.linkParent=t.parent,s.push(u)}t.parent&&Rt(t.parent.queues,t,s),Rt(i,t,s)})}i.length>1&&"group"===i[1].type&&!0===i[1].isRoot&&(i[1].isComplete=!0);var Pt=[],jt="";i.every(function(t){if(!t.isComplete)throw new Error("the regexp segment "+t.type+" is not completed:"+t.input);return null===t.parent&&(Pt.push(t),jt+=t.getRuleInput()),!0}),this.ruleInput=jt,this.rootQueues=Pt,this.queues=i},t.prototype.checkFlags=function(){var t,e=this.flags,r=e.length;if(0!==r){if(r>Object.keys(f).length)throw new Error("The rule may has repeated or unrecognized flags<got '"+e.join("")+"'>, please check.");for(var n=e[0],i=f[n],o=((t={})[n]=!0,t),a=1,s=e.length;a<s;a++){var u=e[a],c=f[u];if(0!=(i&c))throw new Error("wrong flag["+a+"]:"+u);i+=c,o[u]=!0}this.flagsHash=o,this.totalFlagBinary=i,(o.y||o.m||o.g)&&console.warn("the flags of 'g','m','y' will ignore,but you can set flags such as 'i','u','s'")}},t.prototype.hasFlag=function(t){var e=this.totalFlagBinary,r=f[t];return r&&0!=(r&e)},t}();e.default=g;var m=function(){function t(t){void 0===t&&(t=""),this.input=t,this.queues=[],this.codePoint=-1,this.min=1,this.max=1,this.dataConf={},this.buildForTimes=!1,this.curParent=null,this.matchNothing=!1,this.completed=!0}return Object.defineProperty(t.prototype,"parent",{get:function(){return this.curParent},set:function(t){this.curParent=t,"special"!==this.type&&t.add(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkParent",{set:function(t){this.curParent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMatchNothing",{get:function(){return this.matchNothing},set:function(t){this.matchNothing=t,this.parent&&(this.parent.isMatchNothing=t)},enumerable:!1,configurable:!0}),t.prototype.setRange=function(t){var e=this;Object.keys(t).forEach(function(r){e[r]=t[r]})},t.prototype.add=function(t){this.queues=this.queues.concat(t)},t.prototype.pop=function(){return this.queues.pop()},t.prototype.build=function(t){var e=this,r=this.min,n=this.max,i="";if(0===r&&0===n);else{var o=r+Math.floor(Math.random()*(n-r+1));if(0!==o){var a=function(){var r=e.prebuild(t);return t.flags&&t.flags.i&&(r=s()?s()?r.toLowerCase():r.toUpperCase():r),r};if(this.buildForTimes)for(;o--;)i+=a();else i=a().repeat(o)}}return this.dataConf=t,this.setDataConf(t,i),i},t.prototype.untilEnd=function(t){},t.prototype.setDataConf=function(t,e){},t.prototype.toString=function(){return this.input},t.prototype.isAncestorOf=function(t){do{if(t===this)return!0}while(t=null==t?void 0:t.parent);return!1},t.prototype.getRuleInput=function(t){return this.queues.length?this.buildRuleInputFromQueues():this.input},t.prototype.buildRuleInputFromQueues=function(){return this.queues.reduce(function(t,e){return t+e.getRuleInput()},"")},t.prototype.prebuild=function(t){return this.queues.length?this.queues.reduce(function(e,r){return e+r.build(t)},""):""},t}();e.RegexpPart=m;var v=function(t){function e(e){var r=t.call(this,e)||this;return r.min=0,r.max=0,r}return i(e,t),e}(m);e.RegexpEmpty=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.prebuild=function(){return this.input},e}(m);e.RegexpOrigin=y;var w=function(t){function e(e,r){void 0===r&&(r="");var n=t.call(this,e)||this;return n.name=r,n.type="reference",n.ref=null,n.index=Number(""+e.slice(1)),n}return i(e,t),e.prototype.prebuild=function(t){var e=this.ref;if(null===e)return"";var r=e.captureIndex,n=t.captureGroupData;return n.hasOwnProperty(r)?n[r]:""},e}(m);e.RegexpReference=w;var b=function(t){function e(e){var r=t.call(this)||this;return r.special=e,r.type="special",r}return i(e,t),e}(v);e.RegexpSpecial=b;var x=function(t){function e(e){var r=t.call(this)||this;return r.type="lookaround",r.looktype=e,r.isComplete=!1,r}return i(e,t),e.prototype.getRuleInput=function(){return"("+this.looktype+this.buildRuleInputFromQueues()+")"},e}(v);e.RegexpLookaround=x;var _=function(t){function e(){var e=t.call(this,".")||this;return e.type="any",e.buildForTimes=!0,e}return i(e,t),e.prototype.prebuild=function(t){return p.make(".",t.flags)},e}(m);e.RegexpAny=_;var O=function(t){function e(){var e=t.call(this,"\\0")||this;return e.type="null",e}return i(e,t),e.prototype.prebuild=function(){return"\0"},e}(m);e.RegexpNull=O;var R=function(t){function e(){var e=t.call(this,"[\\b]")||this;return e.type="backspace",e}return i(e,t),e.prototype.prebuild=function(){return"\b"},e}(m);e.RegexpBackspace=R;var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="begin",e}return i(e,t),e}(v);e.RegexpBegin=E;var P=function(t){function e(e){var r=t.call(this,"\\c"+e)||this;return r.type="control",r.codePoint=parseInt(e.charCodeAt(0).toString(2).slice(-5),2),r}return i(e,t),e.prototype.prebuild=function(){return String.fromCharCode(this.codePoint)},e}(m);e.RegexpControl=P;var j=function(t){function e(e){var r=t.call(this,e)||this;return r.type="charset",r.charset=r.input.slice(-1),r.buildForTimes=!0,r}return i(e,t),e.prototype.prebuild=function(t){var e=this.charset;return"b"===e||"B"===e?(console.warn("please do not use \\b or \\B"),""):p.make(e,t.flags)},e}(m);e.RegexpCharset=j;var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="print",e}return i(e,t),e.prototype.prebuild=function(){return new Function("","return '"+this.input+"'")()},e}(m);e.RegexpPrint=k;var A=function(t){function e(e){var r=t.call(this,e)||this;return r.type="anchor",r.anchor=e,console.warn('the anchor of "'+r.input+'" will ignore.'),r}return i(e,t),e}(v);e.RegexpAnchor=A;var N=function(t){function e(e){var r=t.call(this,e)||this;return r.type="char",r.codePoint=e.codePointAt(0),r}return i(e,t),e}(y);e.RegexpChar=N;var M=function(t){function e(e){var r=t.call(this,e)||this;return r.type="translate",r.codePoint=e.slice(-1).codePointAt(0),r}return i(e,t),e.prototype.prebuild=function(){return this.input.slice(-1)},e}(y);e.RegexpTranslateChar=M;var C=function(t){function e(e){var r=t.call(this,e)||this;return r.type="octal",r.codePoint=Number("0o"+e.slice(1)),r}return i(e,t),e.prototype.prebuild=function(){return String.fromCodePoint(this.codePoint)},e}(m);e.RegexpOctal=C;var S=function(t){function e(e){var r=t.call(this,e)||this;return r.type="refornumber",r}return i(e,t),e.prototype.prebuild=function(){throw new Error('the "'+this.input+'" must parse again,either reference or number')},e}(m);e.RegexpRefOrNumber=S;var F=function(t){function e(){var e=t.call(this)||this;return e.type="times",e.maxNum=5,e.greedy=!0,e.minRepeat=0,e.maxRepeat=0,e.isComplete=!1,e}return i(e,t),Object.defineProperty(e.prototype,"target",{set:function(t){t.setRange({min:this.minRepeat,max:this.maxRepeat})},enumerable:!1,configurable:!0}),e.prototype.untilEnd=function(t){if(this.rule.test(t)){var e=RegExp.$1;return this.isComplete=!0,this.input=e,this.parse(),e.length}return 0},e}(m);e.RegexpTimes=F;var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\{(\d+)(,(\d*))?}(\??))/,e}return i(e,t),e.prototype.parse=function(){var t=RegExp.$2,e=RegExp.$3,r=RegExp.$4,n=RegExp.$5;this.greedy="?"!==n,this.minRepeat=parseInt(t,10),this.maxRepeat=Number(r)?parseInt(r,10):e?this.minRepeat+2*this.maxNum:this.minRepeat},e}(F);e.RegexpTimesMulti=T;var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\*\?|\+\?|\?\?|\*|\+|\?)/,e}return i(e,t),e.prototype.parse=function(){var t=RegExp.$1;switch(this.greedy=1===t.length,t.charAt(0)){case"*":this.maxRepeat=this.maxNum;break;case"+":this.minRepeat=1,this.maxRepeat=this.maxNum;break;case"?":this.maxRepeat=1}},e}(F);e.RegexpTimesQuantifiers=I;var $=function(t){function e(){var e=t.call(this)||this;return e.type="set",e.reverse=!1,e.isMatchAnything=!1,e.codePointResult=null,e.isComplete=!1,e.buildForTimes=!0,e}return i(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t,!0===t&&0===this.queues.length&&(this.reverse?this.isMatchAnything=!0:this.isMatchNothing=!0)},enumerable:!1,configurable:!0}),e.prototype.isSetStart=function(){return 0===this.queues.length},e.prototype.getRuleInput=function(){return"["+(this.reverse?"^":"")+this.buildRuleInputFromQueues()+"]"},e.prototype.prebuild=function(t){if(this.isMatchAnything)return(new _).build(t);if(this.matchNothing)return console.warn("the empty set will match nothing:[]"),"";var e=this.queues;if(this.reverse){if(!this.codePointResult)if(1===e.length&&"charset"===e[0].type&&["w","s","d"].includes(e[0].charset.toLowerCase())){var r=32^e[0].charset.charCodeAt(0),n=String.fromCharCode(r);this.codePointResult=p.getCharsetInfo(n,t.flags)}else{var i=e.reduce(function(e,r){var n,i=r.type;if("charset"===i){var o=r.charset;"b"===o||"B"===o?(console.warn("the charset \\b or \\B will ignore"),n=[]):n=p.getCharsetInfo(o,t.flags).ranges}else n="range"===i?[r.queues.map(function(t){return t.codePoint})]:[[r.codePoint]];return e.concat(n)},[]);i.push([55296,57343],t.flags.u?[1114112]:[65536]),i.sort(function(t,e){return e[0]>t[0]?-1:e[0]===t[0]?e[1]>t[1]?1:-1:1});for(var o=[],a=0,s=0,c=i.length;s<c;s++){var l=i[s],f=l[0],h=l[1]||f;a<f&&o.push(a+1===f?[a]:[a,f-1]),a=Math.max(h+1,a)}if(0===o.length)this.isMatchNothing=!0;else{var d=0,g=o.map(function(t){return 1===t.length?d+=1:d+=t[1]-t[0]+1,d});this.codePointResult={totals:g,ranges:o}}}return this.isMatchNothing?(console.error("the rule is match nothing"),""):p.makeOne(this.codePointResult)}var m=u(0,e.length-1);return this.queues[m].build(t)},e}(m);e.RegexpSet=$;var z=function(t){function e(){var e=t.call(this)||this;return e.type="range",e.isComplete=!1,e}return i(e,t),e.prototype.add=function(e){if(t.prototype.add.call(this,e),2===this.queues.length){this.isComplete=!0;var r=this.queues,n=r[0],i=r[1];if(n.codePoint>i.codePoint)throw new Error("invalid range:"+n.getRuleInput()+"-"+i.getRuleInput())}},e.prototype.getRuleInput=function(){var t=this.queues,e=t[0],r=t[1];return e.getRuleInput()+"-"+r.getRuleInput()},e.prototype.prebuild=function(){var t=this.queues,e=t[0],r=t[1],n=e.codePoint,i=r.codePoint;return String.fromCodePoint(u(n,i))},e}(m);e.RegexpRange=z;var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hexcode",e}return i(e,t),e.prototype.untilEnd=function(t){var e=this.rule,r=this.codeType;if(e.test(t)){var n=RegExp.$1,i=RegExp.$2||n;if(this.codePoint=Number("0x"+i),this.codePoint>1114111)throw new Error("invalid unicode code point:\\u{"+i+"},can not great than 0x10ffff");return this.input="\\"+r+n,n.length}return 0},e}(y);e.RegexpHexCode=L;var q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{4})/,e.codeType="u",e}return i(e,t),e}(L);e.RegexpUnicode=q;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^({(0*[0-9A-Fa-f]{1,6})}|[0-9A-Fa-f]{4})/,e.codeType="u",e}return i(e,t),e}(L);e.RegexpUnicodeAll=D;var G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{2})/,e.codeType="x",e}return i(e,t),e}(L);e.RegexpASCII=G;var B=function(t){function e(e){var r=t.call(this)||this;return r.index=e,r.type="group-item",r}return i(e,t),e.prototype.getRuleInput=function(t){var e=this;return void 0===t&&(t=!1),this.queues.reduce(function(r,n){return r+(t&&"reference"===n.type&&null!==n.ref?n.ref.getRuleInput(t):e.isEndLimitChar(n)?"":n.getRuleInput(t))},"")},e.prototype.prebuild=function(t){var e=this;return this.queues.reduce(function(r,n){var i;return e.isEndLimitChar(n)?(console.warn("the ^ and $ of the regexp will ignore"),i=""):i=n.build(t),r+i},"")},e.prototype.isEndLimitChar=function(t){return"char"===t.type&&("^"===t.input||"$"===t.input)},e}(m);e.RegexpGroupItem=B;var H=function(t){function e(){var e=t.call(this)||this;return e.type="group",e.captureIndex=0,e.captureName="",e.queues=[],e.isRoot=!1,e.curGroupItem=null,e.curRule=null,e.isComplete=!1,e.buildForTimes=!0,e.addNewGroup(),e}return i(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t,!0===t&&(this.isMatchNothing=this.queues.every(function(t){return t.isMatchNothing}))},enumerable:!1,configurable:!0}),e.prototype.addNewGroup=function(){var t=this.queues,e=new B(t.length);return this.curGroupItem=e,e.parent=this,e},e.prototype.addRootItem=function(t){var e=this;t.map(function(t){null===t.parent&&(t.parent=e.curGroupItem)}),this.addNewGroup()},e.prototype.addItem=function(t){t.parent=this.curGroupItem},e.prototype.getRuleInput=function(t){void 0===t&&(t=!1);var e=this.queues,r=this.captureIndex,n=this.isRoot,i="";return 0===r&&(i="?:"+i),i+=e.map(function(e){return e.getRuleInput(t)}).join("|"),n?i:"("+i+")"},e.prototype.buildRule=function(t){if(this.curRule)return this.curRule;var e=this.getRuleInput(!0),r=Object.keys(t).join("");return new Function("","return /^"+e+"$/"+r)()},e.prototype.prebuild=function(t){var e=this.queues,r=this.captureIndex,n=this.captureName,i="",o=t.flags,a=t.namedGroupConf,s=e.length,c=function(){var t=[];if(n&&n.includes("_")&&a){var r=n.split("_");if(r.length===s){var i=[];if("object"==typeof a[n]){var o=a[n];r.forEach(function(t,e){"boolean"==typeof o[t]&&!1===o[t]||i.push(e)})}if(!i.length)throw new Error("the specified named group '"+n+"' are all filtered by the config.");t=i.map(function(t){return e[t]})}}return t}();if(n&&a&&a[n]&&Array.isArray(a[n])){var p=a[n],l=this.buildRule(o);if(i=p[u(0,p.length-1)],!l.test(i))throw new Error("the namedGroupConf of "+n+"'s value \""+i+'" is not match the rule '+l.toString())}else{var f=c.length?c:e;i=f[u(0,f.length-1)].build(t)}return n&&(t.namedGroupData[n]=i),r&&(t.captureGroupData[r]=i),i},e}(m);e.RegexpGroup=H},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=r(7);i.default.config(n.default),window.Such=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={types:{integer:["number","%d"],percent:["number","[0,100]:%d%"],chinese:["string","[\\u4E00,\\u9FA5]"],uppercase:["string","[65,90]"],lowercase:["string","[97,122]"],alphaNumericDash:["string","[48-57,97-122,65-90,95]"],url:["regexp","/(?<protocol>http|https|ftp|telnet|file):\\/\\/(?<domain>(?:[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<ltd>com|cn|com\\.cn|org|net|gov\\.cn|wang|ren|xyz|top|cc|io))(?<port>(?::(?:6[0-5][0-5][0-3][0-5]|[1-5]\\d{4}|[1-9]\\d{0,3}))?)\\/(?<pathname>(?:[0-9a-z]+\\/)*(?<filename>\\w+(?<extname>\\.(?:html|htm|php|do)))?)(?<query>\\?([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})&)*([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})))(?<hash>#[0-9a-z_=]{5,})?/"],email:["regexp","/(?<user>(?:[a-z0-9]+(?:[-_]?[a-z0-9]+|[a-z0-9]*)))@(?<domain>(?:[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<ltd>com|cn|com\\.cn|org|net|gov\\.cn|wang|ren|xyz|top|cc|io))/"],boolean:function(t){return t.such.utils.isOptional()},color$hex:function(t){return"#"+t.such.utils.makeRandom(0,16777215).toString(16).toUpperCase()},color$rgb:function(t){var e=t.such.instance(":int[0,255]");return"rgb("+[e.a(),e.a(),e.a()].join(",")+")"},color$rgba:function(t){var e=t.such,r=e.instance(":int[0,255]"),n=e.as(":number[0,1]:%.2f");return"rgba("+[r.a(),r.a(),r.a(),n||0].join(",")+")"},color$hsl:function(t){var e=t.such,r=e.as(":int[0,360]"),n=e.instance(":percent");return"hsl("+[r,n.a(),n.a()].join(",")+")"},color$hsla:function(t){var e=t.such,r=e.as(":int[0,360]"),n=e.instance(":percent"),i=e.as(":number[0,1]:%.2f");return"hsla("+[r,n.a(),n.a(),i||0].join(",")+")"}},alias:{int:"integer",bool:"boolean"}}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Mocker=void 0;var u=r(2),c=r(8),p=r(0),l=r(9),f=r(1),h=r(18),d=r(3),g=p.capitalize,m=p.isFn,v=p.isOptional,y=p.makeRandom,w=p.typeOf,b=p.deepCopy,x=p.isNoEmptyObject,_=d.default.alias,O=d.default.aliasTypes,R={};Object.keys(l.mockitList).map(function(t){t.startsWith("_")||(R[t]=l.mockitList[t])});var E=function(){function t(e,r,n){var i=this;this.config={},this.promises=[];var o=e.target,a=e.path,s=e.config,c=e.parent;this.target=o,this.path=a,this.config=s||{},this.isRoot=0===a.length,this.isRoot?(this.instances=r,this.datas=n,this.root=this,this.parent=this):(this.parent=c,this.root=c.root);var p=w(o).toLowerCase(),l=this.config,f=l.min,d=l.max,g=l.oneOf,m=l.alwaysArray,b=this.root,x=b.instances,O=b.datas,E=!isNaN(f);if(this.dataType=p,Array.isArray(o)){var j=o.length-1,k=function(e){e="number"==typeof e?e:y(0,j);var r=a.concat(e),n=x.get(r);return n instanceof t||(n=new t({target:o[e],path:r,parent:i}),x.set(r,n)),n};if(E){var A,N=function(e,r,n){var i=[],o=r instanceof t?function(t){return r}:function(t){return r[t]};n="number"==typeof n?n:y(f,d);for(var a=0;a<n;a++){var s=o(a),u=e.concat(a),c=s.mock(u);i[a]=c,O.set(u,c)}return i},M=function(t,e,r){var n;if(r>1)throw new Error("optional func of the total param can not more than 1");return 1===r&&(n=e.mock(t)),O.set(t,n),n};if(g)A=m?N:function(t,e){var r=y(f,d);return r<=1?M(t,e,r):N(t,e,r)},this.mockFn=function(t){var e=k();return A(t,e)};else{var C=function(t,e){e=isNaN(e)?y(f,d):Number(e);var r=Array.from({length:e}).map(function(){return k()});return N(t,r,e)};this.mockFn=m||f>1?function(t){return C(t)}:function(t){var e=y(f,d);return e<=1?M(t,k(),e):C(t,e)}}}else{var S=o.map(function(t,e){return k(e)});this.mockFn=function(t){var e=[];return S.map(function(r,n){var i=t.concat(n),o=r.mock(i);e[n]=o,O.set(i,o)}),e}}}else if("object"===p){var F=o,T=Object.keys(F).map(function(e){var r=F[e],n=t.parseKey(e);return{key:n.key,target:r,config:n.config}});this.mockFn=function(e){var r={},n=i.path;return T.map(function(o){var a=o.key,s=o.config,u=o.target,c=s.optional,p=n.concat(a),l=e.concat(a);if(c&&v());else{var f=x.get(p);f instanceof t||(f=new t({target:u,config:s,path:p,parent:i}),x.set(p,f));var h=f.mock(l);r[a]=h,O.set(l,h)}}),r}}else{if("string"===p){var I=o,$=I.match(u.suchRule),z=$&&$[1];if(z){var L=_[z]?_[z]:z;if(R.hasOwnProperty(L)){this.type=L;var q=new(0,R[L]),D=I.replace($[0],"").replace(/^\s*:\s*/,"");if(""!==D){var G=h.default.parse(D);q.setParams(G)}return this.mockit=q,void(this.mockFn=function(t){return q.make({datas:O,dpath:t,such:P,mocker:i})})}}}this.mockFn=function(t){return o}}}return t.parseKey=function(t){var e,r={};if((e=t.match(/(\??)(:?)(?:\{(\d+)(?:,(\d+))?}|\[(\d+)(?:,(\d+))?])?$/)).length&&""!==e[0]){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],p=void 0!==u,l=void 0!==a;if(r.optional="?"===i,r.oneOf=":"===o,r.alwaysArray=p,l||p){var f=l?a:u,h=l?s:c;if(void 0===h&&(h=f),Number(h)<Number(f))throw new Error("the max of "+h+" is less than "+f);r.min=Number(f),r.max=Number(h)}else r.oneOf&&(r.min=r.max=1);t=t.slice(0,-n.length)}return{key:t,config:r}},t.prototype.setParams=function(t){if(this.mockit)return this.mockit.setParams("string"==typeof t?h.default.parse(t):t);throw new Error("This mocker is not the mockit type.")},t.prototype.mock=function(t){var e=this,r=this.config.optional;if(!(this.isRoot&&r&&v())){var n=this.mockFn(t);if(this.isRoot){if(this.promises.length){var i=[],s=[];return this.promises.map(function(t){var e=t.result,r=t.dpath;i.push(e),s.push(r)}),o(e,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return[4,Promise.all(i)];case 1:return e.sent().map(function(e,r){t.datas.set(s[r],e)}),[2,this.result=this.datas.get([])]}})})}}else p.isPromise(n)&&this.root.promises.push({dpath:t,result:n});return this.result=n}},t}();e.Mocker=E;var P=function(){function t(t,e){this.initail=!1,this.target=t,this.instances=new c.default(!1),this.datas=new c.default(!0),this.mocker=new E({target:t,path:[],config:e&&e.config},this.instances,this.datas)}return t.alias=function(t,e){if(""===t||""===e||t===e)throw new Error("wrong alias params:["+t+"]["+e+"]");if(O.indexOf(e)>-1)throw new Error('the type of "'+e+'" has an alias yet,can not use "'+t+'" for alias name.');_[t]=e,O.push(e)},t.config=function(e){var r=e.parsers,n=e.types,i=e.globals,o={parsers:"parser",types:"define",globals:"assign"},a={},u=t;if(e.extends&&"function"==typeof u.loadConf){var c="string"==typeof e.extends?[e.extends]:e.extends;u.loadConf(c).map(function(t){delete t.extends,b(a,t)})}b(a,{parsers:r||{},types:n||{},globals:i||{}}),Object.keys(a).map(function(t){var e=a[t],r=o.hasOwnProperty(t)?o[t]:t;Object.keys(e).map(function(t){var n=u[r],i=Array.isArray(e[t])?e[t]:[e[t]];n.apply(void 0,s([t],i))})})},t.parser=function(t,e){var r=e.config,n=e.parse,i=e.setting;return h.default.addParser(t,r,n,i)},t.as=function(e,r){return t.instance(e,r).a()},t.instance=function(e,r){return new t(e,r)},t.assign=function(t,e,r){void 0===r&&(r=!1),d.default(t,e,r)},t.define=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.length;if(0===n||n>2)throw new Error('the static "define" method\'s arguments is not right, expect 1 or 2 argments, but got '+n);var o=e.pop(),a=2===n&&"string"==typeof o?{param:o}:1===n&&"function"==typeof o?{generate:o}:o,s=a.param,u=a.init,c=a.generateFn,p=a.generate,l=a.configOptions,d="string"==typeof s?h.default.parse(s):{},v="To"+g(t);if(R.hasOwnProperty(t))throw new Error('the type "'+t+'" has been defined yet.');var y=void 0;if(2===n){var w=e[0],_=R[w];if(!_)throw new Error('the defined type "'+t+'" what based on type of "'+w+'" is not exists.');y=function(t){function e(){return t.call(this,v)||this}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),x(l)&&(this.configOptions=b({},this.configOptions,l)),m(u)&&u.call(this),m(c)&&this.reGenerate(c),x(d)&&this.setParams(d),this.frozen()},e}(_)}else y=function(t){function e(){return t.call(this,v)||this}return i(e,t),e.prototype.init=function(){x(l)&&(this.configOptions=b({},this.configOptions,l)),m(u)&&u.call(this),x(d)&&this.setParams(d),this.frozen()},e.prototype.generate=function(t){return p.call(this,t)},e.prototype.test=function(){return!0},e}(f.default);R[t]=y},t.prototype.a=function(){return this.initail?this.datas.clear():this.initail=!0,this.mocker.mock([])},t.utils=p,t}();e.default=P},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t){this.isPlain=t,this.result=null,this.initial=!1}return t.prototype.set=function(t,e){var r=n.typeOf(e),i=t.length;if(!this.isPlain||"Array"!==r&&"Object"!==r){this.initial||(this.result="number"==typeof t[0]?[]:{},this.initial=!0);for(var o=this.result,a=0;a<i-1;a++){var s=t[a],u=t[a+1];if(Array.isArray(o)&&"number"==typeof s&&s%1==0)o.length<s+1&&(o[s]="number"==typeof u?[]:{}),o=o[s];else{if(!n.isObject(o))throw new Error("wrong field path key: '"+s+"'");o.hasOwnProperty(s)||(o[s]="number"==typeof u?[]:{}),o=o[s]}}return o[t[a]]=e,this}},t.prototype.get=function(t){var e=this.result;try{for(var r=0,n=t.length;r<n;r++){var i=t[r];e=e[i]}}catch(t){}return e},t.prototype.clear=function(){this.result=null,this.initial=!1},t.prototype.has=function(t){for(var e=this.result,r=!0,i=0,o=t.length;i<o;i++){var a=t[i];if("number"==typeof a?(r=Array.isArray(e)&&e.length>a,e=e[a]):(r=n.isObject(e)&&e.hasOwnProperty(a),e=e[a]),!r)break}return r},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mockitList=void 0;var n=r(10),i=r(12),o=r(13),a=r(14),s=r(16),u=r(17);e.mockitList={number:n.default,string:i.default,regexp:o.default,date:a.default,ref:s.default,id:u.default}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(11),a=r(0),s=r(1),u=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.configOptions={step:{type:Number}},this.addRule("Size",function(t){if(t){var e=t.range,r=e.length;if(2!==r)throw new Error(r<2?"the Size param must have the min and the max params":"the Size param length should be 2,but got "+r);var n=e[0],i=e[1];if(n=n.trim(),i=i.trim(),""===n&&""===i)throw new Error("the min param and max param can not both undefined");if(""===n&&(n=Number.MIN_SAFE_INTEGER||Number.MIN_VALUE),""===i&&(i=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),isNaN(n))throw new Error("the min param expect a number,but got "+n);if(isNaN(i))throw new Error("the max param expect a number,but got "+i);var o=Number(n),a=Number(i);if(o>a)throw new Error("the min number "+n+" is big than the max number "+i);return{range:[o,a]}}}),this.addRule("Format",function(t){if(t){var e=t.format;if(!o.rule.test(e))throw new Error("Wrong format rule("+e+")")}}),this.addModifier("Format",function(t,e){return o.default(e.format,t)})},e.prototype.generate=function(){var t,e=this.params,r=e.Size,n=e.Config;if(r){var i=r.range,o=n&&n.step,s=i,u=s[0],c=s[1];if(o){var p=Math.floor((c-u)/o);if(p>0)return+u+o*(0+Math.floor(Math.random()*(p-0)))}t=+u+(c-u)*function(t){var e=Number.EPSILON||Math.pow(2,-52);switch(t){case 2:return 1-Math.random();case 3:return(1+e)*Math.random();case 0:return(1-e)*(1-Math.random());case 1:default:return Math.random()}}(3)}else t=Math.random()*Math.pow(10,Math.floor(10*Math.random())),t=a.isOptional()?-t:t;return t},e.prototype.test=function(){return!0},e}(s.default);e.default=u},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.rule=void 0,e.rule=/^%([-+#0 ]*)?([1-9]\d*)?(?:\.(\d+))?([dfeEoxXi])(%)?$/;var i=function(t,r){if("number"!=typeof r)throw new Error("The second param must be a number,got '"+r+"'");var o,a="string"==typeof t?function(t){var r=t.match(e.rule);if(null===r)throw new Error("Wrong formatting template: '"+t+"', should match the rule:"+e.rule.toString());var n={align:"right",type:"",fill:" ",prefix:"",digits:6,minWidth:1,hash:!1,percent:!1},i=(r[0],r[1]),o=r[2],a=r[3],s=r[4],u=r[5],c=["f","e","E"].includes(s);if(void 0!==a&&!c)throw new Error('the type of "'+s+'" should not have a percision width');if(n.type=s,n.digits=void 0!==a?+a:n.digits,n.minWidth=void 0!==o?+o:n.minWidth,n.percent="%"===u,void 0!==i)for(var p=i.split(""),l=void 0,f="";void 0!==(l=p.shift());){if(f.includes(l))throw new Error("Repeated flag of '"+l+"' in '"+t+"'");switch(f+=l,l){case"+":n.prefix="+";break;case" ":"+"!==n.prefix&&(n.prefix=" ");break;case"0":"left"!==n.align&&(n.fill="0");break;case"-":n.align="left",n.fill=" ";break;case"#":n.hash=!0}}return n}(t):t,s="f"===a.type,u=Object.is(r,-0);switch(Object.is(r,-0)&&(a.prefix="-"),a.type){case"d":case"i":case"f":if(s){var c=Math.pow(10,a.digits);o=Math.round(r*c)/c}else o=Math.round(r);if(o<0||u?(a.prefix="-",o=o.toString().slice(1)||"0"):o=o.toString(),s){var p=o.split("."),l=a.digits?"."+(p[1]||"0").padEnd(a.digits,"0"):"";o=p[0]+l,a.string="0"===l.slice(-1)}break;case"o":case"x":case"X":var f="o"===a.type;if(r<0)throw new Error("a negative number "+r+" can't format to "+(f?"octal":"hex"));if(a.string=!0,a.prefix="",o=Math.floor(r),f)o=Math.abs(o).toString(8),o=a.hash?"0"+o:o.toString();else{o=Math.abs(o).toString(16);var h="X"===a.type;a.hash&&(a.prefix+=h?"0X":"0x"),h&&(o=o.toUpperCase())}break;case"e":case"E":if(r<0)throw new Error("a negative number "+r+" can't format to hex");a.string=!0;var d=Math.floor(Math.log10(r)),g=d.toString();d<0?d>=-9&&(g="-0"+g.charAt(1)):(d<=9&&(g="0"+g),g="+"+g),g=a.type+g;var m=n(n({},a),{type:"f",minWidth:a.minWidth-g.length,percent:!1});return{conf:m,result:i(n({},m),r/Math.pow(10,d)).result+g+(a.percent?"%":"")}}var v,y=a.minWidth,w="right"===a.align?"padStart":"padEnd";if("0"===a.fill){var b=y-a.prefix.length,x=o;o=a.prefix+x[w](b,a.fill),v=b-x.length>0}else{o=(x=a.prefix+o)[w](y,a.fill),v=y-x.length>0}return a.string=a.string||"+"===a.prefix||"-"===a.prefix&&0===Number(o)||v,a.percent&&(o+="%",a.string=!0),{result:o,conf:a}};e.default=function(t,e){var r=i(t,e),n=r.conf,o=r.result;return n.string?o:Number(o)}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(1),s=/^\\u((?:[0-9a-fA-F]{4}|[0-9a-fA-F]{6}))$/,u=/^\d+$/,c=function(t){return Number("0x"+t)},p=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Size",function(t){if(t){var e=t.range;if(e.length<2)throw new Error("The count param should have 2 params,but got "+e.length);var r=e,n=r[0],i=r[1],o=s.test(n),a=[];if(o||u.test(n)){var p=void 0,l=void 0;if(e.length>2)throw new Error("the count of range should have just 2 params,if you want support some specail point code,you can set the param like this,["+n+"-"+n+",...]");if(o){if(p=c(RegExp.$1),!s.test(i))throw new Error('the max param "'+i+'" should use unicode too.');l=c(RegExp.$1)}else{if(p=Number(n),!u.test(i))throw new Error('the max param "'+i+'" is not a number.');l=Number(i)}if(l<p)throw new Error("the min param '"+n+"' is big than the max param '"+i+"'");if(l>1114111)throw new Error("the max param's unicode point is big than the max point ("+i+" > '0x10ffff')");a.push([p,l])}else{var f=/^\\u([0-9a-fA-F]{4}|[0-9a-fA-F]{6})\-\\u([0-9a-fA-F]{4}|[0-9A-Fa-f]{6})$/,h=/^(\d+)\-(\d+)$/;e.map(function(t,e){var r,n,i=null,o=!0;if(i=t.match(f))r=c(i[1]),n=c(i[2]);else if(i=t.match(h))r=Number(i[1]),n=Number(i[2]);else{if(!(e>0&&(i=t.match(u))))throw new Error("the param of index "+e+"("+t+") is a wrong range or number.");o=!1,r=n=Number(i[0])}if(o&&n<r)throw new Error("the param of index "+e+"'s range is wrong.("+i[1]+" > "+i[2]+")");if(n>1114111)throw new Error("the param of index "+e+"'s code point("+n+") is big than 0x10ffff");a.push([r,n])})}return{range:a}}})},e.prototype.generate=function(){for(var t=this.params,e=t.Length||{least:1,most:100},r=e.least,n=e.most,i=(t.Size||{range:[[32,126]]}).range,a=i.length-1,s=o.makeRandom(Number(r),Number(n)),u="",c=1;c<=s;c++){var p=i[o.makeRandom(0,a)],l=p[0],f=p[1],h=o.makeRandom(l,f);u+=String.fromCodePoint(h)}return u},e.prototype.test=function(){return!0},e}(a.default);e.default=p},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Regexp",function(t){if(!t)throw new Error("the regexp type must has a regexp rule.");var e=t.rule;if(!o.regexpRule.test(e))throw new Error("wrong regexp expression")}),this.addRule("Config",function(t){if(t){var e={},r=/(.?)\|/g;return Object.keys(t).forEach(function(n){var i=t[n];if("string"==typeof i){for(var o=null,a=[],s=[],u=0;null!==(o=r.exec(i));)"\\"===o[1]?a.push(i.slice(u,r.lastIndex)):(s.push(a.join("")+i.slice(u,r.lastIndex-1)),a=[]),u=r.lastIndex;u<i.length&&s.push(i.slice(u,i.length)),e[n]=s}else e[n]=i}),e}})},e.prototype.generate=function(){var t=this.instance,e=this.params,r=e.Config,n=e.Regexp;return t||(t=this.instance=new o.default(n.rule,{namedGroupConf:r||{}})),t.build()},e.prototype.test=function(){return!0},e}(r(1).default);e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),a=r(15),s=r(0),u=r(1),c=function(t){var e;if(isNaN(t)){if(!o.strRule.test(t))throw new Error("invalid date:"+t);e=a.strtotime(RegExp.$2)}else e=new Date(t);return e},p=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Size",function(t){if(t){var e=t.range;if(2!==e.length)throw new Error("the time range should supply 2 arguments,but got "+e.length);var r=e[0],n=e[1],i=c(r),o=c(n),a=i.getTime(),s=o.getTime();if(s<a)throw new Error("the time range of start time "+r+" is big than end time "+n+".");return{range:[a,s]}}}),this.addRule("Format",function(t){if(!t)return{format:"yyyy-mm-dd"};var e=t.format;return{format:e=s.decodeTrans(e.slice(1))}}),this.addModifier("Format",function(t,e){var r=e.format;return a.dateformat(r,t)})},e.prototype.generate=function(){var t=this.params.Size,e=(null!=t?t:{range:[a.strtotime("-10 year").getTime(),a.strtotime("+10 year").getTime()]}).range,r=s.makeRandom(e[0],e[1]);return new Date(r)},e.prototype.test=function(){return!0},e}(u.default);e.default=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dateformat=e.strtotime=void 0;var n=r(0),i=function(t){return void 0===t?new Date:t instanceof Date?t:new Date(t)},o=function(t,e,r){var n=new Date,i=n.getFullYear().toString();t=t||i,e=e||(n.getMonth()+1).toString(),r=r||n.getDate().toString();var o=[t=(t.length<4?i.slice(0,i.length-t.length):"")+t,e,r].join("/")+" 00:00:00";return new Date(o)};e.strtotime=function(t){if(isNaN(t)){if("string"==typeof t){var e=void 0;try{if(e=new Date(t),isNaN(+e))throw new Error("invalid date")}catch(r){try{e=function(t,e){var r,a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],s=["january","february","march","april","may","june","july","august","september","october","november","december"],u=new RegExp("^("+a.concat(s).join("|")+")(?:\\s+|\\.)(?:(([13]?1)(?:st)?|([12]?2)(?:nd)?|([12]?3)(?:rd)?|([12]0|[12]?[4-9])(?:th)?|(30)th))(?:\\s*,\\s*(\\d{2}|\\d{4}))?$"),c=/([+-]?\d+)\s+(day|month|week|year)s?/g,p=new Date;if(""===(t=t.toLowerCase()))return p.setHours(0,0,0,0),p;if(r=t.match(/^(\d{4})([-\/.])(\d{1,2})\2(\d{1,2})$/))return o(r[1],r[3],r[4]);if(r=t.match(/^(today|yesterday|tomorrow)$/)){var l={today:0,tomorrow:1,yesterday:-1},f=r[1];return e?(e=i(e),l[f]&&e.setDate(e.getDate()+l[f]),e.setHours(0,0,0,0),e):o(null,null,l[f]?(p.getDate()+l[f]).toString():null)}if(r=t.match(/^(\d{4})(\d{1,2})(\d{1,2})$/)){var h=r.slice(1,4);return o.apply(void 0,h)}if(r=t.match(/^(\d{1,2})\/(\d{1,2})(?:\/(\d{2}|\d{4})?)$/))return o(r[4],r[1],r[2]);if(r=t.match(u)){var d=r[1],g=r[3],m=r[8],v=a.indexOf(d),y=s.indexOf(d);return d=v>-1?(v+1).toString():(y+1).toString(),o(m,d,g)}if(r=t.match(/^(([+-]?\d+)\s+(day|month|week|year)s?(\s+(?!$)|))+?(\s+ago)?$/)){for(var w=r[5]?"-":"",b=null,x={year:[],month:[],day:[],week:[]},_={year:0,month:0,day:0,week:0,date:0,fullYear:0};null!==(b=c.exec(t));){var O=b[2],R=b[1];x[O].push("("+R+")")}Object.keys(x).map(function(t){var e=x[t];e.length?_[t]=new Function("","return "+w+"("+e.join("+")+")")():_[t]=0}),_.date=7*_.week+_.day,_.fullYear=_.year;for(var E=["date","month","fullYear"],P=i(e),j=0,k=E.length;j<k;j++){R=_[f=E[j]];var A=n.capitalize(f);if(R){var N=P["get"+A]();try{P["set"+A](N+R)}catch(t){throw t}}}return P}throw new Error("can not parse the date!")}(t)}catch(t){throw t}}return e}throw new Error("invalid date:"+t)}return new Date(+t)};var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u={d:function(){return this.getDate()},dd:function(){return c("d",this)},dddd:function(){return a[this.getDay()]},ddd:function(){return u.dddd().slice(0,3)},m:function(){return this.getMonth()+1},mm:function(){return c("m",this)},mmmm:function(){return s[this.getMonth()]},mmm:function(){return u.mmmm().slice(0,3)},yyyy:function(){return this.getFullYear().toString().padStart(4,"0")},yy:function(){return this.getFullYear().toString().slice(-2).padStart(2,"0")},h:function(){return(this.getHours()%12).toString()},hh:function(){return c("h",this)},H:function(){return this.getHours().toString()},HH:function(){return c("H",this)},M:function(){return this.getMinutes()},MM:function(){return c("M",this)},s:function(){return this.getSeconds().toString()},ss:function(){return c("s",this)},l:function(){return this.getMilliseconds().toString().padStart(3,"0")},L:function(){return Math.round(this.getMilliseconds()/10).toString().padStart(2,"0")},tt:function(){return this.getHours()>=12?"pm":"am"},t:function(){return u.tt.call(this).charAt(0)},TT:function(){return this.getHours()>=12?"PM":"AM"},T:function(){return u.TT.call(this).charAt(0)},S:function(){return["st","nd","rd"][this.getDate()%10-1]||"th"},N:function(){return this.getDay().toString()||"7"}},c=function(t,e){return u[t].call(e).toString().padStart(2,"0")};e.dateformat=function(t,e){return t.replace(/[A-Za-z]*/g,function(t){return u[t]?u[t].call(e):t})}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.addRule("Path",function(t){if(!t)throw new Error("the ref type must has a path param.")})},e.prototype.generate=function(t){var e=t.mocker,r=this.params.Path,n=[];return r.map(function(t){var r=o.getRefMocker(t,e);n.push(r.result)}),1===r.length?n[0]:o.withPromise(n)},e.prototype.test=function(){return!0},e}(r(1).default);e.default=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){this.configOptions={step:{type:Number,default:1},start:{type:Number,default:1}}},e.prototype.generate=function(t){for(var e=t.dpath,r=this.params.Config||{},n=r.start,i=r.step,o=e.length;o--;){var a=e[o];if("number"==typeof a)return n+i*a}return n},e.prototype.test=function(){return!0},e}(r(1).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(19),i=r(20),o=r(21),a=r(22),s=r(23),u=r(24),c=r(25),p=r(26),l={Size:n.default,Length:i.default,Format:o.default,Config:a.default,Func:s.default,Regexp:u.default,Path:c.default},f=new p.Dispatcher;Object.keys(l).map(function(t){var e=l[t];f.addParser(t,e.config,e.parse,e.setting||{})}),e.default=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["["],endTag:["]"],separator:","},parse:function(){return{range:this.info().params}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["{"],endTag:["}"],separator:","},parse:function(){var t=this,e=this.info().params;if(e.length>2)return this.halt("the length should not have more than 2 params");var r=e[0],n=e[e.length-1],i={least:r,most:n},o=function(e){var r=i[e];if(isNaN(Number(r))||!/^(?:[1-9]+\d*|0)$/.test(r)||+r<0)return t.halt("the length param of "+e+' expect a integer number greater than or equal to 0,but got "'+r+'"')};if(o("least"),2===e.length&&(o("most"),Number(r)>=Number(n)))throw new Error('the length param of least "'+r+'" is greater than or equal to the most "'+n+'"');return{least:Number(r),most:Number(n)}}};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["%"],endTag:[]},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("wrong format param:"+t.join("")):{format:t[0]}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),i=r(0),o={config:{startTag:["#["],endTag:["]"],separator:","},parse:function(){var t=this.info().params,e={};if(t.length)for(var r=/^\s*([$\w]+)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|(.+))\s*)?$/,o=["true","false","null","undefined"],a=0,s=t.length;a<s;a++){var u=t[a];if(r.test(u)){var c=RegExp.$1,p=RegExp.$3,l=RegExp.$4;if(e.hasOwnProperty(c))throw new Error('the config of "'+c+'" has exists,do not define again.');if(p)e[c]=i.decodeTrans(p);else if(l){var f=l;"/"===f.charAt(0)?n.regexpRule.test(f)?e[c]=i.getExp(f):this.halt("wrong regexp:"+f):isNaN(Number(f))?o.indexOf(f)>-1?e[c]=i.getExp(f):this.halt("wrong param:"+u):e[c]=Number(f)}else e[c]=!0}else this.halt("the config params of index "+a+' "'+u+'" is wrong,please check it.')}return e},setting:{frozen:!1}};e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(0),o=r(3).default.fns,a={config:{startTag:["@"],endTag:[],separator:"|",pattern:/^([a-z][\w$]*)(?:\(((?:(?:(['"])(?:(?!\3)[^\\]|\\.)*\3|[\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)\s*(?:,(?!\s*\))|(?=\s*\)))\s*)*)\)|)/,rule:new RegExp("^@(?:[a-z][\\w$]*(?:\\((?:(?:(['\"])(?:(?!\\1)[^\\\\]|\\\\.)*\\1|[\\w$]+(?:\\.[\\w$]+|\\[(?:(['\"])(?:(?!\\2)[^\\\\]|\\.)*\\2|\\d+)\\])*)\\s*(?:,(?!\\s*\\))|(?=\\s*\\)))\\s*)*\\)|)(?:\\|(?!$|"+n.encodeSplitor+")|(?=\\s*$|"+n.encodeSplitor+")))*")},parse:function(){var t=this.info(),e=t.patterns,r=t.code,n={queue:[],fns:[],params:[],options:[]};if(e.length){var a=/(['"])((?:(?!\1)[^\\]|\\.)*)\1|([\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)/g,s=["true","false","undefined","null","NaN"];return e.forEach(function(t){var e=t[1],r=t[2],u=[];if(r)for(var c=null;null!==(c=a.exec(r));){var p=c[3],l={};p?s.indexOf(p)>-1||!isNaN(Number(p))?l.value=i.getExp(p):(l.value=p,l.variable=!0):l.value=c[2],u.push(l)}n.queue.push(e);var f={name:e,params:u};n.options.push(f);var h=function(t){var e=t.name,r=t.params,n=o.hasOwnProperty(e),i=n?"__FN__":"__RESULT__."+e,a=n?[i]:[],s=n?["__RESULT__"]:[],u=[],c=0;return r.forEach(function(t){var e=t.value;if(t.variable){var r="string"==typeof e&&(e.includes(".")||e.includes("["));s.push(r?'__EXP__(__CONFIG__,"'+e+'")':'__CONFIG__.hasOwnProperty("'+e+'") ? __CONFIG__["'+e+'"] : __VARS__["'+e+'"]')}else u.push(e),s.push("__ARGS__["+c+++"]")}),{fn:new Function(a.concat("__ARGS__","__VARS__","__RESULT__","__CONFIG__","__EXP__").join(","),n?"return "+i+".apply(this,["+s.join(",")+"]);":"return "+i+"("+s.join(",")+")"),param:u}}(f),d=h.fn,g=h.param;n.fns.push(d),n.params.push(g)}),n}this.halt('no modify functions find in "'+r+'"')}};e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["/"],endTag:[],rule:r(4).parserRule},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("invalid regexp rule:"+t.join("")):{rule:t[0]}}};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["&"],endTag:[],separator:",",pattern:/^(\.{1,2}(?:\/\.\.)*|<\w+?>)?((?:\/(?:[^.\/\\<>*?:,]|\.(?![.\/,]|$))+)+)/,rule:/^&(?:(?:\.{1,2}(?:\/\.\.)*|<\w+?>)?(?:\/(?:[^.\/\\<>*?:,]|\.(?![.\/,]|$))+)+(?=(,)|:|$)\1?)+/},parse:function(){var t=this.info(),e=t.patterns,r=t.code;e.length||this.halt("no path params found:"+r);var n=[];return e.forEach(function(t){var e=t[0],r=t[1],i=t[2],o=!!r,a=o&&"<"===r.charAt(0)?r.slice(1,-1):void 0,s=0;if(o&&!a){var u=r.split("/");s=u.length-("."===u[0]?1:0)}var c={relative:o,path:i.split("/").slice(1),depth:s,fullpath:e,variable:a};n.push(c)}),n}};e.default=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Dispatcher=e.AParser=void 0;var a=r(2),s=r(0),u=function(){function t(){this.patterns=[],this.code="",this.setting={frozen:!0},this.init()}return t.prototype.init=function(){return this},t.prototype.info=function(){return{tags:this.tags,params:this.params,code:this.code,patterns:this.patterns}},t.prototype.parseCode=function(t,e){this.code=t,this.tags=e;var r=e.start,n=e.end,i=this.constructor,o=i.separator,a=i.pattern;if(o||n){var s=[],u=[r.length].concat(n?-n.length:[]),c=t.slice.apply(t,u);if(a)for(var p=null,l=c,f=0,h=c.length;f<h&&null!==(p=l.match(a));){var d=p[0].length;f+=d;var g=c.charAt(f);if(0===d)throw new Error('the pattern rule "'+a.toString()+'" match nothing to the string:'+l);if(f<h&&g!==o)throw new Error('unexpected separator character "'+g+'" in "'+l.slice(f)+'",expect to be "'+o+'"');f+=1,l=l.slice(d+1),s.push(p[0]),a.lastIndex=0,this.patterns.push(p)}else{for(var m="",v=0,y=c.length;v<y;v++){var w=c.charAt(v);"\\"===w?m+="\\"+c.charAt(++v):w===o?(s.push(m),m=""):m+=w}(s.length||m)&&s.push(m)}this.params=s}else this.params=[t]},t.prototype.halt=function(t){throw new Error(t)},t}();e.AParser=u;var c=function(){function t(){this.parsers={},this.tagPairs=[],this.pairHash={},this.splitor=a.splitor,this.instances={}}return t.prototype.addParser=function(t,e,r,n){var o,c=e.startTag,p=e.endTag,l=e.separator,f=e.pattern,h=this.splitor;if(l===h)return this.halt('the parser of "'+t+"\" can not set '"+h+"' as separator.");if(this.parsers.hasOwnProperty(t))return this.halt('the parser of "'+t+'" has existed.');if(0===c.length)return this.halt('the parser of "'+t+"\"'s startTag can not be empty. ");if(/(\\|:|\s)/.test(c.concat(p).join(""))){var d=RegExp.$1;return this.halt('the parser of "'+t+'" contains special char ('+d+")")}var g=e.rule,m=[],v=0===p.length&&g instanceof RegExp;if(!v){var y=function(t,e){return e.length>t.length?1:-1};c.sort(y),p.sort(y)}var w=[],b=[];c.map(function(t){v||w.push(s.encodeRegexpChars(t)),p.length?p.map(function(e){m.push(t+h+e),v||b.push(s.encodeRegexpChars(e))}):m.push(t)});for(var x=0,_=m.length;x<_;x++){var O=m[x];if(this.tagPairs.indexOf(O)>-1){var R=O.split(h);return this.halt('the parser of "'+t+'"\'s start tag "'+R[0]+'" and end tag "'+R[1]+'" has existed.')}this.pairHash[O]=t}if(!v){var E=p.length,P="(?="+a.encodeSplitor+"|$)",j="(?:"+w.join("|")+")",k=void 0;if(E){var A=b.join("|");k="^"+j+"(?:\\\\.|[^\\\\](?!"+A+")|[^\\\\])+?(?:"+A+P+")"}else k="^"+j+"(?:\\\\.|[^\\\\"+h+"])+?"+P;g=new RegExp(k)}this.tagPairs=this.tagPairs.concat(m).sort(function(t,e){return t.length-e.length}),this.parsers[t]=((o=function(t){function e(){var e=t.call(this)||this;return n&&(e.setting=Object.assign(e.setting,n)),e}return i(e,t),e.prototype.parse=function(){return r.call(this)},e}(u)).startTag=c,o.endTag=p,o.separator=l||"",o.splitor=h,o.rule=g,o.pattern=f||null,o)},t.prototype.parse=function(t){for(var e=t.length,r=this.splitor,n=0,i=t,a={},s={};n<e;){var u=this.parseUntilFind(i),c=u.data,p=u.total;if((n+=p)<e&&r!==t.charAt(n))throw new Error('unexpect splitor of "'+t.slice(n)+'",expect to be started with splitor "'+r+'"');i=i.slice(p+1),n+=1;var l=c.instance,f=c.type;if(a[f]&&l.setting.frozen)throw new Error('the config of "'+f+'" ('+l.code+") can not be set again.");var h=l.parse();Array.isArray(h)?s[f]=h:"object"==typeof h&&(s[f]=o(o({},s[f]||{}),h)),a[f]=!0}return s},t.prototype.getInstance=function(t){return new this.parsers[t]},t.prototype.parseUntilFind=function(t){if(""===t)throw new Error("the context is empty");var e,r=this.tagPairs,n=this.pairHash,i=this.splitor,o=this.parsers,a=[],s='can not parse context "'+t+'",no parser matched.',u=[],c=0,p="",l=function(){var e=t.charAt(c++),n=(p+=e).length,o=!1;if(1===(u=r.filter(function(t){var e=0===t.indexOf(p);return!e||t!==p&&t.charAt(n)!==i||(o=!0,a.push(t)),e})).length){if(!o){var s=u[0],l=s.indexOf(i),f=l>0?s.slice(0,l):s;0===t.indexOf(f)&&a.push(s)}return"break"}};do{if("break"===l())break}while(u.length);var f=a.length;if(f){for(var h={},d=[];f--;){var g=a[f],m=n[g];if(!h[m]){var v=null,y=o[m],w=y.rule,b=y.separator;if(d.push(m),v=t.match(w)){if(b&&v[0].slice(-1)===b)throw new Error('no need separator "'+b+'" in type "'+m+'" of code "'+t+'"');var x=this.getInstance(m),_=g.split(i),O=_[0],R=_[1],E=v[0];try{x.parseCode(E,{start:O,end:R||""}),e={data:{type:m,instance:x},total:E.length};break}catch(t){h[m]=!0}}}}if(e)return e;throw new Error(s+"[tried types:"+d.join(",")+"]")}throw new Error(s)},t.prototype.halt=function(t){throw new Error(t)},t}();e.Dispatcher=c}]);