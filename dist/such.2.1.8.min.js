!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Such=e():t.Such=e()}(this,(function(){return(()=>{"use strict";var t={500:function(t,e){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.rule=void 0,e.rule=/^%([-+#0 ]*)?([1-9]\d*)?(?:\.(\d+))?([dfeEoxXi])(%)?$/;var r=function(t,a){if("number"!=typeof a)throw new Error("The second param must be a number,got '"+a+"'");var o,i="string"==typeof t?function(t){var n=t.match(e.rule);if(null===n)throw new Error("Wrong formatting template: '"+t+"', should match the rule:"+e.rule.toString());var r={align:"right",type:"",fill:" ",prefix:"",digits:6,minWidth:1,hash:!1,percent:!1},a=(n[0],n[1]),o=n[2],i=n[3],s=n[4],c=n[5],u=["f","e","E"].includes(s);if(void 0!==i&&!u)throw new Error('the type of "'+s+'" should not have a percision width');if(r.type=s,r.digits=void 0!==i?+i:r.digits,r.minWidth=void 0!==o?+o:r.minWidth,r.percent="%"===c,void 0!==a)for(var p=a.split(""),l=void 0,f="";void 0!==(l=p.shift());){if(f.includes(l))throw new Error("Repeated flag of '"+l+"' in '"+t+"'");switch(f+=l,l){case"+":r.prefix="+";break;case" ":"+"!==r.prefix&&(r.prefix=" ");break;case"0":"left"!==r.align&&(r.fill="0");break;case"-":r.align="left",r.fill=" ";break;case"#":r.hash=!0}}return r}(t):t,s="f"===i.type,c=Object.is(a,-0);switch(Object.is(a,-0)&&(i.prefix="-"),i.type){case"d":case"i":case"f":if(s){var u=Math.pow(10,i.digits);o=Math.round(a*u)/u}else o=Math.round(a);if(o<0||c?(i.prefix="-",o=o.toString().slice(1)||"0"):o=o.toString(),s){var p=o.split("."),l=i.digits?"."+(p[1]||"0").padEnd(i.digits,"0"):"";o=p[0]+l,i.string="0"===l.slice(-1)}break;case"o":case"x":case"X":var f="o"===i.type;if(a<0)throw new Error("a negative number "+a+" can't format to "+(f?"octal":"hex"));if(i.string=!0,i.prefix="",o=Math.floor(a),f)o=Math.abs(o).toString(8),o=i.hash?"0"+o:o.toString();else{o=Math.abs(o).toString(16);var h="X"===i.type;i.hash&&(i.prefix+=h?"0X":"0x"),h&&(o=o.toUpperCase())}break;case"e":case"E":if(a<0)throw new Error("a negative number "+a+" can't format to hex");i.string=!0;var d=Math.floor(Math.log10(a)),g=d.toString();d<0?d>=-9&&(g="-0"+g.charAt(1)):(d<=9&&(g="0"+g),g="+"+g),g=i.type+g;var m=n(n({},i),{type:"f",minWidth:i.minWidth-g.length,percent:!1});return{conf:m,result:r(n({},m),a/Math.pow(10,d)).result+g+(i.percent?"%":"")}}var v,y=i.minWidth,w="right"===i.align?"padStart":"padEnd";if("0"===i.fill){var b=y-i.prefix.length,x=o;o=i.prefix+x[w](b,i.fill),v=b-x.length>0}else{o=(x=i.prefix+o)[w](y,i.fill),v=y-x.length>0}return i.string=i.string||"+"===i.prefix||"-"===i.prefix&&0===Number(o)||v,i.percent&&(o+="%",i.string=!0),{result:o,conf:i}};e.default=function(t,e){var n=r(t,e),a=n.conf,o=n.result;return a.string?o:Number(o)}},536:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},a.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.RegexpGroup=e.RegexpGroupItem=e.RegexpASCII=e.RegexpUnicodeAll=e.RegexpUnicode=e.RegexpHexCode=e.RegexpRange=e.RegexpSet=e.RegexpTimesQuantifiers=e.RegexpTimesMulti=e.RegexpTimes=e.RegexpRefOrNumber=e.RegexpOctal=e.RegexpTranslateChar=e.RegexpChar=e.RegexpAnchor=e.RegexpPrint=e.RegexpCharset=e.RegexpControl=e.RegexpBegin=e.RegexpBackspace=e.RegexpNull=e.RegexpAny=e.RegexpLookaround=e.RegexpSpecial=e.RegexpReference=e.RegexpOrigin=e.RegexpEmpty=e.RegexpPart=e.regexpRule=e.parserRule=e.CharsetHelper=void 0;var i=function(){return Math.random()>=.5},s=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},c=function(t){for(var e=u(t),n=s(1,e),r=t.length,a=0;r>1;){var o=Math.floor(r/2),i=t[a+o-1],c=t[a+o];if(n>=i&&n<=c){a+=o-(n===i?1:0);break}n>c?(a+=o+1,r-=o+1):r-=o}return{rand:n,index:a}},u=function(t){return t[t.length-1]},p=function(){function t(){}return t.charsetOfAll=function(){return t.charsetOfNegated("ALL")},t.charsetOfDotall=function(){return t.charsetOfNegated("DOTALL")},t.charsetOfNegated=function(e){var n=t.points,r=t.cache;if(r[e])return r[e];var a=0,o=56319,i=57344,s=65535,c=[],p=[],l=0,f=function(t,e){var n=e-t+1;n<=0||(c.push(n>1?[t,e]:[t]),l+=n,p.push(l))};if("DOTALL"===e)f(a,o),f(i,s);else{for(var h="ALL"===e?[[10],[13],[8232,8233]]:n[e.toLowerCase()],d="S"===e,g=h.length-(d?1:0),m=0;a<=o&&g>m;){var v=h[m++],y=v[0],w=v[1];f(a,y-1),a=(w||y)+1}if(a<o&&f(a,o),d){var b=u(h)[0];f(i,b-1),f(b+1,s)}else f(i,s)}return r[e]={ranges:c,totals:p}},t.charsetOf=function(e){var n=t.lens;return{ranges:t.points[e],totals:n[e]}},t.getCharsetInfo=function(e,n){var r;void 0===n&&(n={});var a=t;return["w","d","s"].includes(e)?r=a.charsetOf(e):(r="."===e?n.s?a.charsetOfDotall():a.charsetOfAll():a.charsetOfNegated(e),n.u&&(r={ranges:r.ranges.concat([a.bigCharPoint]),totals:r.totals.concat(a.bigCharTotal)})),r},t.make=function(e,n){return void 0===n&&(n={}),t.makeOne(t.getCharsetInfo(e,n))},t.makeOne=function(t){var e=t.totals,n=t.ranges,r=c(e),a=r.rand,o=r.index,i=n[o][0]+(a-(e[o-1]||0))-1;return String.fromCodePoint(i)},t.points={d:[[48,57]],w:[[48,57],[65,90],[95],[97,122]],s:[[9,13],[32],[160],[5760],[8192,8202],[8232,8233],[8239],[8287],[12288],[65279]]},t.lens={d:[10],w:[10,36,37,63],s:[5,6,7,8,18,20,21,22,23,24]},t.bigCharPoint=[65536,1114111],t.bigCharTotal=1048576,t.cache={},t}();e.CharsetHelper=p;var l=p,f={beginWith:"^",endWith:"$",matchAny:".",groupBegin:"(",groupEnd:")",uncapture:"?:",lookahead:"?=",lookaheadNot:"?!",groupSplitor:"|",setBegin:"[",setEnd:"]",rangeSplitor:"-",multipleBegin:"{",multipleEnd:"}",multipleSplitor:",",translate:"\\",leastOne:"+",multiple:"*",optional:"?",setNotIn:"^",delimiter:"/"},h={i:1,u:2,s:4,g:8,m:16,y:32},d=Object.keys(h).join("");e.parserRule=new RegExp("^\\/(?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?/["+d+"]*");var g="((?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?)";e.regexpRule=new RegExp("^\\/"+g+"\\/(["+d+"]*)$");var m=new RegExp("^"+g+"$"),v=/^(0[0-7]{0,2}|[1-3][0-7]{0,2}|[4-7][0-7]?)/,y=function(){function t(t,n){if(void 0===n&&(n={}),this.rule=t,this.config=n,this.context="",this.flags=[],this.lastRule="",this.queues=[],this.ruleInput="",this.flagsHash={},this.totalFlagBinary=0,this.rootQueues=[],this.hasLookaround=!1,this.hasNullRoot=null,t instanceof RegExp)this.rule=t.toString(),this.context=t.source,this.flags=t.flags.split("");else{if(!e.regexpRule.test(t)&&!m.test(t))throw new Error("wrong regexp:"+t);this.rule=t,this.context=RegExp.$1,this.flags=RegExp.$2?RegExp.$2.split(""):[]}this.checkFlags(),this.parse(),this.lastRule=this.ruleInput}return t.prototype.build=function(){if(this.hasLookaround)throw new Error("the build method does not support lookarounds.");var t=this.rootQueues,e="",n=a(a({},this.config),{flags:this.flagsHash,namedGroupData:{},captureGroupData:{},beginWiths:[],endWiths:[]}),r="the regexp has null expression, will match nothing";if(!0===this.hasNullRoot)throw new Error(r);if(this.hasNullRoot=t.some((function(t){return!!t.isMatchNothing||(e+=t.build(n),!1)})),this.hasNullRoot)throw new Error(r);return e},t.prototype.info=function(){var t=this;return{rule:t.rule,context:t.context,lastRule:t.lastRule,flags:t.flags,queues:t.queues}},t.prototype.parse=function(){for(var t=this,e=this.context,n=f,r=0,a=e.length,i=[new N],s=[],c=[],p=[],l={},h={},d=/^(\?(?:<(.+?)>|:))/,g=/^(\?(?:<=|<!|=|!))/,m=this.hasFlag("u"),y=[],w=[],b=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){return e.parser=t})),i.push.apply(i,e)},x=0,I=null,L=null,W=function(t){var e=u(y)||u(s)||u(c);["group","lookaround"].includes(t.type)&&(("group"===t.type?s:c).push(t),y.push(t));e&&("group"===e.type?e.addItem(t):t.parent=e)},K=function(t,e){return["groupBegin","groupSplitor","times","begin","anchor"].includes(t)||"charset"===t&&"b"===e.charset.toLowerCase()};r<a;){var Z=e.charAt(r++);if((L||I)&&["[","(",")","|","*","?","+","{",".","}","^","$","/"].includes(Z)){var Q=new $(Z);L?(Q.parent=L,L=null):Q.parent=I,b(Q)}else{var Y=e.slice(r),X=u(s),J=u(i),tt=null,et=null;switch(Z){case n.translate:var nt=e.charAt(r++),rt=Z+nt;if("u"===nt||"x"===nt){var at=(tt="x"===nt?new H:m?new G:new B).untilEnd(e.slice(r));if(0===at){if(m)throw new Error("invalid unicode code point:"+e);tt=new T("\\"+nt)}else r+=at}else if("c"===nt){var ot=e.charAt(r);if(m){if(!/[a-zA-Z]/.test(ot))throw new Error("invalid unicode escape,unexpect control character["+r+"]:\\c"+ot);tt=new P(ot),r++}else/[A-Za-z]/.test(ot)?(tt=new P(ot),r++):(tt=new $("\\"),r--)}else if(["d","D","w","W","s","S","b","B"].includes(nt))tt=new A(rt);else if(["t","r","n","f","v"].includes(nt))tt=new S(rt);else if(/^(\d+)/.test(Y)){var it=RegExp.$1;if(I)if(v.test(it)){var st=RegExp.$1;tt=new M("\\"+st),r+=st.length-1}else tt=new T("\\"+it.charAt(0));else if("0"===it.charAt(0))if(1===it.length)tt=new k;else if(+it.charAt(1)>7)tt=new k;else{st=it.length>=3&&+it.charAt(2)<=7?it.slice(1,3):it.charAt(1);tt=new M("\\0"+st),r+=st.length}else if(r+=it.length-1,+it<=p.length){tt=new O("\\"+it);var ct=p[+it-1];h[it]=ct,ct.isAncestorOf(X)?tt.ref=null:tt.ref=ct}else tt=new F("\\"+it),w.push(tt)}else if("k"===nt&&/^<([^>]+?)>/.test(e.slice(r))){var ut=RegExp.$1;if(!l[ut])throw new Error("Invalid named capture referenced:"+ut);r+=ut.length+2;ct=l[ut];tt=new O("\\"+ct.captureIndex,ut),ct.isAncestorOf(X)?tt.ref=null:tt.ref=ct}else tt=new T(rt);break;case n.groupBegin:var pt=g.test(Y);if(pt){var lt=RegExp.$1;tt=new R(lt),et=new _("lookaroundBegin"),this.hasLookaround=!0,r+=lt.length}else tt=new U,et=new _("groupBegin");if(!pt){if(tt=tt,d.test(Y)){var ft=RegExp.$1,ht=RegExp.$2;"?:"===ft||(tt.captureIndex=++x,tt.captureName=ht,l[ht]=tt),r+=ft.length}else tt.captureIndex=++x;tt.captureIndex>0&&p.push(tt)}break;case n.groupEnd:if(!y.length)throw new Error("unmatched "+Z+',you mean "\\'+Z+'"?');var dt=y.pop(),gt=("group"===dt.type?s:c).pop();gt.isComplete=!0,(et=new _(dt.type+"End")).parent=gt;break;case n.groupSplitor:var mt=u(s);if(mt)mt.addNewGroup();else{var vt=new U;vt.isRoot=!0,vt.addRootItem(i.slice(1)),i.splice(1,0,vt),s.push(vt)}et=new _("groupSplitor");break;case n.setBegin:/^\\b]/.test(Y)?(tt=new j,r+=3):(I=new q,"^"===Y.charAt(0)&&(I.reverse=!0,r+=1),b(I),W(I),(et=new _("setBegin")).parent=I);break;case n.setEnd:I?(I.isComplete=!0,(et=new _("setEnd")).parent=I,I=null):tt=new $(Z);break;case n.rangeSplitor:if(I)if(J.codePoint<0)tt=new $(Z);else Y.charAt(0)===n.setEnd?(I.isComplete=!0,I=null,r+=1):(I.pop(),(L=new V).parent=I,i.pop().parent=L,b(L,J),(et=new _("rangeSplitor")).parent=L);else tt=new $(Z);break;case n.multipleBegin:case n.optional:case n.multiple:case n.leastOne:var yt=(tt=Z===n.multipleBegin?new D:new(z.bind.apply(z,o([void 0],this.config.maxRepeat?[this.config.maxRepeat]:[])))).untilEnd(e.slice(r-1));if(yt>0){var wt=J instanceof _?J.special:J.type,bt="["+J.input+"]nothing to repeat[index:"+r+"]:"+e.slice(r-1,r-1+yt);if(K(wt,J))throw new Error(bt);r+=yt-1,tt.target="groupEnd"===wt||"setEnd"===wt?J.parent:J}else tt=new $(Z);break;case n.matchAny:tt=new E;break;case n.beginWith:case n.endWith:tt=new C(Z);break;case n.delimiter:throw new Error('unexpected pattern end delimiter:"/'+Y+'"');default:tt=new $(Z)}if(tt){var xt=tt;if(b(xt),L){if(tt.codePoint<0){var Ot=i.splice(-4,4),_t=Ot[1],Rt=Ot[3],Et=new $("-");I.pop(),[_t,Et,Rt].map((function(t){return t.parent=I,b(t),t}))}else tt.parent=L;L=null}else I?xt.parent=I:W(xt)}et&&(tt&&(et.parent=tt),b(et))}}if(w.length){var kt=function(t,e,n){for(var r=0,a=!1,i=t.length;r<i;r++)if(e===t[r]){a=!0;break}a&&t.splice.apply(t,o([r,1],n))},jt=p.length;w.map((function(t){var e,n=t.input.slice(1),r=n.length,a=0;if("0"!==n.charAt(0)&&+n<=jt)(e=new O(t.input)).ref=null,a=r;else if(/^([1-3][0-7]{0,2}|[4-7][0-7]?)/.test(n)){var o=RegExp.$1;e=new M("\\"+o),a+=o.length}else e=new T("\\"+n.charAt(0)),a+=1;e.linkParent=t.parent;for(var s=[e];a<r;){var c=new $(n.charAt(a++));c.linkParent=t.parent,s.push(c)}t.parent&&kt(t.parent.queues,t,s),kt(i,t,s)}))}i.length>1&&"group"===i[1].type&&!0===i[1].isRoot&&(i[1].isComplete=!0);var Nt=[],Pt="";i.every((function(t){if(!t.isComplete)throw new Error("the regexp segment "+t.type+" is not completed:"+t.input);return null===t.parent&&(Nt.push(t),Pt+=t.getRuleInput()),!0})),this.ruleInput=Pt,this.rootQueues=Nt,this.queues=i},t.prototype.checkFlags=function(){var t,e=this.flags,n=e.length;if(0!==n){if(n>Object.keys(h).length)throw new Error("The rule may has repeated or unrecognized flags<got '"+e.join("")+"'>, please check.");for(var r=e[0],a=h[r],o=((t={})[r]=!0,t),i=1,s=e.length;i<s;i++){var c=e[i],u=h[c];if(0!=(a&u))throw new Error("wrong flag["+i+"]:"+c);a+=u,o[c]=!0}this.flagsHash=o,this.totalFlagBinary=a,(o.y||o.m||o.g)&&console.warn("the flags of 'g','m','y' will ignore,but you can set flags such as 'i','u','s'")}},t.prototype.hasFlag=function(t){var e=this.totalFlagBinary,n=h[t];return n&&0!=(n&e)},t.prototype.getFlagsHash=function(){return this.flagsHash},t.maxRepeat=5,t}();e.default=y;var w=function(){function t(t){void 0===t&&(t=""),this.input=t,this.queues=[],this.codePoint=-1,this.min=1,this.max=1,this.dataConf={},this.buildForTimes=!1,this.curParent=null,this.matchNothing=!1,this.completed=!0}return Object.defineProperty(t.prototype,"parser",{get:function(){return this.parserInstance},set:function(t){this.parserInstance=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.getCodePointCount()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.curParent},set:function(t){this.curParent=t,"special"!==this.type&&t.add(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkParent",{set:function(t){this.curParent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMatchNothing",{get:function(){return this.matchNothing},set:function(t){this.matchNothing=t,this.parent&&(this.parent.isMatchNothing=t)},enumerable:!1,configurable:!0}),t.prototype.setRange=function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},t.prototype.add=function(t){this.queues=this.queues.concat(t)},t.prototype.pop=function(){return this.queues.pop()},t.prototype.build=function(t){var e=this,n=this.min,r=this.max,a="";if(0===n&&0===r);else{var o=n+Math.floor(Math.random()*(r-n+1));if(0!==o){var s=function(){var n=e.prebuild(t);return t.flags&&t.flags.i&&(n=i()?i()?n.toLowerCase():n.toUpperCase():n),n};if(this.buildForTimes)for(;o--;)a+=s();else a=s().repeat(o)}}return this.dataConf=t,this.setDataConf(t,a),a},t.prototype.untilEnd=function(t){},t.prototype.setDataConf=function(t,e){},t.prototype.isAncestorOf=function(t){do{if(t===this)return!0}while(t=null==t?void 0:t.parent);return!1},t.prototype.getRuleInput=function(t){return this.queues.length?this.buildRuleInputFromQueues():this.input},t.prototype.buildRuleInputFromQueues=function(){return this.queues.reduce((function(t,e){return t+e.getRuleInput()}),"")},t.prototype.prebuild=function(t){return this.queues.length?this.queues.reduce((function(e,n){return e+n.build(t)}),""):""},t.prototype.getCodePointCount=function(){return 1},t}();e.RegexpPart=w;var b=function(t){function e(e){var n=t.call(this,e)||this;return n.min=0,n.max=0,n}return r(e,t),e}(w);e.RegexpEmpty=b;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.prebuild=function(){return this.input},e}(w);e.RegexpOrigin=x;var O=function(t){function e(e,n){void 0===n&&(n="");var r=t.call(this,e)||this;return r.name=n,r.type="reference",r.ref=null,r.index=Number(""+e.slice(1)),r}return r(e,t),e.prototype.prebuild=function(t){var e=this.ref;if(null===e)return"";var n=e.captureIndex,r=t.captureGroupData;return r.hasOwnProperty(n)?r[n]:""},e}(w);e.RegexpReference=O;var _=function(t){function e(e){var n=t.call(this)||this;return n.special=e,n.type="special",n}return r(e,t),e}(b);e.RegexpSpecial=_;var R=function(t){function e(e){var n=t.call(this)||this;return n.type="lookaround",n.looktype=e,n.isComplete=!1,n}return r(e,t),e.prototype.getRuleInput=function(){return"("+this.looktype+this.buildRuleInputFromQueues()+")"},e}(b);e.RegexpLookaround=R;var E=function(t){function e(){var e=t.call(this,".")||this;return e.type="any",e.buildForTimes=!0,e}return r(e,t),e.prototype.prebuild=function(t){return l.make(".",t.flags)},e}(w);e.RegexpAny=E;var k=function(t){function e(){var e=t.call(this,"\\0")||this;return e.type="null",e}return r(e,t),e.prototype.prebuild=function(){return"\0"},e}(w);e.RegexpNull=k;var j=function(t){function e(){var e=t.call(this,"[\\b]")||this;return e.type="backspace",e}return r(e,t),e.prototype.prebuild=function(){return"\b"},e}(w);e.RegexpBackspace=j;var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="begin",e}return r(e,t),e}(b);e.RegexpBegin=N;var P=function(t){function e(e){var n=t.call(this,"\\c"+e)||this;return n.type="control",n.codePoint=parseInt(e.charCodeAt(0).toString(2).slice(-5),2),n}return r(e,t),e.prototype.prebuild=function(){return String.fromCharCode(this.codePoint)},e}(w);e.RegexpControl=P;var A=function(t){function e(e){var n=t.call(this,e)||this;return n.type="charset",n.charset=n.input.slice(-1),n.buildForTimes=!0,n}return r(e,t),e.prototype.prebuild=function(t){var e=this.charset;return"b"===e||"B"===e?(console.warn("please do not use \\b or \\B"),""):l.make(e,t.flags)},e.prototype.getCodePointCount=function(){var t=this.parser,e=this.charset,n=l.getCharsetInfo(e,t.getFlagsHash()).totals;return u(n)},e}(w);e.RegexpCharset=A;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="print",e}return r(e,t),e.prototype.prebuild=function(){return new Function("","return '"+this.input+"'")()},e}(w);e.RegexpPrint=S;var C=function(t){function e(e){var n=t.call(this,e)||this;return n.type="anchor",n.anchor=e,console.warn('the anchor of "'+n.input+'" will ignore.'),n}return r(e,t),e}(b);e.RegexpAnchor=C;var $=function(t){function e(e){var n=t.call(this,e)||this;return n.type="char",n.codePoint=e.codePointAt(0),n}return r(e,t),e}(x);e.RegexpChar=$;var T=function(t){function e(e){var n=t.call(this,e)||this;return n.type="translate",n.codePoint=e.slice(-1).codePointAt(0),n}return r(e,t),e.prototype.prebuild=function(){return this.input.slice(-1)},e}(x);e.RegexpTranslateChar=T;var M=function(t){function e(e){var n=t.call(this,e)||this;return n.type="octal",n.codePoint=Number("0o"+e.slice(1)),n}return r(e,t),e.prototype.prebuild=function(){return String.fromCodePoint(this.codePoint)},e}(w);e.RegexpOctal=M;var F=function(t){function e(e){var n=t.call(this,e)||this;return n.type="refornumber",n}return r(e,t),e.prototype.prebuild=function(){throw new Error('the "'+this.input+'" must parse again,either reference or number')},e}(w);e.RegexpRefOrNumber=F;var I=function(t){function e(){var e=t.call(this)||this;return e.type="times",e.maxNum=y.maxRepeat,e.greedy=!0,e.minRepeat=0,e.maxRepeat=0,e.isComplete=!1,e}return r(e,t),Object.defineProperty(e.prototype,"target",{set:function(t){t.setRange({min:this.minRepeat,max:this.maxRepeat})},enumerable:!1,configurable:!0}),e.prototype.untilEnd=function(t){if(this.rule.test(t)){var e=RegExp.$1;return this.isComplete=!0,this.input=e,this.parse(),e.length}return 0},e}(w);e.RegexpTimes=I;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\{(\d+)(,|,(\d*))?}(\??))/,e}return r(e,t),e.prototype.parse=function(){var t=RegExp.$2,e=RegExp.$3,n=RegExp.$4,r=RegExp.$5;if(this.greedy="?"!==r,this.minRepeat=parseInt(t,10),this.maxRepeat=Number(n)?parseInt(n,10):e?this.minRepeat+2*this.maxNum:this.minRepeat,this.maxRepeat<this.minRepeat)throw new Error("wrong quantifier: {"+this.minRepeat+", "+this.maxRepeat+"}")},e}(I);e.RegexpTimesMulti=D;var z=function(t){function e(e){void 0===e&&(e=y.maxRepeat);var n=t.call(this)||this;return n.maxNum=e,n.rule=/^(\*\?|\+\?|\?\?|\*|\+|\?)/,n}return r(e,t),e.prototype.parse=function(){var t=RegExp.$1;switch(this.greedy=1===t.length,t.charAt(0)){case"*":this.maxRepeat=this.maxNum;break;case"+":this.minRepeat=1,this.maxRepeat=this.maxNum;break;case"?":this.maxRepeat=1}},e}(I);e.RegexpTimesQuantifiers=z;var q=function(t){function e(){var e=t.call(this)||this;return e.type="set",e.reverse=!1,e.isMatchAnything=!1,e.codePointResult=null,e.isComplete=!1,e.buildForTimes=!0,e}return r(e,t),Object.defineProperty(e.prototype,"parser",{get:function(){return this.parserInstance},set:function(t){this.parserInstance=t,this.makeCodePointResult()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){(this.completed=t,!0===t)&&(0===this.queues.length?this.reverse?this.isMatchAnything=!0:this.isMatchNothing=!0:this.makeCodePointResult())},enumerable:!1,configurable:!0}),e.prototype.getRuleInput=function(){return"["+(this.reverse?"^":"")+this.buildRuleInputFromQueues()+"]"},e.prototype.prebuild=function(t){if(this.isMatchAnything)return(new E).build(t);var e,n=this.queues;if(this.reverse)return l.makeOne(this.codePointResult);if(t.extractSetAverage){var r=0,a=n.map((function(t){return r+=t.count}));e=c(a).index}else e=s(0,n.length-1);return this.queues[e].build(t)},e.prototype.makeCodePointResult=function(){if(this.reverse&&this.parser&&this.isComplete&&!this.codePointResult){var t=this.queues,e=this.parser.getFlagsHash();if(1===t.length&&"charset"===t[0].type&&["w","s","d"].includes(t[0].charset.toLowerCase())){var n=32^t[0].charset.charCodeAt(0),r=String.fromCharCode(n);this.codePointResult=l.getCharsetInfo(r,e)}else{var a=t.reduce((function(t,n){var r,a=n.type;if("charset"===a){var o=n.charset;"b"===o||"B"===o?(console.warn("the charset \\b or \\B will ignore"),r=[]):r=l.getCharsetInfo(o,e).ranges.slice(0)}else r="range"===a?[n.queues.map((function(t){return t.codePoint}))]:[[n.codePoint]];return t.concat(r)}),[]);a.push([55296,57343],e.u?[1114112]:[65536]),a.sort((function(t,e){return e[0]>t[0]?-1:e[0]===t[0]?e[1]>t[1]?1:-1:1}));for(var o=[],i=0,s=0,c=a.length;s<c;s++){var u=a[s],p=u[0],f=u[1]||p;i<p&&o.push(i+1===p?[i]:[i,p-1]),i=Math.max(f+1,i)}if(0===o.length)this.isMatchNothing=!0;else{var h=0,d=o.map((function(t){return 1===t.length?h+=1:h+=t[1]-t[0]+1,h}));this.codePointResult={totals:d,ranges:o}}}}},e}(w);e.RegexpSet=q;var V=function(t){function e(){var e=t.call(this)||this;return e.type="range",e.isComplete=!1,e}return r(e,t),e.prototype.add=function(e){if(t.prototype.add.call(this,e),2===this.queues.length){this.isComplete=!0;var n=this.queues,r=n[0],a=n[1];if(r.codePoint>a.codePoint)throw new Error("invalid range:"+r.getRuleInput()+"-"+a.getRuleInput())}},e.prototype.getRuleInput=function(){var t=this.queues,e=t[0],n=t[1];return e.getRuleInput()+"-"+n.getRuleInput()},e.prototype.prebuild=function(){var t=this.queues,e=t[0],n=t[1],r=e.codePoint,a=n.codePoint;return String.fromCodePoint(s(r,a))},e.prototype.getCodePointCount=function(){var t=this.queues,e=t[0],n=t[1],r=e.codePoint;return n.codePoint-r+1},e}(w);e.RegexpRange=V;var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hexcode",e}return r(e,t),e.prototype.untilEnd=function(t){var e=this.rule,n=this.codeType;if(e.test(t)){var r=RegExp.$1,a=RegExp.$2||r;if(this.codePoint=Number("0x"+a),this.codePoint>1114111)throw new Error("invalid unicode code point:\\u{"+a+"},can not great than 0x10ffff");return this.input="\\"+n+r,r.length}return 0},e}(x);e.RegexpHexCode=L;var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{4})/,e.codeType="u",e}return r(e,t),e}(L);e.RegexpUnicode=B;var G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^({(0*[0-9A-Fa-f]{1,6})}|[0-9A-Fa-f]{4})/,e.codeType="u",e}return r(e,t),e}(L);e.RegexpUnicodeAll=G;var H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{2})/,e.codeType="x",e}return r(e,t),e}(L);e.RegexpASCII=H;var W=function(t){function e(e){var n=t.call(this)||this;return n.index=e,n.type="group-item",n}return r(e,t),e.prototype.getRuleInput=function(t){var e=this;return void 0===t&&(t=!1),this.queues.reduce((function(n,r){return n+(t&&"reference"===r.type&&null!==r.ref?r.ref.getRuleInput(t):e.isEndLimitChar(r)?"":r.getRuleInput(t))}),"")},e.prototype.prebuild=function(t){var e=this;return this.queues.reduce((function(n,r){var a;return e.isEndLimitChar(r)?(console.warn("the ^ and $ of the regexp will ignore"),a=""):a=r.build(t),n+a}),"")},e.prototype.isEndLimitChar=function(t){return"anchor"===t.type},e}(w);e.RegexpGroupItem=W;var U=function(t){function e(){var e=t.call(this)||this;return e.type="group",e.captureIndex=0,e.captureName="",e.queues=[],e.isRoot=!1,e.curGroupItem=null,e.curRule=null,e.isComplete=!1,e.buildForTimes=!0,e.addNewGroup(),e}return r(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t,!0===t&&(this.isMatchNothing=this.queues.every((function(t){return t.isMatchNothing})))},enumerable:!1,configurable:!0}),e.prototype.addNewGroup=function(){var t=this.queues,e=new W(t.length);return this.curGroupItem=e,e.parent=this,e},e.prototype.addRootItem=function(t){var e=this;t.map((function(t){null===t.parent&&(t.parent=e.curGroupItem)})),this.addNewGroup()},e.prototype.addItem=function(t){t.parent=this.curGroupItem},e.prototype.getRuleInput=function(t){void 0===t&&(t=!1);var e=this,n=e.queues,r=e.captureIndex,a=e.isRoot,o="";return 0!==r||a||(o="?:"+o),o+=n.map((function(e){return e.getRuleInput(t)})).join("|"),a?o:"("+o+")"},e.prototype.buildRule=function(t){if(this.curRule)return this.curRule;var e=this.getRuleInput(!0),n=Object.keys(t).join("");return this.curRule=new Function("","return /^"+e+"$/"+n)()},e.prototype.prebuild=function(t){var e,n=this,r=n.queues,a=n.captureIndex,o=n.captureName,i="",c=t.flags,u=t.namedGroupConf,p=r.length,l=[],f=[],h=[],d=[];if(o&&o.includes("_")&&u){var g=o.split("_");if(g.length===p){var m=!1;if("object"==typeof u[o]){var v=u[o];g.forEach((function(t,e){if("boolean"==typeof v[t]&&!1===v[t]);else{m=!0;var n=r[e];Array.isArray(v[t])?(f.push(n),h.push(v[t])):l.push(n)}}))}if(!m)throw new Error("the specified named group '"+o+"' are all filtered by the config.");var y=f.length;y&&(x=s(0,y+l.length-1))<y&&(e=f[x],d=h[x])}}if(o&&u&&u[o]&&(Array.isArray(u[o])||e)){var w=void 0,b=void 0;if(e?(w=d,b=this.buildRule.call(e,c)):(w=u[o],b=this.buildRule(c)),i=w[x=s(0,w.length-1)],!b.test(i))throw new Error("the namedGroupConf of "+o+"'s value \""+i+'" is not match the rule '+b.toString())}else{var x,O=l.length?l:r;i=O[x=s(0,O.length-1)].build(t)}return o&&(t.namedGroupData[o]=i),a&&(t.captureGroupData[a]=i),i},e}(w);e.RegexpGroup=U},275:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s={handle:{type:Function},data:{type:Object}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$path",(function(t){if(t&&1!==t.length)throw new Error("the cascader type must have an only path or ref.")}))},e.prototype.generate=function(t){var e=t.mocker,n=(0,o.makeCascaderData)(this.params,e),r=n.handle,a=n.values;return r(n.$config.data,a)},e.prototype.test=function(){return!0},e.constrName="ToCascader",e.configOptions=s,e.selfConfigOptions=s,e.allowAttrs=[],e.validator=function(t){var e=t.$config,n=t.$path;if(e.data){if(n)throw new Error("the data type 'cascader' doesn't need a path when it's a root node")}else{var r=n.length;if(0===r)throw new Error("the data type 'cascader' need a reference path to the root node");if(r>1)throw new Error("the data type 'cascader' should only use one reference")}},e}(i.default);e.default=c},489:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s={data:{type:Array}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$config",(function(t){if(!t||!t.data)throw new Error("the data type 'dict' must supply a 'data' field of 'data attribute' configuration, no configuration was set");if(!(0,o.isArray)(t.data))throw new Error("the data type 'dict' has a none array 'data' field in configuration 'data attribute'")}))},e.prototype.generate=function(){var t=[],e=this.params.$config.data;return t.push(e),(0,o.makeDictData)(this.params)(t)},e.prototype.test=function(){return!0},e.constrName="ToDict",e.configOptions=s,e.selfConfigOptions=s,e.allowAttrs=[],e}(i.default);e.default=c},907:function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a,o=n(789),i=n(243),s=n(899),c=i.default.fns,u=i.default.vars,p=function(t,e){var n=!t,a=!e;if(n&&a)return{nsFns:c,nsVars:u};if(a){var o=(0,i.getNsStore)(t),s=o.fns,p=o.vars;return{nsFns:r(r({},c),s),nsVars:r(r({},u),p)}}var l=(0,i.getNsStore)(e).exports,f=l.fns,h=l.vars;if(n)return{nsFns:r(r({},f),c),nsVars:r(r({},h),u)};var d=(0,i.getNsStore)(t);return{nsFns:r(r(r({},c),f),d.fns),nsVars:r(r(r({},u),h),d.vars)}},l=function(t){if(!t)return i.default.mockitsCache;var e=(0,i.getNsStore)(t);return e&&e.mockitsCache},f=(a="__pre_process_fn__",{PRE_PROCESS:{$func:function(t){if(t)for(var e=t.options,n=p.apply(void 0,this.getCurrentNs()).nsVars,r=function(t,r){var a=e[t],i=a.name;a.params.map((function(t){if(t.variable)try{if("string"==typeof t.value)if(t.value.includes(".")||t.value.includes("["))new Function("__CONFIG__","return __CONFIG__."+t.value)(n);else if(!(0,o.hasOwn)(n,t.value))throw new Error('"'.concat(t.value,' is not assigned."'))}catch(e){throw new Error("the modifier function ".concat(i,"'s param ").concat(t.value," is not correct:").concat(e.message))}}))},a=0,i=e.length;a<i;a++)r(a)},$config:function(t){var e=this;void 0===t&&(t={});var n={},r=p.apply(void 0,this.getCurrentNs()).nsVars;for(var a in t)if((0,o.hasOwn)(t,a)){var i=t[a];if(i instanceof s.Variable){var c=i.name;if(!(0,o.hasOwn)(r,c))throw new Error('The configuration of key "'.concat(a,'" use a variable name "').concat(c,'" is not found in the assigned values, you need assign it first.'));n[a]=r[c]}else n[a]=i}var u=this.constructor.configOptions;return Object.keys(u).map((function(t){var r,a,i=u[t],s=[],c=function(t){var e=(0,o.typeOf)(t),n=(0,o.isArray)(a)?a:[a],r=!1;return n.map((function(t){var n=t.name;s.push(n),r||(r=e===n)})),r},p=(0,o.hasOwn)(n,t);if((0,o.isObject)(i)&&(r=(0,o.isFn)(i.default)?i.default():i.default,a=i.type,c=(0,o.isFn)(i.validator)?i.validator:c),p){if(!c.call(e,n[t]))throw new Error('the config of "'.concat(t,"\"'s value ").concat(n[t]," is not instance of ").concat(s.join(",")))}else void 0!==r&&(n[t]=r)})),n}},isPreProcessFn:function(t){return(0,o.hasOwn)(t,a)},setPreProcessFn:function(t){return t.__pre_process_fn__=!0,t}}),h=f.PRE_PROCESS,d=f.isPreProcessFn,g=f.setPreProcessFn,m=function(){function t(t,e){var n=this;this.callerNamespace=t,this.path=e,this.params={},this.initParams={},this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[];var r=this.getStaticProps(),a=r.namespace,i=r.constrName,s=r.configOptions,c=l(a);if(c[i]){var u=c[i].define;(0,o.isObject)(u)&&Object.keys(u).map((function(t){var e=u[t],r=n;"Object"===(0,o.typeOf)(e)?r[t]=(0,o.deepCopy)({},e):r[t]=e}))}else c[i]={rules:[],ruleFns:{},modifiers:[],modifierFns:{}},this.init(),this.addRule("$func",g(h.$func.bind(this))),(0,o.isNoEmptyObject)(s)&&this.addRule("$config",g(h.$config.bind(this))),this.frozen()}return t.prototype.addModifier=function(t,e,n){return this.add("modifier",t,e,n)},t.prototype.addRule=function(t,e,n){return this.add("rule",t,e,n)},t.prototype.setParams=function(t,e,n){var r,a,i=!1;return"object"==typeof t?!0===e?(a=t,i=!0):void 0===e&&(a=t):"string"==typeof t&&((r={})[t]=e,a=r,i=n),this.resetValidInfo(),i&&(0,o.deepCopy)(this.initParams,a),(0,o.deepCopy)(this.params,a),this.validate(),this.initParams},t.prototype.setAllowAttrs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.constructor.allowAttrs;t.forEach((function(t){n.includes(t)||n.push(t)}))},t.prototype.frozen=function(){var t=this,e=t.params,n=t.initParams,r=t.generate,a=this.getStaticProps(),i=a.namespace,s=a.constrName;return l(i)[s].define=(0,o.deepCopy)({},{params:e,initParams:n,generate:r}),this},t.prototype.reGenerate=function(t){this.generate=t},t.prototype.make=function(t,e){this.validate();var n=this.generate(t,e);return this.runAll(n,t)},t.prototype.add=function(t,e,n,r){var a,i,s=this.getStaticProps(),c=s.namespace,u=s.constrName,p=l(c)[u],f=p.rules,g=p.ruleFns,m=p.modifiers,v=p.modifierFns,y="rule"===t;if(y?(a=f,i=g):(a=m,i=v),a.includes(e)){if(!(0,o.hasOwn)(h,e))throw new Error("".concat(t," of ").concat(e," already exists"));if(d(n))return}if(y&&this.setAllowAttrs(e),void 0===r||""===r.trim())a.push(e);else{var w=!1;if("^"===r.charAt(0)&&(w=!0,r=r.slice(1)),""===r)a.unshift(e);else{var b=a.indexOf(r);if(b<0)throw new Error("no exists ".concat(t," name of ").concat(r));a.splice(b+(w?0:1),0,e)}}i[e]=n},t.prototype.getStaticProps=function(){var t=this.constructor;return{constrName:t.constrName,namespace:t.namespace,validator:t.validator,allowAttrs:t.allowAttrs,configOptions:t.configOptions,selfConfigOptions:t.selfConfigOptions,specialType:t.specialType}},t.prototype.getCurrentNs=function(){return[this.callerNamespace,this.getStaticProps().namespace]},t.prototype.validParams=function(){var t=this,e=this.params,n=this.getStaticProps(),r=n.namespace,a=n.constrName,i=n.validator,s=l(r)[a],c=s.rules,u=s.ruleFns,p=Object.keys(e),f=function(t,n,r){var a=r||"__TRANSFORMED__";if(!(0,o.isObject)(e[t])||!(0,o.hasOwn)(e[t],a)){var i=n.call(this,e[t]);(0,o.isObject)(i)&&(i[a]=!0,e[t]=i)}};return c.map((function(e){try{(0,o.hasOwn)(h,e)&&f(e,h[e].bind(t),"__".concat(e,"__")),f(e,u[e].bind(t));var n=p.indexOf(e);n>-1&&p.splice(n,1)}catch(n){t.invalidKeys.push("[(".concat(e,")").concat(n.message,"]"))}})),(0,o.isFn)(i)&&i(this.params),0===this.invalidKeys.length},t.prototype.validate=function(){var t=this.invalidKeys;if(this.hasValid||(this.isValidOk=this.validParams(),this.hasValid=!0),!this.isValidOk)throw new Error("invalid params:".concat(t.join(",")))},t.prototype.resetValidInfo=function(){this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[]},t.prototype.runModifiers=function(t,e){for(var n=this.params,r=this.getStaticProps(),a=r.namespace,i=r.constrName,s=l(a)[i],c=s.modifiers,u=s.modifierFns,p=0,f=c.length;p<f;p++){var h=c[p];if((0,o.hasOwn)(n,h)){var d=u[h],g=[t,n[h],e];t=d.apply(this,g)}}return t},t.prototype.runFuncs=function(t,e){var n=this.params,r=n.$config,a=n.$func,i=p.apply(void 0,this.getCurrentNs()),s=i.nsFns,c=i.nsVars;if(a)for(var u=a,l=u.queue,f=u.params,h=u.fns,d=0,g=l.length;d<g;d++){var m=l[d],v=h[d],y=(0,o.hasOwn)(s,m),w=(y?[s[m]]:[]).concat([f[d],c,t,r||{},o.getExpValue]);t=v(y).apply(e,w)}return t},t.prototype.runAll=function(t,e){return t=this.runModifiers(t,e),this.runFuncs(t,e)},t.chainNames=[],t.allowAttrs=[],t.configOptions={},t.selfConfigOptions={},t}();e.default=m},7:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Dispatcher=e.AParser=void 0;var i=n(899),s=n(789),c=function(){function t(){this.patterns=[],this.code="",this.setting={frozen:!0},this.init()}return t.prototype.init=function(){return this},t.prototype.info=function(){var t=this;return{tags:t.tags,params:t.params,code:t.code,patterns:t.patterns}},t.prototype.parseCode=function(t,e){this.code=t,this.tags=e;var n=e.start,r=e.end,a=this.constructor,o=a.separator,i=a.pattern;if(o||r){var s=[],c=[n.length].concat(r?-r.length:[]),u=t.slice.apply(t,c);if(i)for(var p=null,l=u,f=0,h=u.length;f<h&&null!==(p=l.match(i));){var d=p[0].length;f+=d;var g=u.charAt(f);if(0===d)throw new Error('the pattern rule "'.concat(i.toString(),'" match nothing to the string:').concat(l));if(f<h&&g!==o)throw new Error('unexpected separator character "'.concat(g,'" in "').concat(l.slice(f),'",expect to be "').concat(o,'"'));f+=1,l=l.slice(d+1),s.push(p[0]),i.lastIndex=0,this.patterns.push(p)}else{for(var m="",v=0,y=u.length;v<y;v++){var w=u.charAt(v);"\\"===w?m+="\\"+u.charAt(++v):w===o?(s.push(m),m=""):m+=w}(s.length||m)&&s.push(m)}this.params=s}else this.params=[t]},t.prototype.halt=function(t){throw new Error(t)},t}();e.AParser=c;var u=function(){function t(){this.parsers={},this.tagPairs=[],this.pairHash={},this.splitor=i.splitor,this.instances={}}return t.prototype.addParser=function(t,e,n,r){var o,u=e.startTag,p=e.endTag,l=e.separator,f=e.pattern,h=this.splitor;if(l===h)return this.halt('the parser of "'.concat(t,"\" can not set '").concat(h,"' as separator."));if((0,s.hasOwn)(this.parsers,t))return this.halt('the parser of "'.concat(t,'" has existed.'));if(0===u.length)return this.halt('the parser of "'.concat(t,"\"'s startTag can not be empty. "));if(/(\\|:|\s)/.test(u.concat(p).join(""))){var d=RegExp.$1;return this.halt('the parser of "'.concat(t,'" contains special char (').concat(d,")"))}var g=e.rule,m=[],v=0===p.length&&g instanceof RegExp;if(!v){var y=function(t,e){return e.length>t.length?1:-1};u.sort(y),p.sort(y)}var w=[],b=[];u.map((function(t){v||w.push((0,s.encodeRegexpChars)(t)),p.length?p.map((function(e){m.push(t+h+e),v||b.push((0,s.encodeRegexpChars)(e))})):m.push(t)}));for(var x=0,O=m.length;x<O;x++){var _=m[x];if(this.tagPairs.indexOf(_)>-1){var R=_.split(h);return this.halt('the parser of "'.concat(t,'"\'s start tag "').concat(R[0],'" and end tag "').concat(R[1],'" has existed.'))}this.pairHash[_]=t}if(!v){var E=p.length,k="(?=".concat(i.encodeSplitor,"|$)"),j="(?:".concat(w.join("|"),")");if(E){var N=b.join("|");g=new RegExp("^".concat(j,"(?:\\\\.|[^\\\\](?!").concat(N,")|[^\\\\])+?(?:").concat(N).concat(k,")"))}else g=new RegExp("^".concat(j,"(?:\\\\.|[^\\\\").concat(h,"])+?").concat(k))}this.tagPairs=this.tagPairs.concat(m).sort((function(t,e){return t.length-e.length})),this.parsers[t]=((o=function(t){function e(){var e=t.call(this)||this;return r&&(e.setting=Object.assign(e.setting,r)),e}return a(e,t),e.prototype.parse=function(){return n.call(this)},e}(c)).startTag=u,o.endTag=p,o.separator=l||"",o.splitor=h,o.rule=g,o.pattern=f||null,o)},t.prototype.makeWrapperData=function(t,e){var n=function(t){this.errorIndex=t};return Object.assign(n.prototype,t),new n(e)},t.prototype.parse=function(t,e){void 0===e&&(e={});for(var n=t.length,r=this.splitor,a=e.mockit,i=e.greedy,c=0,u=t,p={},l={};c<n;){var f=void 0;if(i)try{f=this.parseUntilFind(u)}catch(t){return this.makeWrapperData(l,c)}else f=this.parseUntilFind(u);var h=f.data,d=f.total;if((c+=d)<n&&r!==t.charAt(c))throw new Error('unexpect splitor of "'.concat(t.slice(c),'",expect to be started with splitor "').concat(r,'"'));u=u.slice(d+1),c+=1;var g=h.instance,m=h.type;if(p[m]&&g.setting.frozen)throw new Error('the config of "'.concat(m,'" (').concat(g.code,") can not be set again."));if(a){var v=a.getStaticProps(),y=v.constrName;if(!v.allowAttrs.includes(m)){if("$config"===m)throw new Error('the data type "'.concat(y,"\" are not allowed to use configuration when parsing '").concat(t,"', please check if you have forget to set the type's field \"configOptions\""));throw new Error('the data type "'.concat(y,"\" are not allowed to use '").concat(m,"' data attribute when parsing '").concat(t,"'"))}}var w=g.parse();(0,s.isArray)(w)?l[m]=w:"object"==typeof w&&(l[m]=o(o({},l[m]||{}),w)),p[m]=!0}return l},t.prototype.getInstance=function(t){return new this.parsers[t]},t.prototype.parseUntilFind=function(t){if(""===t)throw new Error("the context is empty");var e,n=this,r=n.tagPairs,a=n.pairHash,o=n.splitor,i=n.parsers,s=[],c='can not parse context "'.concat(t,'",no parser matched.'),u=[],p=0,l="",f=function(){var e=t.charAt(p++),n=(l+=e).length,a=!1;if(u=r.filter((function(t){var e=0===t.indexOf(l);return!e||t!==l&&t.charAt(n)!==o||(a=!0,s.push(t)),e})),1===u.length){if(!a){var i=u[0],c=i.indexOf(o),f=c>0?i.slice(0,c):i;0===t.indexOf(f)&&s.push(i)}return"break"}};do{if("break"===f())break}while(u.length);var h=s.length;if(h){for(var d={},g=[];h--;){var m=s[h],v=a[m];if(!d[v]){var y=null,w=i[v],b=w.rule,x=w.separator;if(g.push(v),y=t.match(b)){if(x&&y[0].slice(-1)===x)throw new Error('no need separator "'.concat(x,'" in type "').concat(v,'" of code "').concat(t,'"'));var O=this.getInstance(v),_=m.split(o),R=_[0],E=_[1],k=y[0];try{O.parseCode(k,{start:R,end:E||""}),e={data:{type:v,instance:O},total:k.length};break}catch(t){d[v]=!0}}}}if(e)return e;throw new Error("".concat(c,"[tried types:").concat(g.join(","),"]"))}throw new Error(c)},t.prototype.halt=function(t){throw new Error(t)},t}();e.Dispatcher=u},666:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.createNsSuch=e.Such=e.Template=e.Mocker=void 0;var s=n(899),c=n(12),u=n(789),p=n(907),l=n(735),f=n(420),h=n(243),d=n(906),g=u.isFn,m=u.isOptional,v=u.isObject,y=u.isArray,w=u.isNoEmptyObject,b=u.makeRandom,x=u.typeOf,O=u.deepCopy,_=u.path2str,R=u.capitalize,E=u.hasOwn,k=function(t,e,n){var r=_(e),a=null==t?void 0:t.keys,o=!1,i=!0;if(a){var s=a[r];if(s)if("boolean"==typeof s.exist)i=!1,o=!s.exist;else if(!E(n,"min")){var c=E(s,"min"),u=E(s,"max");if(c||u){var p=c?s.min:0,l=u?s.max:1;p===l&&(i=!1,o=0===l)}}}return i&&(o=m()),o},j=function(t,e,n){var r=n.min,a=n.max,o=_(e),i=null==t?void 0:t.keys;if(i){var s=i[o];s&&(E(s,"min")&&(r=s.min),E(s,"max")&&(a=s.max))}return{min:r,max:a}},N=function(t){console.warn(t)},P=function(t,e){N("You can't call the \"".concat(t,"('").concat(e,"')\" method for the root such instance, the root such's data is global exported by default."))},A=function(){function t(e,n,r,a,o){var i=this;this.storeData={},this.config={};var c=e.target,u=e.path,p=e.config,l=e.parent;this.target=c,this.path=u,this.config=p||{},this.isRoot=0===u.length,this.isRoot?(this.such=n,this.namespace=r,this.instances=a,this.datas=o,this.root=this,this.parent=this):(this.parent=l,this.root=l.root);var g=x(c).toLowerCase();this.dataType=g;var m=this.config,v=m.oneOf,w=m.alwaysArray,O=this.root,R=O.instances,N=O.datas,P=!isNaN(this.config.min);if(v&&!y(c))throw new Error("The field key of '".concat(_(u),"' use a colon ':' to set a 'oneOf' config, but the value of the field is not an array."));if(y(c)){var A=c.length-1,S=function(e){e="number"==typeof e?e:function(){var t,e;if(e=null===(t=i.root.instanceOptions)||void 0===t?void 0:t.keys){var n=_(u),r=e[n];if(r&&"number"==typeof r.index){if(r.index>A)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a 'index' ").concat(r.index," bigger than the max index ").concat(A,"."));return r.index}}return b(0,A)}();var n=u.concat(e),r=R.get(n);return r instanceof t||(r=new t({target:c[e],path:n,parent:i}),R.set(n,r)),r};if(P){var C,$=function(e,n,r){var a=[],o=n instanceof t?function(t){return n}:function(t){return n[t]};r="number"==typeof r?r:function(){var t=j(i.root.instanceOptions,i.path,i.config),e=t.min,n=t.max;return b(e,n)}();for(var s=0;s<r;s++){var c=o(s),u=e.concat(s),p=c.mock(u);a[s]=p,N.set(u,p)}return a},T=function(t,e,n){var r;if(n>1)throw new Error("optional func of the total param can not more than 1");return 1===n&&(r=e.mock(t)),N.set(t,r),r};if(v)C=w?$:function(t,e){var n=j(i.root.instanceOptions,i.path,i.config),r=n.min,a=n.max,o=b(r,a);return o<=1?T(t,e,o):$(t,e,o)},this.mockFn=function(t){var e=S();return C(t,e)};else{var M=function(t,e){e=isNaN(e)?function(){var t=j(i.root.instanceOptions,i.path,i.config),e=t.min,n=t.max;return b(e,n)}():Number(e);var n=Array.from({length:e}).map((function(){return S()}));return $(t,n,e)},F=this.config.min;this.mockFn=w||F>1?function(t){return M(t)}:function(t){var e=j(i.root.instanceOptions,i.path,i.config),n=e.min,r=e.max,a=b(n,r);return a<=1?T(t,S(),a):M(t,a)}}}else{var I=c.map((function(t,e){return S(e)}));this.mockFn=function(t){var e=[];return I.map((function(n,r){var a=t.concat(r),o=n.mock(a);e[r]=o,N.set(a,o)})),e}}}else{if("object"===g){var D=c,z=Object.keys(D).map((function(e){var n=D[e],r=t.parseKey(e);return{key:r.key,target:n,config:r.config}}));this.mockFn=function(e){var n={},r=i.path;return z.map((function(a){var o=a.key,s=a.config,c=a.target,u=s.optional,p=r.concat(o),l=e.concat(o);if(u&&k(i.root.instanceOptions,p,s))return;var f=R.get(p);f instanceof t||(f=new t({target:c,config:s,path:p,parent:i}),R.set(p,f));var h=f.mock(l);n[o]=h,N.set(l,h)})),n}}else{var q=!1;if("string"==typeof c){var V=c.match(s.suchRule);if(V){var L=V[1]&&V[1].replace(/\/$/,""),B=(0,h.getNsMockit)(V[2],this.root.namespace,L),G=B.realType,H=B.klass;if(H){this.type=G;var W=new H(this.root.namespace,u),U=W.getStaticProps().specialType;this.isEnum=U===d.EnumSpecialType.Enum;var K=c.replace(V[0],"");if(""!==K){K.startsWith(s.splitor)&&(K=K.slice(s.splitor.length));var Z=f.default.parse(K,{mockit:W});W.setParams(Z)}var Q=_(u);this.mockit=W,this.mockFn=function(t){var e=i.root,n=e.instanceOptions,r={datas:N,dpath:t,mocker:i};if(null==n?void 0:n.keys){var a=n.keys[Q];a&&E(a,"index")&&(r.config={index:a.index})}return W.make(r,e.such)},q=!0}}else if(c.startsWith(s.templateSplitor)){var Y=c.slice(s.templateSplitor.length);if(""===Y)throw new Error("The path ".concat(u.length?"("+u.join("/")+")":"of root",' use an empty template literal "').concat(s.templateSplitor,'"'));var X=this.root.such.template(Y,u,this.root.namespace);this.mockit=X.mockit,this.mockFn=function(t){return X.a({datas:N,dpath:t,mocker:i,template:X})},q=!0}else{var J="\\"+s.splitor;if(c.startsWith(J)){var tt=c.slice(1);this.mockFn=function(t){return tt},q=!0}}}q||(this.mockFn=function(t){return c})}if(P){var et=this.mockFn;this.mockFn=function(t){var e=j(i.root.instanceOptions,i.path,i.config),n=e.min,r=e.max,a=b(n,r);if(!w&&a<=1)return et(t);for(var o=[],s=0;s<a;s++){var c=t.concat(s);o.push(et(c))}return o}}}}return t.parseKey=function(t){var e,n={};if((e=t.match(/(:?)(?:\{(\+?[01]|[1-9]\d*)(?:,([1-9]\d*))?})?(\??)$/)).length&&""!==e[0]){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];if(n.optional="?"===s,n.oneOf=":"===a,void 0!==o){if(n.alwaysArray=o.startsWith("+"),void 0===i)i=o;else if(Number(i)<Number(o))throw new Error("the max of ".concat(i," is less than ").concat(o));n.min=Number(o),n.max=Number(i)}else n.oneOf&&(n.min=n.max=1);t=t.slice(0,-r.length)}return{key:t,config:n}},t.prototype.setParams=function(t){if(this.mockit){var e=this.mockit;return e.setParams("string"==typeof t?f.default.parse(t,{mockit:e}):t)}throw new Error("This mocker is not the mockit type.")},t.prototype.mock=function(t){if(this.isRoot&&(this.config.optional&&k(this.instanceOptions,[],this.config)))return;return this.result=this.mockFn(t)},t.prototype.store=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;if(r>1)throw new Error("wrong arguments length called the mocker's method 'store', expect at most 2 but got ".concat(r+1));if(1!==r)return this.storeData[t];var a=e[0];this.storeData[t]=a},t.prototype.hasStore=function(t){return E(this.storeData,t)},t.prototype.setInstanceOptions=function(t){this.instanceOptions=t},t}();e.Mocker=A;var S=function(){function t(t,e,n){void 0===t&&(t=""),this.context=t,this.such=e,this.path=n,this.segments=[],this.indexData={},this.indexHash={},this.namedData={},this.index=0,this.meta="",this.params={}}return t.prototype.addString=function(t){this.segments.push(t)},t.prototype.addInstance=function(t,e){void 0===e&&(e=""),this.segments.push(t),e&&(this.indexHash[this.index]=e),this.index++},t.prototype.getRefValue=function(t){return isNaN(t)?this.namedData[t]:this.indexData[Number(t)]},t.prototype.end=function(t){void 0===t&&(t=""),t=t.trim();var e=new(0,h.default.mockits[s.tmplMockitName])(this.such.namespace);if(e.setTemplate(this),""!==t){this.meta=t;var n=f.default.parse(t,{mockit:e});this.params=n,e.setParams(n)}this.mockit=e},t.prototype.a=function(t){if(void 0===t&&(t={datas:null,dpath:[],mocker:null,config:null,template:this}),!this.mockit)throw new Error("the template's mockit object is not initialized yet!");return this.mockit.make(t,this.such)},t.prototype.value=function(t){var e=this;void 0===t&&(t={datas:null,dpath:[],mocker:null,config:null,template:this});var n=0,r={};return this.indexData={},this.namedData=r,this.segments.reduce((function(a,o){if("string"==typeof o)a+=o;else{var i=e.indexData[n]={value:void 0,result:""},s=e.indexHash[n];s&&(E(r,s)?y(r[s])?r[s].push(i):r[s]=[r[s],i]:r[s]=i),n++;var c=o.make(t,e.such);if(i.value=c,"string"==typeof c)i.result=c;else if(null==c)i.result="";else try{i.result=c.toString()}catch(t){i.result=""}a+=i.result}return a}),"")},t}();e.Template=S;var C=function(){function t(t,e,n,r){this.target=t,this.such=e,this.namespace=n,this.options=r,this.initail=!1,this.instances=new c.default(!1),this.datas=new c.default(!0),this.mocker=new A({target:t,path:[],config:null==r?void 0:r.config},this.such,this.namespace,this.instances,this.datas),this.instances.set([],this.mocker)}return t.prototype.a=function(t){return this.initail?this.datas.clear():this.initail=!0,this.mocker.setInstanceOptions(t),this.checkKeys(null==t?void 0:t.keys),this.mocker.mock([])},t.prototype.keys=function(){var t;if(this.ruleKeys)return this.ruleKeys;var e=this.target,n=this.ruleKeys,r=void 0===n?{}:n,a=function(t,e){if(v(t)){for(var n in t)if(E(t,n)){var o=A.parseKey(n),i=o.config,s=o.key,c=e.concat(s);w(i)&&(r[_(c)]=i),a(t[n],c)}}else y(t)&&t.forEach((function(t,n){a(t,e.concat(n))}))};return a(e,[]),r["/"]=null===(t=this.options)||void 0===t?void 0:t.config,r},t.prototype.checkKeys=function(t){if(t&&w(t)){var e=this.keys(),n=function(n){if(E(t,n)){if(!E(e,n))throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not optional or having a length with min/max, but you set a config on it."));var a=t[n],o="/"===n?[]:n.slice(1).split("/"),i=r.instances.get(o),c=(null==i?void 0:i.isEnum)?s.enumConfig:e[n]||{},u="boolean"==typeof a.exist;if(u&&!0!==c.optional)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not optional, but you set the key 'exist' on it."));var p=E(a,"min"),l=E(a,"max");if(p||l){if(!1===a.exist)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys has set 'exist' be false, no need to set the 'min'/'max' value again."));var f,h;if(E(c,"min"))f=c.min,h=E(c,"max")?c.max:f;else{if(!c.optional)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not having a length with min/max, but you set a length on it."));if(u)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not having a length with min/max, you can't set both the 'exist' field and the 'min'/'max'."));f=0,h=1}var d=function(t,e){if("number"!=typeof t)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with none number ").concat(e," '").concat(t,"'."));if(t>h)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with ").concat(e," '").concat(t,"' bigger than the field allowed max '").concat(h,"'."));if(t<f)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with ").concat(e," '").concat(t,"' less than the field allowed min '").concat(f,"'."))};if(p&&d(a.min,"min"),l&&(d(a.max,"max"),p&&a.min>a.max))throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with min '").concat(a.min,"' bigger than the max '").concat(a.max,"'."))}if(E(a,"index")&&!c.oneOf&&1!==c.max)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not a field with config 'oneOf' or 'max' equal to 1, can't set a 'index' value."))}},r=this;for(var a in t)n(a)}},t}();e.default=C;!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}a(e,t),e.prototype.init=function(){},e.prototype.test=function(){return!1},e.prototype.generate=function(){}}(p.default);var $=function(t,e){var n=h.default.mockits,r=h.default.alias;(E(n,t)||E(r,t))&&console.warn("Warning: The defined ".concat(e,' name "').concat(t,'" is a data type that has defined in builtin data types, it will override the builtin type.'))},T=function(){function t(t){this.namespace=t,this.utils=u,this.hasNs=!!t,this.hasNs?this.store=(0,h.createNsStore)(t):this.store=h.default}return t.prototype.assign=function(t,e,n){void 0===n&&(n=!1),this.store(t,e,n)},t.prototype.parser=function(t,e){if(!this.hasNs){var n=e.config,r=e.parse,a=e.setting;return f.default.addParser(t,n,r,a)}},t.prototype.define=function(t,e,n){for(var r,c,m,v,b=[],x=3;x<arguments.length;x++)b[x-3]=arguments[x];if(!s.dtNameRule.test(t))throw new Error('Call the "define" method with a wrong type name "'.concat(t,"\" parameter, the type name must match the regexp rule '").concat(s.dtNameRule.toString(),"'"));if(!e||b.length)throw new Error('Wrong parameters when call the "define" method, it should provide 2 or 3 parameters, but got '.concat(b.length+3));var O={},_=!1,k=!1,j=!!n;if(j)if("string"==typeof n){if(""===n.trim())throw new Error('The defined type "'.concat(t,'" base on type "').concat(e,'" must set a param not empty.'));O={param:n}}else O=n;else"function"==typeof e?O={generate:e}:"string"==typeof e?_=!0:y(e)?k=!0:O=e;var N=O.param,P=O.init,A=O.generate,S=O.validator,C=O.configOptions,T=void 0===C?{}:C,M=O.allowAttrs,F=void 0===M?[]:M,I="To".concat(R(t)),D=function(t){g(P)&&P.call(this,u);var e="string"==typeof N?f.default.parse(N,{mockit:this}):{};g(t)&&this.reGenerate(t),w(e)&&this.setParams(e,!0)},z=this.store,q=z.mockits,V=z.alias;if(E(q,t)||E(V,t))throw new Error('the type "'.concat(t,'" has been defined yet.'));var L=void 0,B=this,G=B.namespace,H=B.hasNs;if(H&&$(t,"data type"),j){var W=e,U=V[W]||W,K=H?q[U]||h.default.mockits[h.default.alias[W]||W]:q[U];if(!K)throw new Error('the defined type "'.concat(t,'" what based on type of "').concat(W,'" is not exists.'));var Z=void 0;if(g(S))if(g(K.validator)){var Q=K.validator;Z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];S.apply(void 0,i(i([],t,!1),[Q],!1))}}else Z=S;r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this),D.call(this,A)},e}(K),r.chainNames=K.chainNames.concat(U),r.constrName=I,r.namespace=G,r.selfConfigOptions=T,r.configOptions=o(o({},K.configOptions||{}),T),r.allowAttrs=F,r.validator=Z,L=r}else{var Y=this;_?(c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.init=function(){t.prototype.init.call(this);var n=Y.template(e,this.path,this.callerNamespace);n.params&&this.setParams(n.params),this.setTemplate(n)},n}(l.default),c.constrName=I,c.namespace=G,c.allowAttrs=F,c.specialType=d.EnumSpecialType.Template,c.selfConfigOptions=T,c.configOptions=T,c.validator=S,L=c):k?(m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.init=function(){this.instance=Y.instance(e,{config:s.enumConfig})},n.prototype.generate=function(t){return(null==t?void 0:t.config)?this.instance.a({keys:{"/":t.config}}):(this.instance||this.init(),this.instance.a())},n.prototype.test=function(){return!0},n}(p.default),m.constrName=I,m.namespace=G,m.allowAttrs=F,m.specialType=d.EnumSpecialType.Enum,m.selfConfigOptions=T,m.configOptions=T,m.validator=S,L=m):(v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){D.call(this)},e.prototype.generate=function(t,e){return A.call(this,t,e)},e.prototype.test=function(){return!0},e}(p.default),v.constrName=I,v.namespace=G,v.selfConfigOptions=T,v.configOptions=T,v.allowAttrs=F,v.validator=S,L=v)}q[t]=L},t.prototype.alias=function(t,e){if(""===t||""===e||t===e||t.length>e.length)throw new Error("wrong alias params:'".concat(t,"' short for '").concat(e,"'"));var n=this.store,r=n.aliasTypes,a=n.alias,o=n.mockits;if(r.includes(e))throw new Error('The data type of "'.concat(e,'" has an alias yet, can\'t use "').concat(t,'" for an alias name.'));if(!s.dtNameRule.test(t))throw new Error("Use a wrong alias short name '".concat(t,"', the name should match the regexp '").concat(s.dtNameRule.toString(),"'"));if(!E(o,e))throw new Error("You can't set an alias \"".concat(t,'" for the data type of "').concat(e,'" which is not defined').concat(this.hasNs?", you can only set alias name for your own defined types":"","."));this.hasNs&&$(t,"alias"),a[t]=e,r.push(e)},t.prototype.config=function(t){var e=this,n=t.parsers,r=t.types,a=t.globals,o=t.alias,s={parsers:"parser",types:"define",globals:"assign"},c={};if(t.extends&&"function"==typeof this.loadExtend){var p="string"==typeof t.extends?[t.extends]:t.extends;this.loadExtend(p).map((function(t){delete t.extends,O(c,t)}))}O(c,{parsers:n||{},types:r||{},globals:a||{},alias:o||{}}),Object.keys(c).map((function(t){var n=c[t],r=E(s,t)?s[t]:t,a=e[r];Object.keys(n).map((function(t){var r=n[t],o=u.isArray(r)?r:[r];a.apply(e,i([t],o,!0))}))}))},t.prototype.template=function(t,e,n){for(var r=new S(t,this,e),a=t.length,o="`",i=s.templateSplitor.charAt(0),c=s.templateSplitor.length,u=0,p="",l=!1;u<a;){var d=t.charAt(u);if(d===o){""!==p&&(r.addString(p),p="");for(var g=u,m={},v=void 0,y="",b="";u++<a;){var x=t.charAt(u);if(x===o){if(l=!0,v);else{var O=null;if(null!==(O=y.match(s.tmplNamedRule))&&(b=O[1],y=y.slice(O[0].length)),!(O=y.match(s.suchRule)))throw new Error("[index:".concat(g,'] The data type expression "').concat(y,'" in template literal is not a correct syntax match the data type rule: ').concat(s.suchRule.toString()));var _=O[1]&&O[1].replace(/\/$/,""),R=(0,h.getNsMockit)(O[2],this.namespace,_).klass;if(!R)throw new Error("[index:".concat(g,"] The data type expression in template literal `").concat(O[0],"` does not exist or can't access."));if(v=new R(n),""===(y=y.replace(O[0],"")))break;y.startsWith(s.splitor)&&(y=y.slice(s.splitor.length))}var k=f.default.parse(y,{mockit:v,greedy:!0});if(!E(k,"errorIndex")){y="",Object.assign(m,k);break}var j=k.errorIndex;j>0&&(y=y.slice(j)+o),delete k.errorIndex,Object.assign(m,k),y+=x}else y+=x}if(!v)throw new Error("[index:".concat(g,'] The data type expression "').concat(o).concat(y,'" in template literal is not complete correctly, lack of the end symbol "').concat(o,'"'));if(""!==y){var N=['lack of the end symbol "'.concat(o,'"'),"can't parsed correctly"];throw l&&N.reverse(),new Error("[index:".concat(g,"] The data type expression with type :").concat(""," in template literal, its' data attributes string \"").concat(o).concat(y,'", ').concat(N.join(" or ")," ."))}w(m)&&v.setParams(m),r.addInstance(v,b)}else if("\\"===d){if(!(++u<a)){p+=d;break}var P=t.charAt(u);P===o||P===s.splitor?p+=P:p+=d+P}else{if(d===i&&t.slice(u,u+c)===s.templateSplitor){if(0===u)throw new Error("[index:".concat(e?c:0,'] The template literal must set a none empty content before "').concat(s.templateSplitor,'"').concat(e?"(in path "+(e.length>0?e.join("/"):"root")+")":""));u+=c;break}p+=d}u++}return""!==p&&r.addString(p),u<a?r.end(t.slice(u)):r.end(),r},t.prototype.as=function(t,e){return this.instance(t,e).a()},t.prototype.instance=function(t,e){return new C(t,this,this.namespace,e)},t.prototype.setExportType=function(t){if(this.namespace){var e=this.namespace,n=(0,h.getNsStore)(e),r=n.exports.types;if(r.includes(t))N('The export type "'.concat(t,"\" has ever exported, you don't need export it again."));else{var a=n.alias,o=n.mockits;if(!E(o,t)&&!E(a,t))throw new Error('The export type "'.concat(t,'" is not exist when you call the "setExportType", make sure you have defined the type.'));r.push(t)}}else P("setExportType",t)},t.prototype.setExportVar=function(t){if(this.namespace){var e=(0,h.getNsStore)(this.namespace),n=e.vars;if(!E(n,t))throw new Error('The export variable "'.concat(t,'" is not exist when you call the "setExportVar", make sure you have assigned the variable.'));e.exports.vars[t]=n[t]}else P("setExportVar",t)},t.prototype.setExportFn=function(t){if(this.namespace){var e=(0,h.getNsStore)(this.namespace),n=e.fns;if(!E(n,t))throw new Error('The export function "'.concat(t,'" is not exist when you call the "setExportFn", make sure you have assigned the function.'));e.exports.fns[t]=n[t]}else P("setExportVar",t)},t}();e.Such=T;e.createNsSuch=function(t){return new T(t)}},899:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=e.tmplRefRule=e.tmplNamedRule=e.enumConfig=e.tmplMockitName=e.dtNameRule=e.strRule=e.suchRule=e.encodeSplitor=e.templateSplitor=e.splitor=void 0;var r=n(789);e.splitor=":",e.templateSplitor=e.splitor.repeat(3),e.encodeSplitor=(0,r.encodeRegexpChars)(e.splitor),e.suchRule=new RegExp("^".concat(e.encodeSplitor,"(?:@([A-Za-z][\\w$-]*/))?([A-Za-z][\\w$-]*)")),e.strRule=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1$/,e.dtNameRule=/^[a-zA-Z_$][\w$]*$/,e.tmplMockitName="template",e.enumConfig={oneOf:!0,min:1,max:1};var a="[a-zA-Z_]\\w*";e.tmplNamedRule=new RegExp("^<(".concat(a,")>")),e.tmplRefRule=new RegExp("^\\/\\$\\{([1-9]\\d+|[0-9]|".concat(a,")\\}$"));var o=function(t){this.name=t};e.Variable=o},168:(t,e,n)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.addMockitList=e.builtinMockits=void 0;var a=n(580),o=n(935),i=n(634),s=n(417),c=n(639),u=n(163),p=n(735),l=n(243),f=n(899);e.builtinMockits=((r={number:a.default,string:o.default,regexp:i.default,date:s.default,ref:c.default,increment:u.default})[f.tmplMockitName]=p.default,r);e.addMockitList=function(t){Object.keys(t).map((function(e){l.default.mockits[e]=t[e]}))}},420:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(982),a=n(648),o=n(566),i=n(968),s=n(662),c=n(844),u=n(668),p=n(7),l={$size:r.default,$length:a.default,$format:o.default,$config:i.default,$func:s.default,$regexp:c.default,$path:u.default},f=new p.Dispatcher;Object.keys(l).map((function(t){var e=l[t];f.addParser(t,e.config,e.parse,e.setting||{})})),e.default=f},243:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNsMockit=e.getNsStore=e.createNsStore=e.isFileCache=void 0;var r=n(789);e.isFileCache=function(t){return(0,r.isObject)(t)&&"number"==typeof t.mtime};var a=function(){var t={},e={},n=function(n,r,a){"function"!=typeof r||a?e[n]=r:t[n]=r};return n.fns=t,n.vars=e,n.mockits={},n.exports={vars:{},fns:{},types:[]},n.mockitsCache={},n.alias={},n.aliasTypes=[],n.fileCache={},n.config={},n},o=a(),i=[],s={};e.createNsStore=function(t){if((0,r.hasOwn)(s,t))throw new Error("The store namespace '".concat(t,"' has been in used when you called the method 'createNsStore'."));var e=a();return s[t]=i.length,i.push(e),e};e.getNsStore=function(t){if((0,r.hasOwn)(s,t))return i[s[t]]};e.getNsMockit=function(t,n,a){var i,s,c=!1,u=function(e){var n=e.alias,a=e.mockits,o=t;return(0,r.hasOwn)(n,t)&&(o=n[t]),{klass:a[o],realType:o}};return n?!a||(c=a===n)?(i=(0,e.getNsStore)(n),c?s=u(i):(i&&(s=u(i)),s.klass||(s=u(o)))):(i=(0,e.getNsStore)(a))&&i.exports.types.includes(t)&&(s=u(i)):s=u(o),s&&s.klass?s:{klass:void 0,realType:t}},e.default=o},795:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(789),a=["https","http","ftp","telnet","mailto","gopher","file"],o=["com","net","org","top","wang","ren","xyz","cc","co","io","cn","com.cn","org.cn","gov.cn"],i=o.map((function(t){return t.replace(/\./g,"\\.")})),s="(?<domainLabel>[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<tld>".concat(i.join("|"),")"),c="(?<domain>".concat(s,")"),u="generate",p=function(t,e){var n=t.split("."),r=[],a=/^\d{1,3}$/;if(4===n.length&&n.every((function(t){if(a.test(t)){var e=Number(t);if(e>=0&&e<=255)return r.push(e),!0}return!1})))return r;throw new Error("".concat(e,'"').concat(t,'"'))},l=function(t,e,n){var r=void 0===n?{}:n,a=r.isMax,o=void 0!==a&&a,i=r.type,s=void 0===i?"":i;if(o){if(!t)return e.split(".").map(Number)}else if(!e)return t.split(".").map(Number);for(var c="wrong config ".concat(o?"max":"min"," ip").concat(s?" of class "+s:"",":"),u=p(t,c),l=p(e,c),f=0;f<4;f++){var h=u[f],d=l[f];if(h!==d&&h>d)throw new Error("".concat(c).concat(t,", is bigger than ").concat(e))}return o?u:l},f={types:{integer:["number","%d"],percent:["number","[0,100]:%d%"],chinese:["string","[\\u4E00,\\u9FA5]"],uppercase:["string","[65,90]"],lowercase:["string","[97,122]"],alpha:["string","[65-90,97-122]"],numeric:["string","[48,57]"],alphaNumeric:["string","[48-57,97-122,65-90]"],alphaNumericDash:["string","[48-57,97-122,65-90,95]"],protocol:[a],tld:[o],domain:["regexp","/".concat(s,"/")],url:["regexp","/(?<protocol>".concat(a.join("|"),"):\\/\\/").concat(c,"(?<port>(?::(?:6[0-5][0-5][0-3][0-5]|[1-5]\\d{4}|[1-9]\\d{0,3}))?)\\/(?<pathname>(?:[0-9a-z]+\\/)*(?<filename>\\w+(?<extname>\\.(?:html|htm|php|do)))?)(?<query>\\?([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})&)*([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})))(?<hash>#[0-9a-z_=]{5,})?/")],ip:{configOptions:{v6:{type:Boolean,default:!1},compress:{type:Number,default:0},type:{type:String},min:{type:String},max:{type:String}},generate:function(t,e){var n=this.params.$config,r=n.v6,a=t.mocker,o=a.store(u);if("function"!=typeof o){var i;if(r)i=e.instance(":ipv6#[compress=".concat(n.compress,"]"));else{var s=n.type,c=n.min,p=n.max,l=[];s&&l.push('type="'.concat(s,'"')),c&&l.push('min="'.concat(c,'"')),p&&l.push('max="'.concat(p,'"'));var f=l.length?"#[".concat(l.join(","),"]"):"";i=e.instance(":ipv4".concat(f))}o=function(){return i.a()},a.store(u,o)}return o()}},ipv6:{configOptions:{compress:{type:Number,default:0}},generate:function(t,e){var n=t.mocker,r=n.store(u);if("function"!=typeof r){var a=this.params.$config.compress;if(a>0){var o=e.instance(":regexp/[0-9a-f]{3,4}/");r=function(){for(var t=[],e=/^0*/,n=0,r=!1,i=0;i<8;i++){var s=Math.random()<a?"":o.a().replace(e,"");""!==s?(t.push(s),n>0&&(n=0)):r?t.push("0"):(n>1||(1===n?(t[t.length-1]="",1===i&&t.push(""),r=!0):t.push("0")),n++)}return n>1&&t.push(""),t.join(":")}}else{var i=e.instance(":regexp/[0-9a-f]{4}/");r=function(){for(var t=[],e=0;e<8;e++)t.push(i.a());return t.join(":")}}n.store(u,r)}return r()}},ipv4:{configOptions:{type:{type:String},min:{type:String},max:{type:String}},generate:function(t){var e=t.mocker,n=e.store(u);if("function"!=typeof n){var a,o,i=this.params.$config,s=i.type,c=i.min,p=i.max;switch(s){case"A":a=l("0.0.0.0",c,{type:s}),o=l(p,"127.255.255.255",{type:s,isMax:!0});break;case"B":a=l("128.0.0.0",c,{type:s}),o=l(p,"191.255.255.255",{type:s,isMax:!0});break;case"C":a=l("192.0.0.0",c,{type:s}),o=l(p,"223.255.255.255",{type:s,isMax:!0});break;case"D":a=l("224.0.0.0",c,{type:s}),o=l(p,"239.255.255.255",{type:s,isMax:!0});break;case"E":a=l("240.0.0.0",c,{type:s}),o=l(p,"247.255.255.255",{type:s,isMax:!0});break;default:if(s)throw new Error('wrong type class of ip address: "'.concat(s,'", should be "A" or "B" or "C" ... "E"'));a=l("0.0.0.0",c),o=l(p,"255.255.255.255",{isMax:!0})}n=function(){return function(t,e){for(var n=[],a=!1,o=0;o<4;o++){var i=t[o],s=e[o];if(a)n.push((0,r.makeRandom)(i,255));else{var c=(0,r.makeRandom)(i,s);n.push(c),a=c>i}}return n}(a,o).join(".")},e.store(u,n)}return n()}},email:["regexp","/(?<user>(?:[a-z0-9]+(?:[-_]?[a-z0-9]+|[a-z0-9]*)))@".concat(c,"/")],boolean:function(t,e){return e.utils.isOptional()},color$hex:{configOptions:{lowercase:{type:Boolean,default:!1},argb:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number}},generate:function(t,e){var n,a=this.params.$config,o=void 0===a?{}:a,i=o.lowercase,s=o.argb,c=o.min,u=o.max,p=e.utils.makeRandom,l=6;return s?(l=8,n=p(0,(0,r.hasOwn)(o,"max")?u:4294967295)):n=p(c,(0,r.hasOwn)(o,"max")?u:16777215),"#".concat(i?n.toString(16).padStart(l,"0"):n.toString(16).toUpperCase().padStart(l,"0"))}},color$rgb:function(t,e){var n=e.instance(":int[0,255]");return"rgb("+[n.a(),n.a(),n.a()].join(",")+")"},color$rgba:function(t,e){var n=e.instance(":int[0,255]"),r=e.as(":number[0,1]:%.2f");return"rgba("+[n.a(),n.a(),n.a(),r||0].join(",")+")"},color$hsl:function(t,e){var n=e.as(":int[0,360]"),r=e.instance(":percent");return"hsl("+[n,r.a(),r.a()].join(",")+")"},color$hsla:function(t,e){var n=e.as(":int[0,360]"),r=e.instance(":percent"),a=e.as(":number[0,1]:%.2f");return"hsla("+[n,r.a(),r.a(),a||0].join(",")+")"}},alias:{int:"integer",bool:"boolean"}};e.default=f},491:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateformat=e.strtotime=void 0;var r=n(789),a=function(t){return void 0===t?new Date:t instanceof Date?t:new Date(t)},o=function(t,e,n){var r=new Date,a=r.getFullYear().toString();t=t||a,e=e||(r.getMonth()+1).toString(),n=n||r.getDate().toString();var o=t.length;return o<4&&(t=a.slice(0,a.length-o)+t),new Date("".concat(t,"/").concat(e,"/").concat(n," 00:00:00"))};e.strtotime=function(t){if("number"==typeof t)return new Date(t);if("string"==typeof t){var e=void 0;try{e=function(t,e){var n=new Date;if(""===t)return n.setHours(0,0,0,0),n;var i,s=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],c=["january","february","march","april","may","june","july","august","september","october","november","december"];if(i=(t=t.toLowerCase()).match(/^(\d{4})([-/.])(\d{1,2})\2(\d{1,2})$/))return o(i[1],i[3],i[4]);if(i=t.match(/^(today|yesterday|tomorrow)$/)){var u={today:0,tomorrow:1,yesterday:-1},p=i[1];return e?(e=a(e),u[p]&&e.setDate(e.getDate()+u[p]),e.setHours(0,0,0,0),e):o(null,null,u[p]?(n.getDate()+u[p]).toString():null)}if(i=t.match(/^(\d{4})(\d{1,2})(\d{1,2})$/)){var l=i.slice(1,4);return o.apply(void 0,l)}if(i=t.match(/^(\d{1,2})\/(\d{1,2})(?:\/(\d{2}|\d{4})?)$/))return o(i[4],i[1],i[2]);var f=new RegExp("^("+s.concat(c).join("|")+")(?:\\s+|\\.)(?:(([13]?1)(?:st)?|([12]?2)(?:nd)?|([12]?3)(?:rd)?|([12]0|[12]?[4-9])(?:th)?|(30)th))(?:\\s*,\\s*(\\d{2}|\\d{4}))?$");if(i=t.match(f)){var h=i[1],d=i[3],g=i[8],m=s.indexOf(h),v=c.indexOf(h);return h=m>-1?(m+1).toString():(v+1).toString(),o(g,h,d)}var y=/([+-]?\d+)\s+(day|month|week|year)s?/g;if(i=t.match(/^(([+-]?\d+)\s+(day|month|week|year)s?(\s+(?!$)|))+?(\s+ago)?$/)){for(var w=i[5]?"-":"",b={year:[],month:[],day:[],week:[]},x={year:0,month:0,day:0,week:0,date:0,fullYear:0},O=null;null!==(O=y.exec(t));){var _=O[2],R=O[1];b[_].push("("+R+")")}Object.keys(b).map((function(t){var e=b[t];e.length?x[t]=new Function("","return "+w+"("+e.join("+")+")")():x[t]=0})),x.date=7*x.week+x.day,x.fullYear=x.year;for(var E=["date","month","fullYear"],k=a(e),j=0,N=E.length;j<N;j++){R=x[p=E[j]];var P=(0,r.capitalize)(p);if(R){var A=k["get".concat(P)]();k["set".concat(P)](A+R)}}return k}throw new Error("can not parse the date!")}(t)}catch(n){if(e=new Date(t),isNaN(+e))throw new Error("invalid date")}return e}throw new Error("invalid date:".concat(t))};var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return this.getDate()},dd:function(){return u("d",this)},dddd:function(){return i[this.getDay()]},ddd:function(){return c.dddd().slice(0,3)},m:function(){return this.getMonth()+1},mm:function(){return u("m",this)},mmmm:function(){return s[this.getMonth()]},mmm:function(){return c.mmmm().slice(0,3)},yyyy:function(){return this.getFullYear().toString().padStart(4,"0")},yy:function(){return this.getFullYear().toString().slice(-2).padStart(2,"0")},h:function(){return(this.getHours()%12).toString()},hh:function(){return u("h",this)},H:function(){return this.getHours().toString()},HH:function(){return u("H",this)},M:function(){return this.getMinutes()},MM:function(){return u("M",this)},s:function(){return this.getSeconds().toString()},ss:function(){return u("s",this)},l:function(){return this.getMilliseconds().toString().padStart(3,"0")},L:function(){return Math.round(this.getMilliseconds()/10).toString().padStart(2,"0")},tt:function(){return this.getHours()>=12?"pm":"am"},t:function(){return c.tt.call(this).charAt(0)},TT:function(){return this.getHours()>=12?"PM":"AM"},T:function(){return c.TT.call(this).charAt(0)},S:function(){return["st","nd","rd"][this.getDate()%10-1]||"th"},N:function(){return this.getDay().toString()||"7"}},u=function(t,e){return c[t].call(e).toString().padStart(2,"0")};e.dateformat=function(t,e){return t.replace(/[A-Za-z]*/g,(function(t){return c[t]?c[t].call(e):t}))}},12:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(789),a=function(){function t(t){this.isPlain=t,this.result=null,this.initial=!1}return t.prototype.set=function(t,e){var n=(0,r.typeOf)(e),a=t.length;if(!this.isPlain||"Array"!==n&&"Object"!==n){this.initial||(this.result="number"==typeof t[0]?[]:{},this.initial=!0);var o=this.result;if(0!==t.length){for(var i=0;i<a-1;i++){var s=t[i],c=t[i+1];if((0,r.isArray)(o)&&"number"==typeof s&&s%1==0)o.length<s+1&&(o[s]="number"==typeof c?[]:{}),o=o[s];else{if(!(0,r.isObject)(o))throw new Error("wrong field path key: '".concat(s,"'"));(0,r.hasOwn)(o,s)||(o[s]="number"==typeof c?[]:{}),o=o[s]}}o[t[i]]=e}else this.result[""]=e;return this}},t.prototype.get=function(t){var e=this.result;if(0!==t.length){try{for(var n=0,r=t.length;n<r;n++){var a=t[n];e=e[a]}}catch(t){}return e}return e[""]},t.prototype.clear=function(){this.result=null,this.initial=!1},t.prototype.has=function(t){for(var e=this.result,n=!0,a=0,o=t.length;a<o;a++){var i=t[a];if("number"==typeof i?(n=(0,r.isArray)(e)&&e.length>i,e=e[i]):(n=(0,r.isObject)(e)&&(0,r.hasOwn)(e,i),e=e[i]),!n)break}return n},t}();e.default=a},789:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeDictData=e.makeCascaderData=e.getCascaderValue=e.validator=e.getRefMocker=e.getPathInfo=e.parsePathSeg=e.path2str=e.isRelativePath=e.pickObj=e.shiftObj=e.deepCopy=e.getExpValue=e.getExp=e.decodeTrans=e.capitalize=e.isOptional=e.range=e.makeStrRangeList=e.makeRandom=e.encodeRegexpChars=e.isNoEmptyObject=e.isObject=e.isArray=e.isFn=e.typeOf=e.dateformat=e.strtotime=e.hasOwn=void 0;e.hasOwn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r=Object.setPrototypeOf?function(t,e){Object.setPrototypeOf(t,e)}:{__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,n){for(var r in n)(0,e.hasOwn)(t,r)||(t[r]=n[r])},a=n(491);Object.defineProperty(e,"strtotime",{enumerable:!0,get:function(){return a.strtotime}}),Object.defineProperty(e,"dateformat",{enumerable:!0,get:function(){return a.dateformat}});e.typeOf=function(t){return Object.prototype.toString.call(t).slice(8,-1)};e.isFn=function(t){return"function"==typeof t};e.isArray=function(t){return Array.isArray(t)};e.isObject=function(t){return"Object"===(0,e.typeOf)(t)};e.isNoEmptyObject=function(t){return(0,e.isObject)(t)&&Object.keys(t).length>0};e.encodeRegexpChars=function(t){return t.replace(/([()[{^$.*+?/-])/g,"\\$1")};e.makeRandom=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))};e.makeStrRangeList=function(t,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!t||!n)return[];for(var o=t.charCodeAt(0),i=n.charCodeAt(0),s=[],c=o;c<=i;)s.push(String.fromCharCode(c++));return r.length>0&&r.length%2==0?s.concat(e.makeStrRangeList.apply(void 0,r)):s};e.range=function(t,e,n){void 0===n&&(n=1);var r=Math.floor((e-t)/n)+1;return Array.from({length:r},(function(e,r){return t+r*n}))};e.isOptional=function(){return Math.random()>=.5};e.capitalize=function(t){return t&&t.length?t.charAt(0).toUpperCase()+t.slice(1):""};e.decodeTrans=function(t){return t.replace(/\\(.)/g,"$1")};e.getExp=function(t){var e=new Function("","return ".concat(t));try{return e()}catch(e){throw new Error('wrong expression of "'.concat(t,'".reason:').concat(e))}};function o(t,n){var a=[],o=!1;(0,e.isObject)(n)?(a=Object.keys(n),o=n.constructor!==Object):(0,e.isArray)(n)&&(a=(0,e.range)(0,n.length-1)),a.map((function(r){var a=n[r],o=t[r],i=(0,e.typeOf)(a),s=(0,e.typeOf)(o);"Object"===i||"Array"===i?(t[r]=s===i?t[r]:"Object"===i?{}:[],(0,e.deepCopy)(t[r],a)):t[r]=a})),o&&r(t,n.constructor.prototype)}e.getExpValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r="__$__",a=t.pop();void 0!==(n=t.shift());)try{return new Function(r,"return ".concat(r,".").concat(a))(n)}catch(t){}};e.deepCopy=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=!1,i=!1;if((a=(0,e.isObject)(t))||(i=(0,e.isArray)(t)))for(var s=0,c=n.length;s<c;s++){var u=n[s];(a&&(0,e.isObject)(u)||i&&(0,e.isArray)(u))&&o(t,u)}return t};e.shiftObj=function(t,e){var n={};return e.map((function(e){n[e]=t[e],delete t[e]})),n};e.pickObj=function(t,n){var r={};return n.map((function(n){(0,e.hasOwn)(t,n)&&(r[n]=t[n])})),r};e.isRelativePath=function(t,n){var r=t.length;if(r>n.length)return(0,e.isRelativePath)(n,t);for(var a=0;a<r;){if(t[a].toString()!==n[a].toString())break;a++}return a===r};e.path2str=function(t){return"/".concat(t.join("/"))};e.parsePathSeg=function(t){void 0===t&&(t="");for(var e=[],n=!1,r="",a=0,o=t.length;a<o;a++){var i=t.charAt(a);n?(n=!1,r+=i):"\\"===i?n=!0:"/"===i?(e.push(r),r=""):r+=i}return""!==r&&e.push(r),e};e.getPathInfo=function(t,n){var r,a=n.path;if(t.relative){if(a.length<t.depth+1)throw new Error('the path of "'.concat(r?"/"+r.join("/"):t.fullpath,'" is not exists in the instances.'));r=a.slice(0,-(1+t.depth)).concat(t.path)}else r=t.path;if((0,e.isRelativePath)(a,r))throw new Error('the ref path of "'.concat(a.join("/"),'" and "').concat(r.join("/"),'" is a relative path.'));return r};e.getRefMocker=function(t,n){var r=n.root.instances,a=(0,e.getPathInfo)(t,n);return r.get(a)},e.validator={validNumber:function(t,e,n){if("number"!=typeof n)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with number, but got a value of type '").concat(typeof n,"'"));return!0},validInteger:function(t,e,n){if("number"!=typeof n)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with integer number, but got a value of type '").concat(typeof n,"'"));if(n%1!=0)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with integer number, but got a number '").concat(n,"'"));return!0}};e.getCascaderValue=function(t,n){for(var r=n.length,a=0;a<r;){var o=n[a++];if(!(0,e.isObject)(t))throw new Error("".concat(n.slice(0,a).join("."),"字段路径没有找到"));t=t[o]}if((0,e.isArray)(t))return t[(0,e.makeRandom)(0,t.length-1)];var i=Object.keys(t);return i[(0,e.makeRandom)(0,i.length-1)]};e.makeCascaderData=function(t,n){for(var r=t.$path,a=void 0===r?[]:r,o=t.$config,i=a[0],s=o.handle,c=[],u=1;u++<10&&!o.root&&!o.data;){var p=(0,e.getRefMocker)(i,n);if(!p)return void console.error("the cascader reference the path '".concat(i,"' is not exist or generated."));var l=p.mockit.params;a=l.$path,o=l.$config,i=a&&a[0],s=s||o.handle,c.unshift(p.result)}return{handle:s=s||e.getCascaderValue,lastPath:i,values:c,$config:o}};e.makeDictData=function(t){var n=t.$length,r=function(t){var n=t[(0,e.makeRandom)(0,t.length-1)];return n[(0,e.makeRandom)(0,n.length-1)]};return function(t){for(var a=n?(0,e.makeRandom)(n.least,n.most):1,o=1===a,i=[];a--;)i.push(r(t));return o?i[0]:i}}},417:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(899),i=n(789),s=n(907),c=function(t){var e;if("number"==typeof t)e=new Date(t);else{if(!o.strRule.test(t))throw new Error("invalid date:".concat(t));e=(0,i.strtotime)(RegExp.$2)}return e},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$size",(function(t){if(t){var e=t.range;if(2!==e.length)throw new Error("the time range should supply 2 arguments,but got ".concat(e.length));var n=e[0],r=e[1],a=c(n),o=c(r),i=a.getTime(),s=o.getTime();if(s<i)throw new Error("the time range of start time ".concat(n," is big than end time ").concat(r,"."));return{range:[i,s]}}})),this.addRule("$format",(function(t){if(t){var e=t.format;return{format:e=(0,i.decodeTrans)(e.slice(1))}}})),this.addModifier("$format",(function(t,e){var n=e.format;return(0,i.dateformat)(n,t)}))},e.prototype.generate=function(){var t=this.params.$size,e=(null!=t?t:{range:[(0,i.strtotime)("-10 year").getTime(),(0,i.strtotime)("+10 year").getTime()]}).range,n=(0,i.makeRandom)(e[0],e[1]),r=new Date;return r.setTime(n),r},e.prototype.test=function(){return!0},e.constrName="ToDate",e.allowAttrs=[],e}(s.default);e.default=u},163:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(907),i=n(789),s="ToIncrement",c={step:{type:Number,default:1,validator:function(t){return i.validator.validNumber(s,"step",t)}},start:{type:Number,default:1,validator:function(t){return i.validator.validNumber(s,"start",t)}}},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.setAllowAttrs("$length","$size")},e.prototype.generate=function(t){var e=this.params,n=e.$config,r=e.$length,a=n||{},o=a.start,s=a.step,c=t.mocker,u="increment",p=c.store(u);if(r){var l=r.least,f=r.most,h=[],d=(0,i.makeRandom)(l,f);if(d>0){for("number"!=typeof p&&(p=o,h.push(o),d--);d-- >0;)p+=s,h.push(p);c.store(u,p)}return h}return"number"==typeof p?p+=s:p=o,c.store(u,p),p},e.prototype.test=function(){return!0},e.constrName=s,e.configOptions=c,e.selfConfigOptions=c,e.allowAttrs=[],e}(o.default);e.default=u},580:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(500),i=n(789),s=n(907),c={none:0,min:1,max:2,both:3},u={step:{type:Number}},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$size",(function(t){if(t){var e=t.range,n=e.length;if(2!==n)throw new Error(n<2?"the $size param must have the min and the max params":"the $size param length should be 2,but got ".concat(n));var r=e[0],a=e[1];if(r=r.trim(),a=a.trim(),""===r&&""===a)throw new Error("the min param and max param can not both undefined");if(""===r&&(r=Number.MIN_SAFE_INTEGER||Number.MIN_VALUE),""===a&&(a=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),isNaN(r))throw new Error("the min param expect a number,but got ".concat(r));if(isNaN(a))throw new Error("the max param expect a number,but got ".concat(a));var o=Number(r),i=Number(a);if(o>i)throw new Error("the min number ".concat(r," is big than the max number ").concat(a));return{range:[o,i]}}})),this.addRule("$format",(function(t){if(t){var e=t.format;if(!o.rule.test(e))throw new Error("Wrong format rule(".concat(e,")"))}})),this.addModifier("$format",(function(t,e){return(0,o.default)(e.format,t)}))},e.prototype.generate=function(){var t,e=this.params,n=e.$size,r=e.$config;if(n){var a=n.range,o=r&&r.step,s=a,u=s[0],p=s[1],l=r&&r.exclude;if(o){var f=Math.floor((p-u)/o);if(f>0)return+u+o*(0+Math.floor(Math.random()*(f-0)))}var h=c.both;if(l)l.split(",").map((function(t){h-=c[t]})),h=h<0?0:h;t=+u+(p-u)*function(t){var e=Number.EPSILON||Math.pow(2,-52);switch(t){case c.max:return 1-Math.random();case c.both:return(1+e)*Math.random();case c.none:return(1-e)*(1-Math.random());default:return Math.random()}}(h)}else t=Math.random()*Math.pow(10,Math.floor(10*Math.random())),t=(0,i.isOptional)()?-t:t;return t},e.prototype.test=function(){return!0},e.constrName="ToNumber",e.configOptions=u,e.selfConfigOptions=u,e.allowAttrs=[],e}(s.default);e.default=p},639:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s=n(899),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$path",(function(t){if(!t)throw new Error("the ref type must has a path param.")}))},e.prototype.generate=function(t){var e=t.mocker,n=t.template,r=this.params.$path,a=[];if(n)e?r.map((function(t){var r,i=!1;if(r=s.tmplRefRule.test(t.fullpath)){var c=RegExp.$1,u=n.getRefValue(c);u&&((0,o.isArray)(u)?u.map((function(t){a.push(t.result)})):a.push(u.result),i=!0)}if(!i){var p=(0,o.getRefMocker)(t,e);p&&(a.push(p.result),i=!0)}if(!i)throw new Error("The ':ref' type's reference path \"".concat(t.fullpath,"\" in template literal can't be found ").concat(r?"neithor in the inner template nor ":"","in the data paths."))})):r.map((function(t){if(s.tmplRefRule.test(t.fullpath)){var e=RegExp.$1,r=n.getRefValue(e);if(!r)throw new Error("The ':ref' type's reference path \"".concat(t.fullpath,'" in template literal is not found.'));(0,o.isArray)(r)?r.map((function(t){a.push(t.result)})):a.push(r.result)}}));else{if(!e)throw new Error("The ':ref' data type need a mocker object or a template object in a template literal.");r.map((function(t){var n=(0,o.getRefMocker)(t,e);if(!n)throw new Error("The ':ref' type's reference path \"".concat(t.fullpath,'" is not found in the data paths.'));a.push(n.result)}))}return 1===r.length&&1===a.length?a[0]:a},e.prototype.test=function(){return!0},e.constrName="ToRef",e.allowAttrs=[],e}(i.default);e.default=c},634:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(536),i=n(907),s=n(789),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$regexp",(function(t){if(!t)throw new Error("the regexp type must has a regexp rule.");var e=t.rule;if(!o.regexpRule.test(e))throw new Error("wrong regexp expression")})),this.addRule("$config",(function(t){if(t){var e={},n=/(.?)\|/g;return Object.keys(t).forEach((function(r){var a=t[r];if("string"==typeof a){for(var o=null,i=[],s=[],c=0;null!==(o=n.exec(a));)"\\"===o[1]?i.push(a.slice(c,n.lastIndex)):(s.push(i.join("")+a.slice(c,n.lastIndex-1)),i=[]),c=n.lastIndex;c<a.length&&s.push(a.slice(c,a.length)),e[r]=s}else e[r]=a})),e}}))},e.prototype.generate=function(){var t=this.instance,e=this.params,n=e.$config,r=void 0===n?{}:n,a=e.$regexp;if(!t){var i=Object.keys(r).reduce((function(t,e){var n=r[e];return(0,s.isArray)(n)?t[e]=n:"string"==typeof n&&(t[e]=[n]),t}),{});t=this.instance=new o.default(a.rule,{namedGroupConf:i})}return t.build()},e.prototype.test=function(){return!0},e.constrName="ToRegexp",e.allowAttrs=[],e}(i.default);e.default=c},935:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s=/^\\u([0-9a-fA-F]{1,6})$/,c=/^\d+$/,u=function(t){return parseInt(t,16)},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.setAllowAttrs("$length"),this.addRule("$size",(function(t){if(t){var e=t.range,n=e.length;if(n<2)throw new Error("The '$size' should have 2 arguments,but got ".concat(n));var r=e,a=r[0],o=r[1],i=[],p=1114111,l=/^\\u([0-9a-fA-F]{1,6})-\\u([0-9a-fA-F]{1,6})$/,f=/^(\d+)-(\d+)$/,h=!1,d=0,g=!1;if(2===n&&((g=s.test(a))||c.test(a))){var m=void 0,v=void 0,y=!1;if(g?(m=u(RegExp.$1),y=!0,s.test(o)&&(h=!0,v=u(RegExp.$1))):(m=Number(a),c.test(o)&&(v=Number(o),h=!0)),h){if(v<m)throw new Error("the min param '".concat(a,"' is big than the max param '").concat(o,"'"));if(v>p)throw new Error("the max param's unicode point is big than the max point (".concat(o," > '0x10ffff')"));i.push([m,v])}else{if(!f.test(o)&&!l.test(o))throw new Error("the max param '".concat(o,"' must be a ").concat(y?"unicode":"number"," like the min param '").concat(a,"'"));d++}}if(!h)for(;d<n;d++){var w=e[d],b=null,x=(m=void 0,v=void 0,!0);if(b=w.match(l))m=u(b[1]),v=u(b[2]);else if(b=w.match(f))m=Number(b[1]),v=Number(b[2]);else if(b=w.match(c))x=!1,m=v=Number(b[0]);else{if(!(b=w.match(s)))throw new Error("the param of index ".concat(d,"(").concat(w,") is a wrong range or number."));x=!1,m=v=u(b[1])}if(x&&v<m)throw new Error("the param of index ".concat(d,"'s range is wrong.(").concat(b[1]," > ").concat(b[2],")"));if(v>p)throw new Error("the param of index ".concat(d,"'s code point(").concat(v,") is big than 0x10ffff"));i.push([m,v])}return{range:i}}}))},e.prototype.generate=function(){for(var t=this.params,e=t.$length||{least:1,most:100},n=e.least,r=e.most,a=(t.$size||{range:[[32,126]]}).range,i=a.length-1,s=(0,o.makeRandom)(Number(n),Number(r)),c="",u=1;u<=s;u++){var p=a[(0,o.makeRandom)(0,i)],l=p[0],f=p[1],h=(0,o.makeRandom)(l,f);c+=String.fromCodePoint(h)}return c},e.prototype.test=function(){return!0},e.constrName="ToString",e.allowAttrs=[],e}(i.default);e.default=p},735:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setTemplate=function(t){this.$template=t},e.prototype.init=function(){this.setAllowAttrs("$length")},e.prototype.generate=function(t){var e=this.$template,n=this.params.$length,r=e.value(t);if(n){var a=Number(n.least),i=Number(n.most),s=(0,o.makeRandom)(a,i);if(s>1)return r.repeat(s)}return r},e.prototype.test=function(){return!0},e.constrName="ToTemplate",e.allowAttrs=[],e}(n(907).default);e.default=i},968:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(536),a=n(789),o=n(899),i={config:{startTag:["#["],endTag:["]"],separator:",",pattern:/\s*([a-zA-Z_$][\w$]*)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|([^\s,\]]+))\s*)?/},parse:function(){var t=this.info().params,e={};if(t.length)for(var n=/^\s*([a-zA-Z_$][\w$]*)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|([^\s,\]]+))\s*)?$/,i=["true","false","null","undefined","NaN"],s=0,c=t.length;s<c;s++){var u=t[s];if(n.test(u)){var p=RegExp.$1,l=RegExp.$2,f=RegExp.$3,h=RegExp.$4;if((0,a.hasOwn)(e,p))throw new Error('the config of "'.concat(p,'" has exists,do not define repeatly.'));if(l)e[p]=(0,a.decodeTrans)(f);else if(h){var d=h;"/"===d.charAt(0)?r.regexpRule.test(d)?e[p]=(0,a.getExp)(d):this.halt("wrong regexp:".concat(d)):isNaN(Number(d))?i.indexOf(d)>-1?e[p]=(0,a.getExp)(d):e[p]=new o.Variable(d):e[p]=Number(d)}else e[p]=!0}else this.halt("[index: ".concat(s,'] The configuration of "').concat(u,'" is not a valid supported value, please check it.'))}return e},setting:{frozen:!1}};e.default=i},566:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["%"],endTag:[]},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("wrong format param:".concat(t.join(""))):{format:t[0]}}}},662:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(899),a=n(789),o={config:{startTag:["@"],endTag:[],separator:"|",pattern:/^([a-z][\w$]*)(?:\(((?:(?:(['"])(?:(?!\3)[^\\]|\\.)*\3|[+-]?\d+|[a-zA-Z_$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)\s*(?:,(?!\s*\))|(?=\s*\)))\s*)*)\)|)/,rule:new RegExp("^@(?:[a-z][\\w$]*(?:\\((?:(?:(['\"])(?:(?!\\1)[^\\\\]|\\\\.)*\\1|[+-]?\\d+|[a-zA-Z_$]+(?:\\.[\\w$]+|\\[(?:(['\"])(?:(?!\\2)[^\\\\]|\\.)*\\2|\\d+)\\])*)\\s*(?:,(?!\\s*\\))|(?=\\s*\\)))\\s*)*\\)|)(?:\\|(?!$|".concat(r.encodeSplitor,")|(?=\\s*$|").concat(r.encodeSplitor,")))*"))},parse:function(){var t=this.info(),e=t.patterns,n=t.code,r={queue:[],fns:[],params:[],options:[]};if(e.length){var o=/(['"])((?:(?!\1)[^\\]|\\.)*)\1|([+-]?[\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)/g,i=["true","false","undefined","null","NaN"];return e.forEach((function(t){var e=t[1],n=t[2],s=[];if(n)for(var c=null;null!==(c=o.exec(n));){var u=c[3],p={};u?i.indexOf(u)>-1||!isNaN(Number(u))?p.value=(0,a.getExp)(u):(p.value=u,p.variable=!0):p.value=c[2],s.push(p)}r.queue.push(e);var l={name:e,params:s};r.options.push(l);var f=function(t){var e=t.name,n=t.params,r=[];return n.forEach((function(t){var e=t.variable,n=t.value;e||r.push(n)})),{fn:function(t){var r="__CONFIG__",a="__VARS__",o="__ARGS__",i="__RESULT__",s="__EXP__",c=t?"__FN__":"".concat(i,".").concat(e),u=t?[c]:[],p=t?[i]:[],l=0;return n.forEach((function(t){var e=t.value;if(t.variable){var n="string"==typeof e&&(e.includes(".")||e.includes("["));p.push(n?"".concat(s,"(").concat(r,',"').concat(e,'")'):"".concat(r,'.hasOwnProperty("').concat(e,'") ? ').concat(r,'["').concat(e,'"] : ').concat(a,'["').concat(e,'"]'))}else p.push("".concat(o,"[").concat(l++,"]"))})),new Function(u.concat(o,a,i,r,s).join(","),t?"return ".concat(c,".apply(this,[").concat(p.join(","),"]);"):"return ".concat(c,"(").concat(p.join(","),")"))},param:r}}(l),h=f.fn,d=f.param;r.fns.push(h),r.params.push(d)})),r}this.halt('no modify functions find in "'.concat(n,'"'))}};e.default=o},648:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["{"],endTag:["}"],separator:","},parse:function(){var t=this,e=this.info().params;if(e.length>2)return this.halt("the length should not have more than 2 params");var n=e[0],r=e[e.length-1],a={least:n,most:r},o=function(e){var n=a[e];if(isNaN(Number(n))||!/^(?:[1-9]+\d*|0)$/.test(n)||+n<0)return t.halt("the length param of ".concat(e,' expect a integer number greater than or equal to 0,but got "').concat(n,'"'))};if(o("least"),2===e.length&&(o("most"),Number(n)>=Number(r)))throw new Error('the length param of least "'.concat(n,'" is greater than or equal to the most "').concat(r,'"'));return{least:Number(n),most:Number(r)}}};e.default=n},668:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(899),a=n(789),o={config:{startTag:["&"],endTag:[],separator:",",pattern:new RegExp("^(\\.{1,2}(?:\\/\\.\\.)*|<\\w+?>)?((?:/(?:\\\\.?|[^\\/.,".concat(r.encodeSplitor,"]|\\.(?![.\\/,").concat(r.encodeSplitor,"]|$))+)+)")),rule:new RegExp("^&(?:(?:\\.{1,2}(?:\\/\\.\\.)*|<\\w+?>)?(?:\\/(?:\\\\.?|[^\\/.,".concat(r.encodeSplitor,"]|\\.(?![.\\/,").concat(r.encodeSplitor,"]|$))+)+(?=(,)|").concat(r.encodeSplitor,"|$)\\1?)+"))},parse:function(){var t=this.info(),e=t.patterns,n=t.code;e.length||this.halt("no path params found:".concat(n));var r=[];return e.forEach((function(t){var e=t[0],n=t[1],o=t[2],i=!!n,s=i&&"<"===n.charAt(0)?n.slice(1,-1):void 0,c=0;if(i&&!s){var u=n.split("/");c=u.length-("."===u[0]?1:0)}var p={relative:i,path:(0,a.parsePathSeg)(o).slice(1),depth:c,fullpath:e,variable:s};r.push(p)})),r}};e.default=o},844:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r={config:{startTag:["/"],endTag:[],rule:n(536).parserRule},parse:function(){var t=this.info().params;return 1!==t.length?this.halt("invalid regexp rule:".concat(t.join(""))):{rule:t[0]}}};e.default=r},982:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["["],endTag:["]"],separator:","},parse:function(){return{range:this.info().params}}}},906:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnumSpecialType=void 0,function(t){t[t.Enum=1]="Enum",t[t.Template=2]="Template"}(e.EnumSpecialType||(e.EnumSpecialType={}))}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}var r={};return(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.createNsSuch=void 0;var e=n(795),a=n(666),o=n(489),i=n(275),s=n(168);(0,s.addMockitList)(s.builtinMockits),(0,s.addMockitList)({dict:o.default,cascader:i.default});var c=new a.Such;c.config(e.default),t.default=c;var u=n(666);Object.defineProperty(t,"createNsSuch",{enumerable:!0,get:function(){return u.createNsSuch}})})(),r})()}));