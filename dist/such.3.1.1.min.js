!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Such=e():t.Such=e()}(this,(function(){return(()=>{"use strict";var t={500:function(t,e){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.rule=void 0,e.rule=/^%([-+#0 ]*)?([1-9]\d*)?(?:\.(\d+))?([dfeEoxXi])(%)?$/;var r=function(t,a){if("number"!=typeof a)throw new Error("The second param must be a number,got '"+a+"'");var o,i="string"==typeof t?function(t){var n=t.match(e.rule);if(null===n)throw new Error("Wrong formatting template: '"+t+"', should match the rule:"+e.rule.toString());var r={align:"right",type:"",fill:" ",prefix:"",digits:6,minWidth:1,hash:!1,percent:!1},a=(n[0],n[1]),o=n[2],i=n[3],s=n[4],c=n[5],u=["f","e","E"].includes(s);if(void 0!==i&&!u)throw new Error('the type of "'+s+'" should not have a percision width');if(r.type=s,r.digits=void 0!==i?+i:r.digits,r.minWidth=void 0!==o?+o:r.minWidth,r.percent="%"===c,void 0!==a)for(var p=a.split(""),l=void 0,h="";void 0!==(l=p.shift());){if(h.includes(l))throw new Error("Repeated flag of '"+l+"' in '"+t+"'");switch(h+=l,l){case"+":r.prefix="+";break;case" ":"+"!==r.prefix&&(r.prefix=" ");break;case"0":"left"!==r.align&&(r.fill="0");break;case"-":r.align="left",r.fill=" ";break;case"#":r.hash=!0}}return r}(t):t,s="f"===i.type,c=Object.is(a,-0);switch(Object.is(a,-0)&&(i.prefix="-"),i.type){case"d":case"i":case"f":if(s){var u=Math.pow(10,i.digits);o=Math.round(a*u)/u}else o=Math.round(a);if(o<0||c?(i.prefix="-",o=o.toString().slice(1)||"0"):o=o.toString(),s){var p=o.split("."),l=i.digits?"."+(p[1]||"0").padEnd(i.digits,"0"):"";o=p[0]+l,i.string="0"===l.slice(-1)}break;case"o":case"x":case"X":var h="o"===i.type;if(a<0)throw new Error("a negative number "+a+" can't format to "+(h?"octal":"hex"));if(i.string=!0,i.prefix="",o=Math.floor(a),h)o=Math.abs(o).toString(8),o=i.hash?"0"+o:o.toString();else{o=Math.abs(o).toString(16);var f="X"===i.type;i.hash&&(i.prefix+=f?"0X":"0x"),f&&(o=o.toUpperCase())}break;case"e":case"E":if(a<0)throw new Error("a negative number "+a+" can't format to hex");i.string=!0;var d=Math.floor(Math.log10(a)),g=d.toString();d<0?d>=-9&&(g="-0"+g.charAt(1)):(d<=9&&(g="0"+g),g="+"+g),g=i.type+g;var m=n(n({},i),{type:"f",minWidth:i.minWidth-g.length,percent:!1});return{conf:m,result:r(n({},m),a/Math.pow(10,d)).result+g+(i.percent?"%":"")}}var y,v=i.minWidth,w="right"===i.align?"padStart":"padEnd";if("0"===i.fill){var b=v-i.prefix.length,x=o;o=i.prefix+x[w](b,i.fill),y=b-x.length>0}else{o=(x=i.prefix+o)[w](v,i.fill),y=v-x.length>0}return i.string=i.string||"+"===i.prefix||"-"===i.prefix&&0===Number(o)||y,i.percent&&(o+="%",i.string=!0),{result:o,conf:i}};e.default=function(t,e){var n=r(t,e),a=n.conf,o=n.result;return a.string?o:Number(o)}},536:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},a.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.RegexpGroup=e.RegexpGroupItem=e.RegexpASCII=e.RegexpUnicodeAll=e.RegexpUnicode=e.RegexpHexCode=e.RegexpRange=e.RegexpSet=e.RegexpTimesQuantifiers=e.RegexpTimesMulti=e.RegexpTimes=e.RegexpRefOrNumber=e.RegexpOctal=e.RegexpTranslateChar=e.RegexpChar=e.RegexpAnchor=e.RegexpPrint=e.RegexpCharset=e.RegexpControl=e.RegexpBegin=e.RegexpBackspace=e.RegexpNull=e.RegexpAny=e.RegexpLookaround=e.RegexpSpecial=e.RegexpReference=e.RegexpOrigin=e.RegexpEmpty=e.RegexpPart=e.regexpRule=e.parserRule=e.CharsetHelper=void 0;var i=function(){return Math.random()>=.5},s=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))},c=function(t){for(var e=u(t),n=s(1,e),r=t.length,a=0;r>1;){var o=Math.floor(r/2),i=t[a+o-1],c=t[a+o];if(n>=i&&n<=c){a+=o-(n===i?1:0);break}n>c?(a+=o+1,r-=o+1):r-=o}return{rand:n,index:a}},u=function(t){return t[t.length-1]},p=function(){function t(){}return t.charsetOfAll=function(){return t.charsetOfNegated("ALL")},t.charsetOfDotall=function(){return t.charsetOfNegated("DOTALL")},t.charsetOfNegated=function(e){var n=t.points,r=t.cache;if(r[e])return r[e];var a=0,o=56319,i=57344,s=65535,c=[],p=[],l=0,h=function(t,e){var n=e-t+1;n<=0||(c.push(n>1?[t,e]:[t]),l+=n,p.push(l))};if("DOTALL"===e)h(a,o),h(i,s);else{for(var f="ALL"===e?[[10],[13],[8232,8233]]:n[e.toLowerCase()],d="S"===e,g=f.length-(d?1:0),m=0;a<=o&&g>m;){var y=f[m++],v=y[0],w=y[1];h(a,v-1),a=(w||v)+1}if(a<o&&h(a,o),d){var b=u(f)[0];h(i,b-1),h(b+1,s)}else h(i,s)}return r[e]={ranges:c,totals:p}},t.charsetOf=function(e){var n=t.lens;return{ranges:t.points[e],totals:n[e]}},t.getCharsetInfo=function(e,n){var r;void 0===n&&(n={});var a=t;return["w","d","s"].includes(e)?r=a.charsetOf(e):(r="."===e?n.s?a.charsetOfDotall():a.charsetOfAll():a.charsetOfNegated(e),n.u&&(r={ranges:r.ranges.concat([a.bigCharPoint]),totals:r.totals.concat(a.bigCharTotal)})),r},t.make=function(e,n){return void 0===n&&(n={}),t.makeOne(t.getCharsetInfo(e,n))},t.makeOne=function(t){var e=t.totals,n=t.ranges,r=c(e),a=r.rand,o=r.index,i=n[o][0]+(a-(e[o-1]||0))-1;return String.fromCodePoint(i)},t.points={d:[[48,57]],w:[[48,57],[65,90],[95],[97,122]],s:[[9,13],[32],[160],[5760],[8192,8202],[8232,8233],[8239],[8287],[12288],[65279]]},t.lens={d:[10],w:[10,36,37,63],s:[5,6,7,8,18,20,21,22,23,24]},t.bigCharPoint=[65536,1114111],t.bigCharTotal=1048576,t.cache={},t}();e.CharsetHelper=p;var l=p,h={beginWith:"^",endWith:"$",matchAny:".",groupBegin:"(",groupEnd:")",uncapture:"?:",lookahead:"?=",lookaheadNot:"?!",groupSplitor:"|",setBegin:"[",setEnd:"]",rangeSplitor:"-",multipleBegin:"{",multipleEnd:"}",multipleSplitor:",",translate:"\\",leastOne:"+",multiple:"*",optional:"?",setNotIn:"^",delimiter:"/"},f={i:1,u:2,s:4,g:8,m:16,y:32},d=Object.keys(f).join("");e.parserRule=new RegExp("^\\/(?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?/["+d+"]*");var g="((?:\\\\.|\\[[^\\]]*\\]|[^\\/])+?)";e.regexpRule=new RegExp("^\\/"+g+"\\/(["+d+"]*)$");var m=new RegExp("^"+g+"$"),y=/^(0[0-7]{0,2}|[1-3][0-7]{0,2}|[4-7][0-7]?)/,v=function(){function t(t,n){if(void 0===n&&(n={}),this.rule=t,this.config=n,this.context="",this.flags=[],this.lastRule="",this.queues=[],this.ruleInput="",this.flagsHash={},this.totalFlagBinary=0,this.rootQueues=[],this.hasLookaround=!1,this.hasNullRoot=null,t instanceof RegExp)this.rule=t.toString(),this.context=t.source,this.flags=t.flags.split("");else{if(!e.regexpRule.test(t)&&!m.test(t))throw new Error("wrong regexp:"+t);this.rule=t,this.context=RegExp.$1,this.flags=RegExp.$2?RegExp.$2.split(""):[]}this.checkFlags(),this.parse(),this.lastRule=this.ruleInput}return t.prototype.build=function(){if(this.hasLookaround)throw new Error("the build method does not support lookarounds.");var t=this.rootQueues,e="",n=a(a({},this.config),{flags:this.flagsHash,namedGroupData:{},captureGroupData:{},beginWiths:[],endWiths:[]}),r="the regexp has null expression, will match nothing";if(!0===this.hasNullRoot)throw new Error(r);if(this.hasNullRoot=t.some((function(t){return!!t.isMatchNothing||(e+=t.build(n),!1)})),this.hasNullRoot)throw new Error(r);return e},t.prototype.info=function(){var t=this;return{rule:t.rule,context:t.context,lastRule:t.lastRule,flags:t.flags,queues:t.queues}},t.prototype.parse=function(){for(var t=this,e=this.context,n=h,r=0,a=e.length,i=[new P],s=[],c=[],p=[],l={},f={},d=/^(\?(?:<(.+?)>|:))/,g=/^(\?(?:<=|<!|=|!))/,m=this.hasFlag("u"),v=[],w=[],b=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){return e.parser=t})),i.push.apply(i,e)},x=0,F=null,L=null,W=function(t){var e=u(v)||u(s)||u(c);["group","lookaround"].includes(t.type)&&(("group"===t.type?s:c).push(t),v.push(t));e&&("group"===e.type?e.addItem(t):t.parent=e)},K=function(t,e){return["groupBegin","groupSplitor","times","begin","anchor"].includes(t)||"charset"===t&&"b"===e.charset.toLowerCase()};r<a;){var Z=e.charAt(r++);if((L||F)&&["[","(",")","|","*","?","+","{",".","}","^","$","/"].includes(Z)){var Q=new C(Z);L?(Q.parent=L,L=null):Q.parent=F,b(Q)}else{var X=e.slice(r),Y=u(s),J=u(i),tt=null,et=null;switch(Z){case n.translate:var nt=e.charAt(r++),rt=Z+nt;if("u"===nt||"x"===nt){var at=(tt="x"===nt?new G:m?new H:new B).untilEnd(e.slice(r));if(0===at){if(m)throw new Error("invalid unicode code point:"+e);tt=new $("\\"+nt)}else r+=at}else if("c"===nt){var ot=e.charAt(r);if(m){if(!/[a-zA-Z]/.test(ot))throw new Error("invalid unicode escape,unexpect control character["+r+"]:\\c"+ot);tt=new j(ot),r++}else/[A-Za-z]/.test(ot)?(tt=new j(ot),r++):(tt=new C("\\"),r--)}else if(["d","D","w","W","s","S","b","B"].includes(nt))tt=new A(rt);else if(["t","r","n","f","v"].includes(nt))tt=new T(rt);else if(/^(\d+)/.test(X)){var it=RegExp.$1;if(F)if(y.test(it)){var st=RegExp.$1;tt=new M("\\"+st),r+=st.length-1}else tt=new $("\\"+it.charAt(0));else if("0"===it.charAt(0))if(1===it.length)tt=new R;else if(+it.charAt(1)>7)tt=new R;else{st=it.length>=3&&+it.charAt(2)<=7?it.slice(1,3):it.charAt(1);tt=new M("\\0"+st),r+=st.length}else if(r+=it.length-1,+it<=p.length){tt=new O("\\"+it);var ct=p[+it-1];f[it]=ct,ct.isAncestorOf(Y)?tt.ref=null:tt.ref=ct}else tt=new I("\\"+it),w.push(tt)}else if("k"===nt&&/^<([^>]+?)>/.test(e.slice(r))){var ut=RegExp.$1;if(!l[ut])throw new Error("Invalid named capture referenced:"+ut);r+=ut.length+2;ct=l[ut];tt=new O("\\"+ct.captureIndex,ut),ct.isAncestorOf(Y)?tt.ref=null:tt.ref=ct}else tt=new $(rt);break;case n.groupBegin:var pt=g.test(X);if(pt){var lt=RegExp.$1;tt=new _(lt),et=new k("lookaroundBegin"),this.hasLookaround=!0,r+=lt.length}else tt=new U,et=new k("groupBegin");if(!pt){if(tt=tt,d.test(X)){var ht=RegExp.$1,ft=RegExp.$2;"?:"===ht||(tt.captureIndex=++x,tt.captureName=ft,l[ft]=tt),r+=ht.length}else tt.captureIndex=++x;tt.captureIndex>0&&p.push(tt)}break;case n.groupEnd:if(!v.length)throw new Error("unmatched "+Z+',you mean "\\'+Z+'"?');var dt=v.pop(),gt=("group"===dt.type?s:c).pop();gt.isComplete=!0,(et=new k(dt.type+"End")).parent=gt;break;case n.groupSplitor:var mt=u(s);if(mt)mt.addNewGroup();else{var yt=new U;yt.isRoot=!0,yt.addRootItem(i.slice(1)),i.splice(1,0,yt),s.push(yt)}et=new k("groupSplitor");break;case n.setBegin:/^\\b]/.test(X)?(tt=new N,r+=3):(F=new z,"^"===X.charAt(0)&&(F.reverse=!0,r+=1),b(F),W(F),(et=new k("setBegin")).parent=F);break;case n.setEnd:F?(F.isComplete=!0,(et=new k("setEnd")).parent=F,F=null):tt=new C(Z);break;case n.rangeSplitor:if(F)if(J.codePoint<0)tt=new C(Z);else X.charAt(0)===n.setEnd?(F.isComplete=!0,F=null,r+=1):(F.pop(),(L=new q).parent=F,i.pop().parent=L,b(L,J),(et=new k("rangeSplitor")).parent=L);else tt=new C(Z);break;case n.multipleBegin:case n.optional:case n.multiple:case n.leastOne:var vt=(tt=Z===n.multipleBegin?new D:new(V.bind.apply(V,o([void 0],this.config.maxRepeat?[this.config.maxRepeat]:[])))).untilEnd(e.slice(r-1));if(vt>0){var wt=J instanceof k?J.special:J.type,bt="["+J.input+"]nothing to repeat[index:"+r+"]:"+e.slice(r-1,r-1+vt);if(K(wt,J))throw new Error(bt);r+=vt-1,tt.target="groupEnd"===wt||"setEnd"===wt?J.parent:J}else tt=new C(Z);break;case n.matchAny:tt=new E;break;case n.beginWith:case n.endWith:tt=new S(Z);break;case n.delimiter:throw new Error('unexpected pattern end delimiter:"/'+X+'"');default:tt=new C(Z)}if(tt){var xt=tt;if(b(xt),L){if(tt.codePoint<0){var Ot=i.splice(-4,4),kt=Ot[1],_t=Ot[3],Et=new C("-");F.pop(),[kt,Et,_t].map((function(t){return t.parent=F,b(t),t}))}else tt.parent=L;L=null}else F?xt.parent=F:W(xt)}et&&(tt&&(et.parent=tt),b(et))}}if(w.length){var Rt=function(t,e,n){for(var r=0,a=!1,i=t.length;r<i;r++)if(e===t[r]){a=!0;break}a&&t.splice.apply(t,o([r,1],n))},Nt=p.length;w.map((function(t){var e,n=t.input.slice(1),r=n.length,a=0;if("0"!==n.charAt(0)&&+n<=Nt)(e=new O(t.input)).ref=null,a=r;else if(/^([1-3][0-7]{0,2}|[4-7][0-7]?)/.test(n)){var o=RegExp.$1;e=new M("\\"+o),a+=o.length}else e=new $("\\"+n.charAt(0)),a+=1;e.linkParent=t.parent;for(var s=[e];a<r;){var c=new C(n.charAt(a++));c.linkParent=t.parent,s.push(c)}t.parent&&Rt(t.parent.queues,t,s),Rt(i,t,s)}))}i.length>1&&"group"===i[1].type&&!0===i[1].isRoot&&(i[1].isComplete=!0);var Pt=[],jt="";i.every((function(t){if(!t.isComplete)throw new Error("the regexp segment "+t.type+" is not completed:"+t.input);return null===t.parent&&(Pt.push(t),jt+=t.getRuleInput()),!0})),this.ruleInput=jt,this.rootQueues=Pt,this.queues=i},t.prototype.checkFlags=function(){var t,e=this.flags,n=e.length;if(0!==n){if(n>Object.keys(f).length)throw new Error("The rule may has repeated or unrecognized flags<got '"+e.join("")+"'>, please check.");for(var r=e[0],a=f[r],o=((t={})[r]=!0,t),i=1,s=e.length;i<s;i++){var c=e[i],u=f[c];if(0!=(a&u))throw new Error("wrong flag["+i+"]:"+c);a+=u,o[c]=!0}this.flagsHash=o,this.totalFlagBinary=a,(o.y||o.m||o.g)&&console.warn("the flags of 'g','m','y' will ignore,but you can set flags such as 'i','u','s'")}},t.prototype.hasFlag=function(t){var e=this.totalFlagBinary,n=f[t];return n&&0!=(n&e)},t.prototype.getFlagsHash=function(){return this.flagsHash},t.maxRepeat=5,t}();e.default=v;var w=function(){function t(t){void 0===t&&(t=""),this.input=t,this.queues=[],this.codePoint=-1,this.min=1,this.max=1,this.dataConf={},this.buildForTimes=!1,this.curParent=null,this.matchNothing=!1,this.completed=!0}return Object.defineProperty(t.prototype,"parser",{get:function(){return this.parserInstance},set:function(t){this.parserInstance=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.getCodePointCount()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.curParent},set:function(t){this.curParent=t,"special"!==this.type&&t.add(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkParent",{set:function(t){this.curParent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMatchNothing",{get:function(){return this.matchNothing},set:function(t){this.matchNothing=t,this.parent&&(this.parent.isMatchNothing=t)},enumerable:!1,configurable:!0}),t.prototype.setRange=function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},t.prototype.add=function(t){this.queues=this.queues.concat(t)},t.prototype.pop=function(){return this.queues.pop()},t.prototype.build=function(t){var e=this,n=this.min,r=this.max,a="";if(0===n&&0===r);else{var o=n+Math.floor(Math.random()*(r-n+1));if(0!==o){var s=function(){var n=e.prebuild(t);return t.flags&&t.flags.i&&(n=i()?i()?n.toLowerCase():n.toUpperCase():n),n};if(this.buildForTimes)for(;o--;)a+=s();else a=s().repeat(o)}}return this.dataConf=t,this.setDataConf(t,a),a},t.prototype.untilEnd=function(t){},t.prototype.setDataConf=function(t,e){},t.prototype.isAncestorOf=function(t){do{if(t===this)return!0}while(t=null==t?void 0:t.parent);return!1},t.prototype.getRuleInput=function(t){return this.queues.length?this.buildRuleInputFromQueues():this.input},t.prototype.buildRuleInputFromQueues=function(){return this.queues.reduce((function(t,e){return t+e.getRuleInput()}),"")},t.prototype.prebuild=function(t){return this.queues.length?this.queues.reduce((function(e,n){return e+n.build(t)}),""):""},t.prototype.getCodePointCount=function(){return 1},t}();e.RegexpPart=w;var b=function(t){function e(e){var n=t.call(this,e)||this;return n.min=0,n.max=0,n}return r(e,t),e}(w);e.RegexpEmpty=b;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.prebuild=function(){return this.input},e}(w);e.RegexpOrigin=x;var O=function(t){function e(e,n){void 0===n&&(n="");var r=t.call(this,e)||this;return r.name=n,r.type="reference",r.ref=null,r.index=Number(""+e.slice(1)),r}return r(e,t),e.prototype.prebuild=function(t){var e=this.ref;if(null===e)return"";var n=e.captureIndex,r=t.captureGroupData;return r.hasOwnProperty(n)?r[n]:""},e}(w);e.RegexpReference=O;var k=function(t){function e(e){var n=t.call(this)||this;return n.special=e,n.type="special",n}return r(e,t),e}(b);e.RegexpSpecial=k;var _=function(t){function e(e){var n=t.call(this)||this;return n.type="lookaround",n.looktype=e,n.isComplete=!1,n}return r(e,t),e.prototype.getRuleInput=function(){return"("+this.looktype+this.buildRuleInputFromQueues()+")"},e}(b);e.RegexpLookaround=_;var E=function(t){function e(){var e=t.call(this,".")||this;return e.type="any",e.buildForTimes=!0,e}return r(e,t),e.prototype.prebuild=function(t){return l.make(".",t.flags)},e}(w);e.RegexpAny=E;var R=function(t){function e(){var e=t.call(this,"\\0")||this;return e.type="null",e}return r(e,t),e.prototype.prebuild=function(){return"\0"},e}(w);e.RegexpNull=R;var N=function(t){function e(){var e=t.call(this,"[\\b]")||this;return e.type="backspace",e}return r(e,t),e.prototype.prebuild=function(){return"\b"},e}(w);e.RegexpBackspace=N;var P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="begin",e}return r(e,t),e}(b);e.RegexpBegin=P;var j=function(t){function e(e){var n=t.call(this,"\\c"+e)||this;return n.type="control",n.codePoint=parseInt(e.charCodeAt(0).toString(2).slice(-5),2),n}return r(e,t),e.prototype.prebuild=function(){return String.fromCharCode(this.codePoint)},e}(w);e.RegexpControl=j;var A=function(t){function e(e){var n=t.call(this,e)||this;return n.type="charset",n.charset=n.input.slice(-1),n.buildForTimes=!0,n}return r(e,t),e.prototype.prebuild=function(t){var e=this.charset;return"b"===e||"B"===e?(console.warn("please do not use \\b or \\B"),""):l.make(e,t.flags)},e.prototype.getCodePointCount=function(){var t=this.parser,e=this.charset,n=l.getCharsetInfo(e,t.getFlagsHash()).totals;return u(n)},e}(w);e.RegexpCharset=A;var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="print",e}return r(e,t),e.prototype.prebuild=function(){return new Function("","return '"+this.input+"'")()},e}(w);e.RegexpPrint=T;var S=function(t){function e(e){var n=t.call(this,e)||this;return n.type="anchor",n.anchor=e,console.warn('the anchor of "'+n.input+'" will ignore.'),n}return r(e,t),e}(b);e.RegexpAnchor=S;var C=function(t){function e(e){var n=t.call(this,e)||this;return n.type="char",n.codePoint=e.codePointAt(0),n}return r(e,t),e}(x);e.RegexpChar=C;var $=function(t){function e(e){var n=t.call(this,e)||this;return n.type="translate",n.codePoint=e.slice(-1).codePointAt(0),n}return r(e,t),e.prototype.prebuild=function(){return this.input.slice(-1)},e}(x);e.RegexpTranslateChar=$;var M=function(t){function e(e){var n=t.call(this,e)||this;return n.type="octal",n.codePoint=Number("0o"+e.slice(1)),n}return r(e,t),e.prototype.prebuild=function(){return String.fromCodePoint(this.codePoint)},e}(w);e.RegexpOctal=M;var I=function(t){function e(e){var n=t.call(this,e)||this;return n.type="refornumber",n}return r(e,t),e.prototype.prebuild=function(){throw new Error('the "'+this.input+'" must parse again,either reference or number')},e}(w);e.RegexpRefOrNumber=I;var F=function(t){function e(){var e=t.call(this)||this;return e.type="times",e.maxNum=v.maxRepeat,e.greedy=!0,e.minRepeat=0,e.maxRepeat=0,e.isComplete=!1,e}return r(e,t),Object.defineProperty(e.prototype,"target",{set:function(t){t.setRange({min:this.minRepeat,max:this.maxRepeat})},enumerable:!1,configurable:!0}),e.prototype.untilEnd=function(t){if(this.rule.test(t)){var e=RegExp.$1;return this.isComplete=!0,this.input=e,this.parse(),e.length}return 0},e}(w);e.RegexpTimes=F;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^(\{(\d+)(,|,(\d*))?}(\??))/,e}return r(e,t),e.prototype.parse=function(){var t=RegExp.$2,e=RegExp.$3,n=RegExp.$4,r=RegExp.$5;if(this.greedy="?"!==r,this.minRepeat=parseInt(t,10),this.maxRepeat=Number(n)?parseInt(n,10):e?this.minRepeat+2*this.maxNum:this.minRepeat,this.maxRepeat<this.minRepeat)throw new Error("wrong quantifier: {"+this.minRepeat+", "+this.maxRepeat+"}")},e}(F);e.RegexpTimesMulti=D;var V=function(t){function e(e){void 0===e&&(e=v.maxRepeat);var n=t.call(this)||this;return n.maxNum=e,n.rule=/^(\*\?|\+\?|\?\?|\*|\+|\?)/,n}return r(e,t),e.prototype.parse=function(){var t=RegExp.$1;switch(this.greedy=1===t.length,t.charAt(0)){case"*":this.maxRepeat=this.maxNum;break;case"+":this.minRepeat=1,this.maxRepeat=this.maxNum;break;case"?":this.maxRepeat=1}},e}(F);e.RegexpTimesQuantifiers=V;var z=function(t){function e(){var e=t.call(this)||this;return e.type="set",e.reverse=!1,e.isMatchAnything=!1,e.codePointResult=null,e.isComplete=!1,e.buildForTimes=!0,e}return r(e,t),Object.defineProperty(e.prototype,"parser",{get:function(){return this.parserInstance},set:function(t){this.parserInstance=t,this.makeCodePointResult()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){(this.completed=t,!0===t)&&(0===this.queues.length?this.reverse?this.isMatchAnything=!0:this.isMatchNothing=!0:this.makeCodePointResult())},enumerable:!1,configurable:!0}),e.prototype.getRuleInput=function(){return"["+(this.reverse?"^":"")+this.buildRuleInputFromQueues()+"]"},e.prototype.prebuild=function(t){if(this.isMatchAnything)return(new E).build(t);var e,n=this.queues;if(this.reverse)return l.makeOne(this.codePointResult);if(t.extractSetAverage){var r=0,a=n.map((function(t){return r+=t.count}));e=c(a).index}else e=s(0,n.length-1);return this.queues[e].build(t)},e.prototype.makeCodePointResult=function(){if(this.reverse&&this.parser&&this.isComplete&&!this.codePointResult){var t=this.queues,e=this.parser.getFlagsHash();if(1===t.length&&"charset"===t[0].type&&["w","s","d"].includes(t[0].charset.toLowerCase())){var n=32^t[0].charset.charCodeAt(0),r=String.fromCharCode(n);this.codePointResult=l.getCharsetInfo(r,e)}else{var a=t.reduce((function(t,n){var r,a=n.type;if("charset"===a){var o=n.charset;"b"===o||"B"===o?(console.warn("the charset \\b or \\B will ignore"),r=[]):r=l.getCharsetInfo(o,e).ranges.slice(0)}else r="range"===a?[n.queues.map((function(t){return t.codePoint}))]:[[n.codePoint]];return t.concat(r)}),[]);a.push([55296,57343],e.u?[1114112]:[65536]),a.sort((function(t,e){return e[0]>t[0]?-1:e[0]===t[0]?e[1]>t[1]?1:-1:1}));for(var o=[],i=0,s=0,c=a.length;s<c;s++){var u=a[s],p=u[0],h=u[1]||p;i<p&&o.push(i+1===p?[i]:[i,p-1]),i=Math.max(h+1,i)}if(0===o.length)this.isMatchNothing=!0;else{var f=0,d=o.map((function(t){return 1===t.length?f+=1:f+=t[1]-t[0]+1,f}));this.codePointResult={totals:d,ranges:o}}}}},e}(w);e.RegexpSet=z;var q=function(t){function e(){var e=t.call(this)||this;return e.type="range",e.isComplete=!1,e}return r(e,t),e.prototype.add=function(e){if(t.prototype.add.call(this,e),2===this.queues.length){this.isComplete=!0;var n=this.queues,r=n[0],a=n[1];if(r.codePoint>a.codePoint)throw new Error("invalid range:"+r.getRuleInput()+"-"+a.getRuleInput())}},e.prototype.getRuleInput=function(){var t=this.queues,e=t[0],n=t[1];return e.getRuleInput()+"-"+n.getRuleInput()},e.prototype.prebuild=function(){var t=this.queues,e=t[0],n=t[1],r=e.codePoint,a=n.codePoint;return String.fromCodePoint(s(r,a))},e.prototype.getCodePointCount=function(){var t=this.queues,e=t[0],n=t[1],r=e.codePoint;return n.codePoint-r+1},e}(w);e.RegexpRange=q;var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hexcode",e}return r(e,t),e.prototype.untilEnd=function(t){var e=this.rule,n=this.codeType;if(e.test(t)){var r=RegExp.$1,a=RegExp.$2||r;if(this.codePoint=Number("0x"+a),this.codePoint>1114111)throw new Error("invalid unicode code point:\\u{"+a+"},can not great than 0x10ffff");return this.input="\\"+n+r,r.length}return 0},e}(x);e.RegexpHexCode=L;var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{4})/,e.codeType="u",e}return r(e,t),e}(L);e.RegexpUnicode=B;var H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^({(0*[0-9A-Fa-f]{1,6})}|[0-9A-Fa-f]{4})/,e.codeType="u",e}return r(e,t),e}(L);e.RegexpUnicodeAll=H;var G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rule=/^([0-9A-Fa-f]{2})/,e.codeType="x",e}return r(e,t),e}(L);e.RegexpASCII=G;var W=function(t){function e(e){var n=t.call(this)||this;return n.index=e,n.type="group-item",n}return r(e,t),e.prototype.getRuleInput=function(t){var e=this;return void 0===t&&(t=!1),this.queues.reduce((function(n,r){return n+(t&&"reference"===r.type&&null!==r.ref?r.ref.getRuleInput(t):e.isEndLimitChar(r)?"":r.getRuleInput(t))}),"")},e.prototype.prebuild=function(t){var e=this;return this.queues.reduce((function(n,r){var a;return e.isEndLimitChar(r)?(console.warn("the ^ and $ of the regexp will ignore"),a=""):a=r.build(t),n+a}),"")},e.prototype.isEndLimitChar=function(t){return"anchor"===t.type},e}(w);e.RegexpGroupItem=W;var U=function(t){function e(){var e=t.call(this)||this;return e.type="group",e.captureIndex=0,e.captureName="",e.queues=[],e.isRoot=!1,e.curGroupItem=null,e.curRule=null,e.isComplete=!1,e.buildForTimes=!0,e.addNewGroup(),e}return r(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.completed},set:function(t){this.completed=t,!0===t&&(this.isMatchNothing=this.queues.every((function(t){return t.isMatchNothing})))},enumerable:!1,configurable:!0}),e.prototype.addNewGroup=function(){var t=this.queues,e=new W(t.length);return this.curGroupItem=e,e.parent=this,e},e.prototype.addRootItem=function(t){var e=this;t.map((function(t){null===t.parent&&(t.parent=e.curGroupItem)})),this.addNewGroup()},e.prototype.addItem=function(t){t.parent=this.curGroupItem},e.prototype.getRuleInput=function(t){void 0===t&&(t=!1);var e=this,n=e.queues,r=e.captureIndex,a=e.isRoot,o="";return 0!==r||a||(o="?:"+o),o+=n.map((function(e){return e.getRuleInput(t)})).join("|"),a?o:"("+o+")"},e.prototype.buildRule=function(t){if(this.curRule)return this.curRule;var e=this.getRuleInput(!0),n=Object.keys(t).join("");return this.curRule=new Function("","return /^"+e+"$/"+n)()},e.prototype.prebuild=function(t){var e,n=this,r=n.queues,a=n.captureIndex,o=n.captureName,i="",c=t.flags,u=t.namedGroupConf,p=r.length,l=[],h=[],f=[],d=[];if(o&&o.includes("_")&&u){var g=o.split("_");if(g.length===p){var m=!1;if("object"==typeof u[o]){var y=u[o];g.forEach((function(t,e){if("boolean"==typeof y[t]&&!1===y[t]);else{m=!0;var n=r[e];Array.isArray(y[t])?(h.push(n),f.push(y[t])):l.push(n)}}))}if(!m)throw new Error("the specified named group '"+o+"' are all filtered by the config.");var v=h.length;v&&(x=s(0,v+l.length-1))<v&&(e=h[x],d=f[x])}}if(o&&u&&u[o]&&(Array.isArray(u[o])||e)){var w=void 0,b=void 0;if(e?(w=d,b=this.buildRule.call(e,c)):(w=u[o],b=this.buildRule(c)),i=w[x=s(0,w.length-1)],!b.test(i))throw new Error("the namedGroupConf of "+o+"'s value \""+i+'" is not match the rule '+b.toString())}else{var x,O=l.length?l:r;i=O[x=s(0,O.length-1)].build(t)}return o&&(t.namedGroupData[o]=i),a&&(t.captureGroupData[a]=i),i},e}(w);e.RegexpGroup=U},275:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s={handle:{type:Function},data:{type:Object}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$path",(function(t){if(t&&1!==t.length)throw new Error("the cascader type must have an only path or ref.")}))},e.prototype.generate=function(t){var e=t.mocker,n=(0,o.makeCascaderData)(this.params,e),r=n.handle,a=n.values;return r(n.$config.data,a)},e.prototype.test=function(){return!0},e.constrName="ToCascader",e.configOptions=s,e.selfConfigOptions=s,e.allowAttrs=[],e.validator=function(t){var e=t.$config,n=t.$path;if(e.data){if(n)throw new Error("the data type 'cascader' doesn't need a path when it's a root node")}else{var r=n.length;if(0===r)throw new Error("the data type 'cascader' need a reference path to the root node");if(r>1)throw new Error("the data type 'cascader' should only use one reference")}},e}(i.default);e.default=c},489:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s={data:{type:Array}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$config",(function(t){if(!t||!t.data)throw new Error("the data type 'dict' must supply a 'data' field of 'data attribute' configuration, no configuration was set");if(!(0,o.isArray)(t.data))throw new Error("the data type 'dict' has a none array 'data' field in configuration 'data attribute'")}))},e.prototype.generate=function(){var t=[],e=this.params.$config.data;return t.push(e),(0,o.makeDictData)(this.params)(t)},e.prototype.test=function(){return!0},e.constrName="ToDict",e.configOptions=s,e.selfConfigOptions=s,e.allowAttrs=[],e}(i.default);e.default=c},907:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExtendMockit=void 0;var i,s,c=n(789),u=n(243),p=n(899),l=u.default.fns,h=u.default.vars,f=function(t,e){var n=!t,r=!e;if(n&&r)return{nsFns:l,nsVars:h};if(r){var a=(0,u.getNsStore)(t),i=a.fns,s=a.vars;return{nsFns:o(o({},l),i),nsVars:o(o({},h),s)}}var c=(0,u.getNsStore)(e).exports,p=c.fns,f=c.vars;if(n)return{nsFns:o(o({},p),l),nsVars:o(o({},f),h)};var d=(0,u.getNsStore)(t);return{nsFns:o(o(o({},l),p),d.fns),nsVars:o(o(o({},h),f),d.vars)}},d=function(t){if(!t)return u.default.mockitsCache;var e=(0,u.getNsStore)(t);return e&&e.mockitsCache},g=(i="__pre_process_fn__",s={$func:function(t){if(t)for(var e=t.options,n=f.apply(void 0,this.getCurrentNs()).nsVars,r=function(t,r){var a=e[t],o=a.name;a.params.map((function(t){if(t.variable)try{if("string"==typeof t.value)if(t.value.includes(".")||t.value.includes("["))new Function("__CONFIG__","return __CONFIG__."+t.value)(n);else if(!(0,c.hasOwn)(n,t.value))throw new Error('"'.concat(t.value,' is not assigned."'))}catch(e){throw new Error("the modifier function ".concat(o,"'s param ").concat(t.value," is not correct:").concat(e.message))}}))},a=0,o=e.length;a<o;a++)r(a)},$config:function(t){var e=this;void 0===t&&(t={});var n={},r=f.apply(void 0,this.getCurrentNs()),a=r.nsVars,i=r.nsFns;for(var s in t)if((0,c.hasOwn)(t,s)){var u=t[s];if(u instanceof p.VariableExpression){var l=u.expression,h=new Function("__CONTEXT__","with(__CONTEXT__){ return "+l+"}");n[s]=h(o(o({},i),a))}else n[s]=u}var d=this.constructor.configOptions;return Object.keys(d).map((function(t){var r,a,o=d[t],i=[],s=function(t){var e=(0,c.typeOf)(t),n=(0,c.isArray)(a)?a:[a],r=!1;return n.map((function(t){var n=t.name;i.push(n),r||(r=e===n)})),r},u=(0,c.hasOwn)(n,t);if((0,c.isObject)(o)&&(r=(0,c.isFn)(o.default)?o.default():o.default,a=o.type,s=(0,c.isFn)(o.validator)?o.validator:s),u){if(!s.call(e,n[t]))throw new Error('the config of "'.concat(t,"\"'s value ").concat(n[t]," is not instance of ").concat(i.join(",")))}else void 0!==r&&(n[t]=r)})),n}},{PRE_PROCESS:s,isPreProcessFn:function(t){return(0,c.hasOwn)(t,i)},setPreProcessFn:function(t){return t.__pre_process_fn__=!0,t}}),m=g.PRE_PROCESS,y=g.isPreProcessFn,v=g.setPreProcessFn,w=function(){function t(t,e){var n=this;this.callerNamespace=t,this.path=e,this.params={},this.initParams={},this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[];var r=this.getStaticProps(),a=r.namespace,o=r.constrName,i=r.configOptions,s=d(a);if(s[o]){var u=s[o].define;(0,c.isObject)(u)&&Object.keys(u).map((function(t){var e=u[t],r=n;"Object"===(0,c.typeOf)(e)?r[t]=(0,c.deepCopy)({},e):r[t]=e}))}else s[o]={rules:[],ruleFns:{},modifiers:[],modifierFns:{},mutates:[]},this.init(),this.addRule("$func",v(m.$func.bind(this))),(0,c.isNoEmptyObject)(i)&&this.addRule("$config",v(m.$config.bind(this))),this.frozen()}return t.prototype.addModifier=function(t,e){return this.add("modifier",t,e)},t.prototype.addRule=function(t,e,n){return this.add("rule",t,e,n)},t.prototype.setParams=function(t,e,n){var r,a,o=!1;return"object"==typeof t?!0===e?(a=t,o=!0):void 0===e&&(a=t):"string"==typeof t&&((r={})[t]=e,a=r,o=n),this.resetValidInfo(),o&&(0,c.deepCopy)(this.initParams,a),(0,c.deepCopy)(this.params,a),this.validate(),this.initParams},t.prototype.getCurrentParams=function(t){var e=this;if(t.param){var n=this.getStaticProps(),r=n.namespace,a=n.constrName,i=d(r)[a],s=i.ruleFns,u=i.mutates,l=o({},this.params);return Object.keys(t.param).map((function(n){if((0,c.hasOwn)(e.params,n)&&p.allowdOverrideParams.includes(n)){var r=t.param[n],a=e.params[n];l[n]=Object.assign({},a,u.includes(n)?s[n](r):r)}else console.warn("You set a '".concat(n,"' param in instanceOptions's params not allowed."))})),l}return this.params},t.prototype.setAllowAttrs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.constructor.allowAttrs;t.forEach((function(t){n.includes(t)||n.push(t)}))},t.prototype.frozen=function(){var t=this,e=t.params,n=t.initParams,r=t.generate,a=this.getStaticProps(),o=a.namespace,i=a.constrName;return d(o)[i].define=(0,c.deepCopy)({},{params:e,initParams:n,generate:r}),this},t.prototype.reGenerate=function(t){this.generate=t},t.prototype.make=function(t,e){this.validate();var n=this.generate(t,e);return this.runAll(n,t)},t.prototype.add=function(t,e,n,r){var a,o,i=this.getStaticProps(),s=i.namespace,u=i.constrName,p=d(s)[u],l=p.rules,h=p.ruleFns,f=p.modifiers,g=p.modifierFns,v=p.mutates,w="rule"===t;if(w?(a=l,o=h):(a=f,o=g),a.includes(e)){if(!(0,c.hasOwn)(m,e))throw new Error("".concat(t," of ").concat(e," already exists"));if(y(n))return}w&&(this.setAllowAttrs(e),r&&v.push(e)),a.push(e),o[e]=n},t.prototype.getStaticProps=function(){var t=this.constructor;return{constrName:t.constrName,namespace:t.namespace,validator:t.validator,allowAttrs:t.allowAttrs,configOptions:t.configOptions,selfConfigOptions:t.selfConfigOptions,specialType:t.specialType,baseType:t.baseType}},t.prototype.getCurrentNs=function(){return[this.callerNamespace,this.getStaticProps().namespace]},t.prototype.validParams=function(){var t=this,e=this.params,n=this.getStaticProps(),r=n.namespace,a=n.constrName,o=n.validator,i=d(r)[a],s=i.rules,u=i.ruleFns,p=Object.keys(e),l=function(t,n,r){var a=r||"__TRANSFORMED__";if(!(0,c.isObject)(e[t])||!(0,c.hasOwn)(e[t],a)){var o=n.call(this,e[t]);(0,c.isObject)(o)&&(o[a]=!0,e[t]=o)}};return s.map((function(e){try{(0,c.hasOwn)(m,e)&&l(e,m[e].bind(t),"__".concat(e,"__")),l(e,u[e].bind(t));var n=p.indexOf(e);n>-1&&p.splice(n,1)}catch(n){t.invalidKeys.push("[(".concat(e,")").concat(n.message,"]"))}})),(0,c.isFn)(o)&&o(this.params),0===this.invalidKeys.length},t.prototype.validate=function(){var t=this.invalidKeys;if(this.hasValid||(this.isValidOk=this.validParams(),this.hasValid=!0),!this.isValidOk)throw new Error("invalid params:".concat(t.join(",")))},t.prototype.resetValidInfo=function(){this.isValidOk=!1,this.hasValid=!1,this.invalidKeys=[]},t.prototype.runModifiers=function(t,e){for(var n=this.params,r=this.getStaticProps(),a=r.namespace,o=r.constrName,i=d(a)[o],s=i.modifiers,u=i.modifierFns,p=0,l=s.length;p<l;p++){var h=s[p];if((0,c.hasOwn)(n,h)){var f=u[h],g=[t,n[h],e];t=f.apply(this,g)}}return t},t.prototype.runFuncs=function(t,e){var n=this.params,r=n.$config,a=n.$func,o=f.apply(void 0,this.getCurrentNs()),i=o.nsFns,s=o.nsVars;if(a)for(var u=a,p=u.queue,l=u.params,h=u.fns,d=0,g=p.length;d<g;d++){var m=p[d],y=h[d],v=(0,c.hasOwn)(i,m),w=(v?[i[m]]:[]).concat([l[d],s,t,Object.assign({},s,i,r||{}),c.getExpValue]);t=y(v).apply(e,w)}return t},t.prototype.runAll=function(t,e){return t=this.runModifiers(t,e),this.runFuncs(t,e)},t.chainNames=[],t.allowAttrs=[],t.configOptions={},t.selfConfigOptions={},t}();e.default=w;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){},e.prototype.test=function(){return!1},e.prototype.generate=function(){},e}(w);e.BaseExtendMockit=b},7:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Dispatcher=e.AParser=void 0;var i=n(899),s=n(789),c=function(){function t(){this.patterns=[],this.code="",this.setting={frozen:!0},this.init()}return t.prototype.init=function(){return this},t.prototype.info=function(){var t=this;return{tags:t.tags,params:t.params,code:t.code,patterns:t.patterns}},t.prototype.parseCode=function(t,e){this.code=t,this.tags=e;var n=e.start,r=e.end,a=this.constructor,o=a.separator,i=a.pattern;if(o||r){var s=[],c=[n.length].concat(r?-r.length:[]),u=t.slice.apply(t,c);if(i)for(var p=null,l=u,h=0,f=u.length;h<f&&null!==(p=l.match(i));){var d=p[0].length;h+=d;var g=u.charAt(h);if(0===d)throw new Error('the pattern rule "'.concat(i.toString(),'" match nothing to the string:').concat(l));if(h<f&&g!==o)throw new Error('unexpected separator character "'.concat(g,'" in "').concat(l.slice(h),'",expect to be "').concat(o,'"'));h+=1,l=l.slice(d+1),s.push(p[0]),i.lastIndex=0,this.patterns.push(p)}else{for(var m="",y=0,v=u.length;y<v;y++){var w=u.charAt(y);"\\"===w?m+="\\"+u.charAt(++y):w===o?(s.push(m),m=""):m+=w}(s.length||m)&&s.push(m)}this.params=s}else this.params=[t]},t.prototype.halt=function(t){throw new Error(t)},t}();e.AParser=c;var u=function(){function t(){this.parsers={},this.tagPairs=[],this.pairHash={},this.splitor=i.splitor,this.instances={}}return t.prototype.addParser=function(t,e,n,r){var o,u=e.startTag,p=e.endTag,l=e.separator,h=e.pattern,f=this.splitor;if(l===f)return this.halt('the parser of "'.concat(t,"\" can not set '").concat(f,"' as separator."));if((0,s.hasOwn)(this.parsers,t))return this.halt('the parser of "'.concat(t,'" has existed.'));if(0===u.length)return this.halt('the parser of "'.concat(t,"\"'s startTag can not be empty. "));if(/(\\|:|\s)/.test(u.concat(p).join(""))){var d=RegExp.$1;return this.halt('the parser of "'.concat(t,'" contains special char (').concat(d,")"))}var g=e.rule,m=[],y=0===p.length&&g instanceof RegExp;if(!y){var v=function(t,e){return e.length>t.length?1:-1};u.sort(v),p.sort(v)}var w=[],b=[];u.map((function(t){y||w.push((0,i.encodeRegexpChars)(t)),p.length?p.map((function(e){m.push(t+f+e),y||b.push((0,i.encodeRegexpChars)(e))})):m.push(t)}));for(var x=0,O=m.length;x<O;x++){var k=m[x];if(this.tagPairs.indexOf(k)>-1){var _=k.split(f);return this.halt('the parser of "'.concat(t,'"\'s start tag "').concat(_[0],'" and end tag "').concat(_[1],'" has existed.'))}this.pairHash[k]=t}if(!y){var E=p.length,R="(?=".concat(i.encodeSplitor,"|$)"),N="(?:".concat(w.join("|"),")");if(E){var P=b.join("|");g=new RegExp("^".concat(N,"(?:\\\\.|[^\\\\](?!").concat(P,")|[^\\\\])+?(?:").concat(P).concat(R,")"))}else g=new RegExp("^".concat(N,"(?:\\\\.|[^\\\\").concat(f,"])+?").concat(R))}this.tagPairs=this.tagPairs.concat(m).sort((function(t,e){return t.length-e.length})),this.parsers[t]=((o=function(t){function e(){var e=t.call(this)||this;return r&&(e.setting=Object.assign(e.setting,r)),e}return a(e,t),e.prototype.parse=function(){return n.call(this)},e}(c)).startTag=u,o.endTag=p,o.separator=l||"",o.splitor=f,o.rule=g,o.pattern=h||null,o)},t.prototype.makeWrapperData=function(t,e){var n=function(t){this.errorIndex=t};return Object.assign(n.prototype,t),new n(e)},t.prototype.parse=function(t,e){void 0===e&&(e={});for(var n=t.length,r=this.splitor,a=e.mockit,i=e.greedy,c=0,u=t,p={},l={};c<n;){var h=void 0;if(i)try{h=this.parseUntilFind(u)}catch(t){return this.makeWrapperData(l,c)}else h=this.parseUntilFind(u);var f=h.data,d=h.total;if((c+=d)<n&&r!==t.charAt(c))throw new Error('unexpect splitor of "'.concat(t.slice(c),'",expect to be started with splitor "').concat(r,'"'));u=u.slice(d+1),c+=1;var g=f.instance,m=f.type;if(p[m]&&g.setting.frozen)throw new Error('the config of "'.concat(m,'" (').concat(g.code,") can not be set again."));if(a){var y=a.getStaticProps(),v=y.constrName,w=y.allowAttrs;if(!y.baseType&&!w.includes(m)){if("$config"===m)throw new Error('the data type "'.concat(v,"\" are not allowed to use configuration when parsing '").concat(t,"', please check if you have forget to set the type's field \"configOptions\""));throw new Error('the data type "'.concat(v,"\" are not allowed to use '").concat(m,"' data attribute when parsing '").concat(t,"'"))}}var b=g.parse();(0,s.isArray)(b)?l[m]=b:"object"==typeof b&&(l[m]=o(o({},l[m]||{}),b)),p[m]=!0}return l},t.prototype.getInstance=function(t){return new this.parsers[t]},t.prototype.parseUntilFind=function(t){if(""===t)throw new Error("the context is empty");var e,n=this,r=n.tagPairs,a=n.pairHash,o=n.splitor,i=n.parsers,s=[],c='can not parse context "'.concat(t,'",no parser matched.'),u=[],p=0,l="",h=function(){var e=t.charAt(p++),n=(l+=e).length,a=!1;if(u=r.filter((function(t){var e=0===t.indexOf(l);return!e||t!==l&&t.charAt(n)!==o||(a=!0,s.push(t)),e})),1===u.length){if(!a){var i=u[0],c=i.indexOf(o),h=c>0?i.slice(0,c):i;0===t.indexOf(h)&&s.push(i)}return"break"}};do{if("break"===h())break}while(u.length);var f=s.length;if(f){for(var d={},g=[];f--;){var m=s[f],y=a[m];if(!d[y]){var v=null,w=i[y],b=w.rule,x=w.separator;if(g.push(y),v=t.match(b)){if(x&&v[0].slice(-1)===x)throw new Error('no need separator "'.concat(x,'" in type "').concat(y,'" of code "').concat(t,'"'));var O=this.getInstance(y),k=m.split(o),_=k[0],E=k[1],R=v[0];try{O.parseCode(R,{start:_,end:E||""}),e={data:{type:y,instance:O},total:R.length};break}catch(t){d[y]=!0}}}}if(e)return e;throw new Error("".concat(c,"[tried types:").concat(g.join(","),"]"))}throw new Error(c)},t.prototype.halt=function(t){throw new Error(t)},t}();e.Dispatcher=u},666:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.createNsSuch=e.Such=e.Template=e.Mocker=void 0;var s=n(899),c=n(12),u=n(789),p=n(907),l=n(735),h=n(420),f=n(243),d=n(906),g=u.isFn,m=u.isOptional,y=u.isObject,v=u.isArray,w=u.isNoEmptyObject,b=u.makeRandom,x=u.typeOf,O=u.deepCopy,k=u.path2str,_=u.capitalize,E=u.hasOwn,R=function(t,e,n,r){var a=k(n),o=null==t?void 0:t.keys,i=!1,s=!0,c=o&&o[a]||{};if(e){var u=e.getDynamicConfig(a);u&&(c=Object.assign(u.key||{},c))}if(w(c))if("boolean"==typeof c.exist)s=!1,i=!c.exist;else if(!E(r,"min")){var p=E(c,"min"),l=E(c,"max");if(p||l){var h=p?c.min:0,f=l?c.max:1;h===f&&(s=!1,i=0===f)}}return s&&(i=m()),i},N=function(t,e,n,r){var a=r.min,o=r.max,i=k(n),s=null==t?void 0:t.keys,c=s&&s[i]||{};if(e){var u=e.getDynamicConfig(i);u&&(c=Object.assign(u.key||{},c))}return w(c)&&(E(c,"min")&&(a=c.min),E(c,"max")&&(o=c.max)),{min:a,max:o}},P=function(t){console.warn(t)},j=function(t,e){P("You can't call the \"".concat(t,"('").concat(e,"')\" method for the root such instance, the root such's data is global exported by default."))},A=function(){function t(e,n){var r=this;this.options=e,this.owner=n,this.storeData={},this.count=1,this.index=-1,this.config={};var a=e.target,o=e.path,i=e.config,c=e.parent;if(this.target=a,this.path=o,this.config=i||{},this.isRoot=0===o.length,n){var u=n.such,p=n.namespace,l=n.instances,g=n.datas,m=n.depender;this.such=u,this.namespace=p,this.instances=l,this.datas=g,this.depender=m}this.isRoot?(this.root=this,this.parent=this):(this.parent=c,this.root=c.root);var y=x(a).toLowerCase();this.dataType=y;var w=this.config,O=w.oneOf,_=w.alwaysArray,P=this.root,j=P.instances,A=P.datas,T=P.depender,S=!isNaN(this.config.min);if(O&&!v(a))throw new Error("The field key of '".concat(k(o),"' use a colon ':' to set a 'oneOf' config, but the value of the field is not an array."));if(v(a)){var C=a.length-1,$=function(e){e="number"==typeof e?e:function(){var t,e;if((e=null===(t=r.root.instanceOptions)||void 0===t?void 0:t.keys)||T){var n=k(o),a=e&&e[n]?e[n]:function(){var t=T.getDynamicConfig(n);if(t&&t.key)return t.key}();if(a&&"number"==typeof a.index){if(a.index>C)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a 'index' ").concat(a.index," bigger than the max index ").concat(C,"."));return r.index=a.index}}return r.index=b(0,C)}();var n=o.concat(e),i=j.get(n);return i instanceof t||(i=new t({target:a[e],path:n,parent:r}),j.set(n,i)),i};if(S){var M,I=function(e,n,a){var o=[],i=n instanceof t?function(t){return n}:function(t){return n[t]};a="number"==typeof a?a:function(){var t=N(r.root.instanceOptions,T,r.path,r.config),e=t.min,n=t.max;return b(e,n)}(),r.count=a;for(var s=0;s<a;s++){var c=i(s),u=e.concat(s),p=c.mock(u);o[s]=p,A.set(u,p)}return o},F=function(t,e,n){var r;if(n>1)throw new Error("optional func of the total param can not more than 1");return 1===n&&(r=e.mock(t)),A.set(t,r),r};if(O)M=_?I:function(t,e){var n=N(r.root.instanceOptions,T,r.path,r.config),a=n.min,o=n.max,i=b(a,o);return r.count=i,i<=1?F(t,e,i):I(t,e,i)},this.mockFn=function(t){var e=$();return M(t,e)};else{var D=function(t,e){e=isNaN(e)?function(){var t=N(r.root.instanceOptions,T,r.path,r.config),e=t.min,n=t.max;return b(e,n)}():Number(e),r.count=e;var n=Array.from({length:e}).map((function(){return $()}));return I(t,n,e)},V=this.config.min;this.mockFn=_||V>1?function(t){return D(t)}:function(t){var e=N(r.root.instanceOptions,T,r.path,r.config),n=e.min,a=e.max,o=b(n,a);return o<=1?F(t,$(),o):D(t,o)}}}else{var z=a.map((function(t,e){return $(e)}));this.mockFn=function(t){var e=[];return z.map((function(n,r){var a=t.concat(r),o=n.mock(a);e[r]=o,A.set(a,o)})),e}}}else{if("object"===y){var q=a,L=Object.keys(q).map((function(e){var n=q[e],r=t.parseKey(e);return{key:r.key,target:n,config:r.config}}));this.mockFn=function(e){var n={},a=r.path;return L.map((function(o){var i=o.key,s=o.config,c=o.target,u=s.optional,p=a.concat(i),l=e.concat(i);if(u&&R(r.root.instanceOptions,T,p,s))return;var h=j.get(p);h instanceof t||(h=new t({target:c,config:s,path:p,parent:r}),j.set(p,h));var f=h.mock(l);n[i]=f,A.set(l,f)})),n}}else{var B=!1;if("string"==typeof a){var H=a.match(s.suchRule);if(H){var G=H[1]&&H[1].replace(/\/$/,""),W=(0,f.getNsMockit)(H[2],this.root.namespace,G),U=W.realType,K=W.klass;if(K){this.type=U;var Z=new K(this.root.namespace),Q=Z.getStaticProps().specialType;this.isEnum=Q===d.SpecialType.Enum;var X=a.replace(H[0],"");if(""!==X){X.startsWith(s.splitor)&&(X=X.slice(s.splitor.length));var Y=h.default.parse(X,{mockit:Z});Z.setParams(Y)}var J=k(o);this.mockit=Z,this.mockFn=function(t){var e=r.root,n=e.instanceOptions,a={datas:A,dpath:t,mocker:r};if(T){var o=T.getDynamicConfig(J);o&&Object.assign(a,o)}if(n){if(n.keys){var i=n.keys[J];i&&E(i,"index")&&(a.key={index:i.index})}if(n.params){var s=n.params[J];s&&(a.param=s)}}return Z.make(a,e.such)},B=!0}}else if(a.startsWith(s.templateSplitor)){var tt=a.slice(s.templateSplitor.length);if(""===tt)throw new Error("The path ".concat(o.length?"("+o.join("/")+")":"of root",' use an empty template literal "').concat(s.templateSplitor,'"'));var et=this.root.such.template(tt,o,this.root.namespace);this.mockit=et.mockit,this.mockFn=function(t){return et.a({datas:A,dpath:t,mocker:r})},this.template=et,B=!0}else{var nt="\\"+s.splitor;if(a.startsWith(nt)){var rt=a.slice(1);this.mockFn=function(t){return rt},B=!0}}}B||(this.mockFn=function(t){return a})}if(S){var at=this.mockFn;this.mockFn=function(t){var e=N(r.root.instanceOptions,T,r.path,r.config),n=e.min,a=e.max,o=b(n,a);if(r.count=o,!_&&o<=1)return at(t);for(var i=[],s=0;s<o;s++){var c=t.concat(s);i.push(at(c))}return i}}}}return t.parseKey=function(t){var e,n={};if((e=t.match(/(:?)(?:\{(\+?[01]|[1-9]\d*)(?:,([1-9]\d*))?})?(\??)$/)).length&&""!==e[0]){var r=e[0],a=e[1],o=e[2],i=e[3],s=e[4];if(n.optional="?"===s,n.oneOf=":"===a,void 0!==o){if(n.alwaysArray=o.startsWith("+"),void 0===i)i=o;else if(Number(i)<Number(o))throw new Error("the max of ".concat(i," is less than ").concat(o));n.min=Number(o),n.max=Number(i)}else n.oneOf&&(n.min=n.max=1);t=t.slice(0,-r.length)}return{key:t,config:n}},t.prototype.setParams=function(t){if(this.mockit){var e=this.mockit;return e.setParams("string"==typeof t?h.default.parse(t,{mockit:e}):t)}throw new Error("This mocker is not the mockit type.")},t.prototype.mock=function(t){if(this.isRoot&&(this.config.optional&&R(this.instanceOptions,this.depender,[],this.config)))return;var e=this.result=this.result=this.mockFn(t);if(this.root.depender){var n=this.count,r=this.index;this.root.depender.triggerDependValued(k(this.path),{value:e,count:n,index:r})}return e},t.prototype.store=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;if(r>1)throw new Error("wrong arguments length called the mocker's method 'store', expect at most 2 but got ".concat(r+1));if(1!==r)return this.storeData[t];var a=e[0];this.storeData[t]=a},t.prototype.hasStore=function(t){return E(this.storeData,t)},t.prototype.setInstanceOptions=function(t){this.instanceOptions=t},t}();e.Mocker=A;var T=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=[]),this.context=t,this.such=e,this.path=n,this.segments=[],this.indexData={},this.indexHash={},this.namedData={},this.index=0,this.typeContexts={},this.meta="",this.params={},this.isValued=!1}return t.prototype.addString=function(t){this.segments.push(t)},t.prototype.addInstance=function(t,e,n){void 0===n&&(n=""),this.segments.push(t),this.typeContexts[this.index]=e,n&&(this.indexHash[this.index]=n),this.index++},t.prototype.getRefValue=function(t){return isNaN(t)?this.namedData[t]:this.indexData[Number(t)]},t.prototype.end=function(t){void 0===t&&(t=""),t=t.trim();var e=new(0,f.default.mockits[s.tmplMockitName])(this.such.namespace);if(e.setTemplate(this),""!==t){this.meta=t;var n=h.default.parse(t,{mockit:e});this.params=n,e.setParams(n)}this.mockit=e},t.prototype.a=function(t){if(void 0===t&&(t={datas:null,dpath:[],mocker:null,key:null,param:null}),!this.mockit)throw new Error("the template's mockit object is not initialized yet!");return this.mockit.make(t,this.such)},t.prototype.value=function(t){var e=this;void 0===t&&(t={datas:null,dpath:[],mocker:null,key:null,param:null});var n=0,r=t.mocker||this.mocker||function(){var n=e.such.instance(e.context).mocker;return n.template=e,e.mocker=t.mocker=n,n}(),a=this.path,o=this.typeContexts,i=r.root.instances,s={},c=this.isValued?function(t,e){var n=a.concat("${"+t+"}");return i.get(n)}:function(t,e,n){var s=a.concat("${"+t+"}"),c=i.get(s);if(c||((c=new A({target:o[t],path:s,parent:r})).mockit=n,i.set(s,c)),e){var u=a.concat("${"+e+"}"),p=i.get(u);p?p.next=c:i.set(u,c)}return c};this.indexData={},this.namedData=s;var u=this.segments.reduce((function(r,a){if("string"==typeof a)r+=a;else{var o=e.indexData[n]={value:void 0,result:""},i=e.indexHash[n];i&&(E(s,i)?v(s[i])?s[i].push(o):s[i]=[s[i],o]:s[i]=o);var u=c(n,i,a);n++;var p=a.make(t,e.such);if(o.value=p,"string"==typeof p)o.result=p;else if(null==p)o.result="";else try{o.result=p.toString()}catch(t){o.result=""}u.result=o.result,r+=o.result}return r}),"");return this.isValued=!0,u},t}();e.Template=T;var S=function(){function t(t,e){this.id=t,this.depender=e,this.childs=[],this.parents=[]}return t.isSameNode=function(t,e){return t.id===e.id},t.prototype.checkThenAdd=function(t,e){return t.findIndex((function(t){return t.id===e.id}))<0&&(t.push(e),!0)},t.prototype.addChild=function(t){this.checkThenAdd(this.childs,t)},t.prototype.addParent=function(t){this.checkThenAdd(this.parents,t),this.depender.setRootNode(this,t)},t}(),C=function(){function t(){this.rootNodes=[],this.allNodes=[],this.dependencies=[],this.dependValuedUpdateFns={},this.dynamicExecuteFns={}}return t.validateIfRelatviePath=function(t,e){var n=t.length,r=e.length;if(n===r){if(t===e)throw new Error("The path of '".concat(t,"' in instance options's field 'dynamics' set a depend path of itself."))}else{var a=t,o=e,i="ancestor";if(n<r&&(a=e,o=t,i="descendant"),a.includes(o)&&"/"===a.charAt(o.length))throw new Error("The path of '".concat(t,"' in instance options's field 'dynamics' set a depend path of it's ").concat(i," '").concat(e,"' is not valid."))}},t.prototype.addDependValuedUpdateFns=function(t,e){v(this.dependValuedUpdateFns[t])?this.dependValuedUpdateFns[t].push(e):this.dependValuedUpdateFns[t]=[e]},t.prototype.getNode=function(t){var e=this.allNodes,n=e.find((function(e){return e.id===t}));return n||(n=new S(t,this),e.push(n)),n},t.prototype.addNode=function(e,n,r){for(var a=this.getNode(e),o=a.id,i=[],s=function(e){var n=c.getNode(e);t.validateIfRelatviePath(o,n.id),a.addChild(n),n.addParent(a);var r={};i.push(r),c.addDependValuedUpdateFns(e,(function(t){var e=r.loop||0;u.setObjectEmpty(r),Object.assign(r,t),r.loop=e+1}))},c=this,p=0,l=n;p<l.length;p++){s(l[p])}var h=this.dynamicExecuteFns[e]={checked:!1,fn:function(){if(!h.checked){for(var t=0,a=0,o=i;a<o.length;a++){var s=o[a];if(!E(s,"value"))throw new Error("The path ".concat(e," depend a path of '").concat(n[t],"' not make a value yet, make sure the depend path is appear before the current path."));t++}h.checked=!0}return r.apply(void 0,i)}}},t.prototype.setRootNode=function(t,e){var n=this.rootNodes.findIndex((function(e){return S.isSameNode(e,t)}));n>-1?this.rootNodes.splice(n,1,e):this.rootNodes.push(e)},t.prototype.checkLoopDependence=function(t,e){var n=e.id;if(t.find((function(t){return t.id===n})))throw new Error("The depend path of '".concat(t[t.length-1].id,"' and '").concat(e.id,"' cause a loop dependencies."))},t.prototype.loopTree=function(t,e,n){this.checkLoopDependence(e,t);var r=e.concat(t);if(t.childs.length)for(var a=0,o=t.childs;a<o.length;a++){var i=o[a];this.loopTree(i,r,n)}else n.push(r)},t.prototype.check=function(){for(var t=0,e=this.rootNodes;t<e.length;t++){var n=e[t];this.loopTree(n,[],this.dependencies)}},t.prototype.getDynamicConfig=function(t){var e;return null===(e=this.dynamicExecuteFns[t])||void 0===e?void 0:e.fn()},t.prototype.triggerDependValued=function(t,e){var n=this.dependValuedUpdateFns[t];if(v(n))for(var r=0,a=n;r<a.length;r++){(0,a[r])(e)}},t}(),$=function(){function t(t,e,n,r){var a;this.target=t,this.such=e,this.namespace=n,this.options=r,this.initail=!1,this.instances=new c.default(!1),this.datas=new c.default(!0),(null===(a=null==r?void 0:r.config)||void 0===a?void 0:a.dynamics)&&(this.depender=new C,this.initDynamics(r.config.dynamics,this.depender)),this.mocker=new A({target:t,path:[],config:null==r?void 0:r.config},this),this.instances.set([],this.mocker)}return t.prototype.initDynamics=function(t,e){var n=this;Object.keys(t).forEach((function(r){var a=t[r],o=a[0],s=a[1],c=v(o)?o:[o];n.checkIfHasPaths.apply(n,i([r],c,!1)),e.addNode(r,c,s)})),e.check()},t.prototype.checkIfHasPaths=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++){var a=r[n];if(!this.hasPath(a)&&!s.tmplRefRule.test(a))throw new Error("The path of '".concat(a,"' is not exist in the instance's paths."))}},t.prototype.paths=function(){return this.allPaths||this.initPathsAndKeys(),this.allPaths},t.prototype.hasPath=function(t){return this.paths().includes(t)},t.prototype.a=function(t){return this.initail?this.datas.clear():this.initail=!0,this.mocker.setInstanceOptions(t),this.checkKeys(null==t?void 0:t.keys),this.mocker.mock([])},t.prototype.initPathsAndKeys=function(){var t,e=this,n=e.target,r=e.ruleKeys,a=void 0===r?{}:r,o=e.allPaths,i=void 0===o?["/"]:o,s=function(t,e){if(y(t)){for(var n in t)if(E(t,n)){var r=A.parseKey(n),o=r.config,c=r.key,u=e.concat(c),p=k(u);i.push(p),w(o)&&(a[p]=o),s(t[n],u)}}else v(t)&&t.forEach((function(t,n){s(t,e.concat(n))}))};return s(n,[]),a["/"]=null===(t=this.options)||void 0===t?void 0:t.config,this.allPaths=i,this.ruleKeys=a,a},t.prototype.keys=function(){return this.ruleKeys||this.initPathsAndKeys(),this.ruleKeys},t.prototype.checkKeys=function(t){if(t&&w(t)){var e=this.keys(),n=function(n){if(E(t,n)){if(!E(e,n))throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not optional or having a length with min/max, but you set a config on it."));var a=t[n],o="/"===n?[]:n.slice(1).split("/"),i=r.instances.get(o),c=(null==i?void 0:i.isEnum)?s.enumConfig:e[n]||{},u="boolean"==typeof a.exist;if(u&&!0!==c.optional)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not optional, but you set the key 'exist' on it."));var p=E(a,"min"),l=E(a,"max");if(p||l){if(!1===a.exist)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys has set 'exist' be false, no need to set the 'min'/'max' value again."));var h,f;if(E(c,"min"))h=c.min,f=E(c,"max")?c.max:h;else{if(!c.optional)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not having a length with min/max, but you set a length on it."));if(u)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not having a length with min/max, you can't set both the 'exist' field and the 'min'/'max'."));h=0,f=1}var d=function(t,e){if("number"!=typeof t)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with none number ").concat(e," '").concat(t,"'."));if(t>f)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with ").concat(e," '").concat(t,"' bigger than the field allowed max '").concat(f,"'."));if(t<h)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with ").concat(e," '").concat(t,"' less than the field allowed min '").concat(h,"'."))};if(p&&d(a.min,"min"),l&&(d(a.max,"max"),p&&a.min>a.max))throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys set a length with min '").concat(a.min,"' bigger than the max '").concat(a.max,"'."))}if(E(a,"index")&&!c.oneOf&&1!==c.max)throw new Error("The target's field with a path '".concat(n,"' in instanceOptions keys is not a field with config 'oneOf' or 'max' equal to 1, can't set a 'index' value."))}},r=this;for(var a in t)n(a)}},t}();e.default=$;var M=function(t,e){var n=f.default.mockits,r=f.default.alias;(E(n,t)||E(r,t))&&console.warn("Warning: The defined ".concat(e,' name "').concat(t,'" is a data type that has defined in builtin data types, it will override the builtin type.'))},I=function(){function t(t){this.namespace=t,this.utils=u,this.hasNs=!!t,this.hasNs?this.storeData=(0,f.createNsStore)(t):this.storeData=f.default}return t.prototype.assign=function(t,e,n){void 0===n&&(n=!1),"boolean"==typeof n&&(n=n?d.AssignType.AlwaysVariable:d.AssignType.None),this.storeData(t,e,n)},t.prototype.getAssigned=function(t){return this.storeData.get(t)},t.prototype.store=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.storeData,a=function(t){return t.reduce((function(t,e){return t[e]=r[e],t}),{})};return e.length>0?a(e.concat(t)):v(t)?a(t):r[t]},t.prototype.clearStore=function(t){this.storeData.clear(t)},t.prototype.parser=function(t,e){if(!this.hasNs){var n=e.config,r=e.parse,a=e.setting;return h.default.addParser(t,n,r,a)}},t.prototype.define=function(t,e,n){for(var r,c,m,y,b=[],x=3;x<arguments.length;x++)b[x-3]=arguments[x];if(!s.dtNameRule.test(t))throw new Error('Call the "define" method with a wrong type name "'.concat(t,"\" parameter, the type name must match the regexp rule '").concat(s.dtNameRule.toString(),"'"));if(!e||b.length)throw new Error('Wrong parameters when call the "define" method, it should provide 2 or 3 parameters, but got '.concat(b.length+3));var O={},k=!1,R=!1,N=!!n;if(N)if("string"==typeof n){if(""===n.trim())throw new Error('The defined type "'.concat(t,'" base on type "').concat(e,'" must set a param not empty.'));O={param:n}}else O=n;else"function"==typeof e?O={generate:e}:"string"==typeof e?k=!0:v(e)?R=!0:O=e;var P=O.param,j=O.init,A=O.generate,T=O.validator,S=O.configOptions,C=void 0===S?{}:S,$=O.allowAttrs,I=void 0===$?[]:$,F="To".concat(_(t)),D=function(t){g(j)&&j.call(this,u);var e="string"==typeof P?h.default.parse(P,{mockit:this}):{};g(t)&&this.reGenerate(t),w(e)&&this.setParams(e,!0)},V=this.storeData,z=V.mockits,q=V.alias;if(E(z,t)||E(q,t))throw new Error('the type "'.concat(t,'" has been defined yet.'));var L=void 0,B=this,H=B.namespace,G=B.hasNs;if(G&&M(t,"data type"),N){var W=e,U=q[W]||W,K=G?z[U]||f.default.mockits[f.default.alias[W]||W]:z[U];if(!K)throw new Error('the defined type "'.concat(t,'" what based on type of "').concat(W,'" is not exists.'));var Z=void 0;if(g(T))if(g(K.validator)){var Q=K.validator;Z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];T.apply(void 0,i(i([],t,!1),[Q],!1))}}else Z=T;r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this),D.call(this,A)},e}(K),r.chainNames=K.chainNames.concat(U),r.baseType=K,r.constrName=F,r.namespace=H,r.selfConfigOptions=C,r.configOptions=o(o({},K.configOptions||{}),C),r.allowAttrs=I,r.validator=Z,L=r}else{var X=this;k?(c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.init=function(){t.prototype.init.call(this),this.initTemplate()},n.prototype.initTemplate=function(){var t=X.template(e,this.path,this.callerNamespace);t.params&&this.setParams(t.params),this.setTemplate(t)},n.prototype.generate=function(e){return this.$template||this.initTemplate(),t.prototype.generate.call(this,e)},n}(l.default),c.constrName=F,c.namespace=H,c.allowAttrs=I,c.specialType=d.SpecialType.Template,c.selfConfigOptions=C,c.configOptions=C,c.validator=T,L=c):R?(m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.init=function(){this.initInstance()},n.prototype.initInstance=function(){this.instance=X.instance(e,{config:s.enumConfig})},n.prototype.generate=function(t){if(this.instance||this.initInstance(),t){var e={};return t.key&&(e.keys={"/":t.key}),t.param&&(e.params={"/":t.param}),this.instance.a(e)}return this.instance.a()},n.prototype.test=function(){return!0},n}(p.default),m.constrName=F,m.namespace=H,m.allowAttrs=I,m.specialType=d.SpecialType.Enum,m.selfConfigOptions=C,m.configOptions=C,m.validator=T,L=m):(y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){D.call(this)},e.prototype.generate=function(t,e){return A.call(this,t,e)},e.prototype.test=function(){return!0},e}(p.default),y.constrName=F,y.namespace=H,y.selfConfigOptions=C,y.configOptions=C,y.allowAttrs=I,y.validator=T,L=y)}z[t]=L},t.prototype.alias=function(t,e){if(""===t||""===e||t===e||t.length>e.length)throw new Error("wrong alias params:'".concat(t,"' short for '").concat(e,"'"));var n=this.storeData,r=n.aliasTypes,a=n.alias,o=n.mockits;if(r.includes(e))throw new Error('The data type of "'.concat(e,'" has an alias yet, can\'t use "').concat(t,'" for an alias name.'));if(!s.dtNameRule.test(t))throw new Error("Use a wrong alias short name '".concat(t,"', the name should match the regexp '").concat(s.dtNameRule.toString(),"'"));if(!E(o,e))throw new Error("You can't set an alias \"".concat(t,'" for the data type of "').concat(e,'" which is not defined').concat(this.hasNs?", you can only set alias name for your own defined types":"","."));this.hasNs&&M(t,"alias"),a[t]=e,r.push(e)},t.prototype.config=function(t){var e=this,n=t.parsers,r=t.types,a=t.globals,o=t.alias,s={parsers:"parser",types:"define",globals:"assign"},c={};t.extends&&"function"==typeof this.loadExtend&&this.loadExtend(t.extends),O(c,{parsers:n||{},types:r||{},globals:a||{},alias:o||{}}),Object.keys(c).map((function(t){var n=c[t],r=E(s,t)?s[t]:t,a=e[r];Object.keys(n).map((function(t){var r=n[t],o=u.isArray(r)?r:[r];a.apply(e,i([t],o,!0))}))}))},t.prototype.template=function(t,e,n){for(var r=new T(t,this,e),a=t.length,o="`",i=s.templateSplitor.charAt(0),c=s.templateSplitor.length,u=0,p="",l=!1;u<a;){var d=t.charAt(u);if(d===o){""!==p&&(r.addString(p),p="");for(var g=u,m={},y=void 0,v="",b="",x="";u++<a;){var O=t.charAt(u);if(O===o){if(l=!0,x=v,y);else{var k=null;if(null!==(k=v.match(s.tmplNamedRule))&&(b=k[1],v=v.slice(k[0].length)),!(k=v.match(s.suchRule)))throw new Error("[index:".concat(g,'] The data type expression "').concat(v,'" in template literal is not a correct syntax match the data type rule: ').concat(s.suchRule.toString()));var _=k[1]&&k[1].replace(/\/$/,""),R=(0,f.getNsMockit)(k[2],this.namespace,_).klass;if(!R)throw new Error("[index:".concat(g,"] The data type expression in template literal `").concat(k[0],"` does not exist or can't access."));if(y=new R(n),""===(v=v.replace(k[0],"")))break;v.startsWith(s.splitor)&&(v=v.slice(s.splitor.length))}var N=h.default.parse(v,{mockit:y,greedy:!0});if(!E(N,"errorIndex")){v="",Object.assign(m,N);break}var P=N.errorIndex;P>0&&(v=v.slice(P)+o),delete N.errorIndex,Object.assign(m,N),v+=O}else v+=O}if(!y)throw new Error("[index:".concat(g,'] The data type expression "').concat(o).concat(v,'" in template literal is not complete correctly, lack of the end symbol "').concat(o,'"'));if(""!==v){var j=['lack of the end symbol "'.concat(o,'"'),"can't parsed correctly"];throw l&&j.reverse(),new Error("[index:".concat(g,"] The data type expression with type :").concat(""," in template literal, its' data attributes string \"").concat(o).concat(v,'", ').concat(j.join(" or ")," ."))}w(m)&&y.setParams(m),r.addInstance(y,x,b)}else if("\\"===d){if(!(++u<a)){p+=d;break}var A=t.charAt(u);A===o||A===s.splitor?p+=A:p+=d+A}else{if(d===i&&t.slice(u,u+c)===s.templateSplitor){if(0===u)throw new Error("[index:".concat(e?c:0,'] The template literal must set a none empty content before "').concat(s.templateSplitor,'"').concat(e?"(in path "+(e.length>0?e.join("/"):"root")+")":""));u+=c;break}p+=d}u++}return""!==p&&r.addString(p),u<a?r.end(t.slice(u)):r.end(),r},t.prototype.as=function(t,e){return this.instance(t,e).a()},t.prototype.instance=function(t,e){return new $(t,this,this.namespace,e)},t.prototype.setExportType=function(t){if(this.namespace){var e=this.namespace,n=(0,f.getNsStore)(e),r=n.exports.types;if(r.includes(t))P('The export type "'.concat(t,"\" has ever exported, you don't need export it again."));else{var a=n.alias,o=n.mockits;if(!E(o,t)&&!E(a,t))throw new Error('The export type "'.concat(t,'" is not exist when you call the "setExportType", make sure you have defined the type.'));r.push(t)}}else j("setExportType",t)},t.prototype.setExportVar=function(t){if(this.namespace){var e=(0,f.getNsStore)(this.namespace),n=e.vars;if(!E(n,t))throw new Error('The export variable "'.concat(t,'" is not exist when you call the "setExportVar", make sure you have assigned the variable.'));e.exports.vars[t]=n[t]}else j("setExportVar",t)},t.prototype.setExportFn=function(t){if(this.namespace){var e=(0,f.getNsStore)(this.namespace),n=e.fns;if(!E(n,t))throw new Error('The export function "'.concat(t,'" is not exist when you call the "setExportFn", make sure you have assigned the function.'));e.exports.fns[t]=n[t]}else j("setExportVar",t)},t}();e.Such=I;e.createNsSuch=function(t){return new I(t)}},899:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.allowdOverrideParams=e.VariableExpression=e.tmplRefRule=e.tmplNamedRule=e.enumConfig=e.tmplMockitName=e.dtNameRule=e.strRule=e.suchRule=e.encodeSplitor=e.templateSplitor=e.splitor=e.encodeRegexpChars=void 0;e.encodeRegexpChars=function(t){return t.replace(/([()[{^$.*+?/-])/g,"\\$1")},e.splitor=":",e.templateSplitor=e.splitor.repeat(3),e.encodeSplitor=(0,e.encodeRegexpChars)(e.splitor),e.suchRule=new RegExp("^".concat(e.encodeSplitor,"(?:@([A-Za-z][\\w$-]*/))?([A-Za-z][\\w$-]*)")),e.strRule=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1$/,e.dtNameRule=/^[a-zA-Z_$][\w$]*$/,e.tmplMockitName="template",e.enumConfig={oneOf:!0,min:1,max:1};var n="[a-zA-Z_]\\w*";e.tmplNamedRule=new RegExp("^<(".concat(n,")>")),e.tmplRefRule=new RegExp("(^|\\/)\\$\\{([1-9]\\d+|[0-9]|".concat(n,")\\}$"));var r=function(t){this.expression=t};e.VariableExpression=r,e.allowdOverrideParams=["$config","$length"]},168:(t,e,n)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.addBuiltinTypes=e.addMockitList=e.builtinMockits=void 0;var a=n(580),o=n(935),i=n(634),s=n(417),c=n(639),u=n(163),p=n(735),l=n(243),h=n(899);e.builtinMockits=((r={number:a.default,string:o.default,regexp:i.default,date:s.default,ref:c.default,increment:u.default})[h.tmplMockitName]=p.default,r);e.addMockitList=function(t,n){Object.keys(t).map((function(r){l.default.mockits[r]=t[r],n&&(0,e.addBuiltinTypes)(r)}))};e.addBuiltinTypes=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=l.default.builtins).push.apply(t,e)}},420:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(982),a=n(648),o=n(566),i=n(968),s=n(662),c=n(844),u=n(668),p=n(7),l={$size:r.default,$length:a.default,$format:o.default,$config:i.default,$func:s.default,$regexp:c.default,$path:u.default},h=new p.Dispatcher;Object.keys(l).map((function(t){var e=l[t];h.addParser(t,e.config,e.parse,e.setting||{})})),e.default=h},243:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNsMockit=e.getNsStore=e.createNsStore=e.isFileCache=void 0;var r=n(906),a=n(789);e.isFileCache=function(t){return(0,a.isObject)(t)&&"number"==typeof t.mtime};var o=["mockitsCache","alias","fileCache","config","extends"],i=function(t){var e=function(t,n,o){var i=(1&o)>0,s="function"!=typeof n||i,c=s?e.varsTypes:e.fnsTypes,u=o>>1<<1;if((0,a.hasOwn)(s?e.fns:e.vars,t)){var p=["variable","function"],l=+!s;throw new Error("The field '".concat(t,"' that assigned as a ").concat(p[0^l]," was also assigned as a ").concat(p[1^l]," before."))}if((0,a.hasOwn)(c,t)){var h=c[t];if(u<h)throw new Error("The variable '".concat(t,"' has ever assigned with a assign type '").concat(r.AssignType[h],"', can't re assigned with a less strictly type '").concat(r.AssignType[u],"' again."));switch(u){case r.AssignType.MustNotOverride:throw new Error("The variable '".concat(t,"' with a assign type '").concat(r.AssignType[u],"' has ever exist,can't assign it again."));case r.AssignType.OverrideIfNotExist:return;case r.AssignType.Override:}}else c[t]=u;"function"!=typeof n||i?e.vars[t]=n:e.fns[t]=n};e.get=function(t){return(0,a.hasOwn)(e.vars,t)?{exist:!0,value:e.vars[t],type:e.varsTypes[t]}:(0,a.hasOwn)(e.fns,t)?{exist:!0,value:e.fns[t],type:e.fnsTypes[t]}:{exist:!1,value:void 0}},e.clear=function(t){var e=null==t?void 0:t.reset,n=(null==t?void 0:t.exclude)?(0,a.isArray)(t.exclude)?t.exclude:[t.exclude]:[];e?i.apply(void 0,n):s.apply(void 0,n)};var n=t?function(t){t?e.mockits={}:(0,a.setObjectEmpty)(e.mockits)}:function(t){if(t){var n=e.builtins.reduce((function(t,n){return t[n]=e.mockits[n],t}),{});e.mockits=n}else for(var r=0,a=Object.getOwnPropertyNames(e.mockits);r<a.length;r++){var o=a[r];e.builtins.includes(o)||delete e.mockits[o]}},i=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];["fns","vars"].forEach((function(n){t.includes(n)||(e[n]={},e["".concat(n,"Types")]={})})),o.forEach((function(n){t.includes(n)||(e[n]={})})),t.includes("mockits")||n(!0),t.includes("exports")||(e.exports={vars:{},fns:{},types:[]}),t.includes("aliasTypes")||(e.aliasTypes=[])},s=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];["fns","vars"].forEach((function(n){t.includes(n)||((0,a.setObjectEmpty)(e[n]),(0,a.setObjectEmpty)(e["".concat(n,"Types")]))})),o.forEach((function(n){t.includes(n)||(0,a.setObjectEmpty)(e[n])})),t.includes("mockits")||n(),t.includes("exports")||((0,a.setArrayEmtpy)(e.exports.types),(0,a.setObjectEmpty)(e.exports.vars),(0,a.setObjectEmpty)(e.exports.fns)),t.includes("aliasTypes")||(0,a.setArrayEmtpy)(e.aliasTypes)};return e.namespace=t,e.builtins=[],e.mockits={},e.clear({reset:!0,exclude:"mockits"}),e},s=i(),c={};e.createNsStore=function(t){if(!t||(0,a.hasOwn)(c,t))throw new Error("The storeData with namespace '".concat(t,"' has been created."));var e=i(t);return c[t]=e,e};e.getNsStore=function(t){if((0,a.hasOwn)(c,t))return c[t]};e.getNsMockit=function(t,n,r){var o,i,c=!1,u=function(e){var n=e.alias,r=e.mockits,o=t;return(0,a.hasOwn)(n,t)&&(o=n[t]),{klass:r[o],realType:o}};return n?!r||(c=r===n)?(o=(0,e.getNsStore)(n),c?i=u(o):(o&&(i=u(o)),i.klass||(i=u(s)))):(o=(0,e.getNsStore)(r))&&o.exports.types.includes(t)&&(i=u(o)):i=u(s),i&&i.klass?i:{klass:void 0,realType:t}},e.default=s},795:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(789),a=["https","http","ftp","telnet","mailto","gopher","file"],o=["com","net","org","top","wang","ren","xyz","cc","co","io","cn","com.cn","org.cn","gov.cn"],i=o.map((function(t){return t.replace(/\./g,"\\.")})),s="(?<domainLabel>[a-z0-9]+(?:-?[a-z0-9]+|[a-z0-9]*))\\.(?<tld>".concat(i.join("|"),")"),c="(?<domain>".concat(s,")"),u="generate",p=function(t,e){var n=t.split("."),r=[],a=/^\d{1,3}$/;if(4===n.length&&n.every((function(t){if(a.test(t)){var e=Number(t);if(e>=0&&e<=255)return r.push(e),!0}return!1})))return r;throw new Error("".concat(e,'"').concat(t,'"'))},l=function(t,e,n){var r=void 0===n?{}:n,a=r.isMax,o=void 0!==a&&a,i=r.type,s=void 0===i?"":i;if(o){if(!t)return e.split(".").map(Number)}else if(!e)return t.split(".").map(Number);for(var c="wrong config ".concat(o?"max":"min"," ip").concat(s?" of class "+s:"",":"),u=p(t,c),l=p(e,c),h=0;h<4;h++){var f=u[h],d=l[h];if(f!==d&&f>d)throw new Error("".concat(c).concat(t,", is bigger than ").concat(e))}return o?u:l},h={types:{integer:["number","%d"],percent:["number","[0,100]:%d%"],chinese:["string","[\\u4E00,\\u9FA5]"],uppercase:["string","[65,90]"],lowercase:["string","[97,122]"],alpha:["string","[65-90,97-122]"],numeric:["string","[48,57]"],alphaNumeric:["string","[48-57,97-122,65-90]"],alphaNumericDash:["string","[48-57,97-122,65-90,95]"],protocol:[a],tld:[o],domain:["regexp","/".concat(s,"/")],url:["regexp","/(?<protocol>".concat(a.join("|"),"):\\/\\/").concat(c,"(?<port>(?::(?:6[0-5][0-5][0-3][0-5]|[1-5]\\d{4}|[1-9]\\d{0,3}))?)\\/(?<pathname>(?:[0-9a-z]+\\/)*(?<filename>\\w+(?<extname>\\.(?:html|htm|php|do)))?)(?<query>\\?([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})&)*([0-9a-z_]+=(?:[0-9a-z]+|(?:%[0-9A-F]{2}){2,})))(?<hash>#[0-9a-z_=]{5,})?/")],ip:{configOptions:{v6:{type:Boolean,default:!1},compress:{type:Number,default:0},type:{type:String},min:{type:String},max:{type:String}},generate:function(t,e){var n=this.getCurrentParams(t).$config,r=n.v6,a=t.mocker,o=a.store(u);if("function"!=typeof o){var i;if(r)i=e.instance(":ipv6#[compress=".concat(n.compress,"]"));else{var s=n.type,c=n.min,p=n.max,l=[];s&&l.push('type="'.concat(s,'"')),c&&l.push('min="'.concat(c,'"')),p&&l.push('max="'.concat(p,'"'));var h=l.length?"#[".concat(l.join(","),"]"):"";i=e.instance(":ipv4".concat(h))}o=function(){return i.a()},a.store(u,o)}return o()}},ipv6:{configOptions:{compress:{type:Number,default:0}},generate:function(t,e){var n=t.mocker,r=n.store(u);if("function"!=typeof r){var a=this.getCurrentParams(t).$config.compress;if(a>0){var o=e.instance(":regexp/[0-9a-f]{3,4}/");r=function(){for(var t=[],e=/^0*/,n=0,r=!1,i=0;i<8;i++){var s=Math.random()<a?"":o.a().replace(e,"");""!==s?(t.push(s),n>0&&(n=0)):r?t.push("0"):(n>1||(1===n?(t[t.length-1]="",1===i&&t.push(""),r=!0):t.push("0")),n++)}return n>1&&t.push(""),t.join(":")}}else{var i=e.instance(":regexp/[0-9a-f]{4}/");r=function(){for(var t=[],e=0;e<8;e++)t.push(i.a());return t.join(":")}}n.store(u,r)}return r()}},ipv4:{configOptions:{type:{type:String},min:{type:String},max:{type:String}},generate:function(t){var e=t.mocker,n=e.store(u);if("function"!=typeof n){var a,o,i=this.getCurrentParams(t).$config,s=i.type,c=i.min,p=i.max;switch(s){case"A":a=l("0.0.0.0",c,{type:s}),o=l(p,"127.255.255.255",{type:s,isMax:!0});break;case"B":a=l("128.0.0.0",c,{type:s}),o=l(p,"191.255.255.255",{type:s,isMax:!0});break;case"C":a=l("192.0.0.0",c,{type:s}),o=l(p,"223.255.255.255",{type:s,isMax:!0});break;case"D":a=l("224.0.0.0",c,{type:s}),o=l(p,"239.255.255.255",{type:s,isMax:!0});break;case"E":a=l("240.0.0.0",c,{type:s}),o=l(p,"247.255.255.255",{type:s,isMax:!0});break;default:if(s)throw new Error('wrong type class of ip address: "'.concat(s,'", should be "A" or "B" or "C" ... "E"'));a=l("0.0.0.0",c),o=l(p,"255.255.255.255",{isMax:!0})}n=function(){return function(t,e){for(var n=[],a=!1,o=0;o<4;o++){var i=t[o],s=e[o];if(a)n.push((0,r.makeRandom)(i,255));else{var c=(0,r.makeRandom)(i,s);n.push(c),a=c>i}}return n}(a,o).join(".")},e.store(u,n)}return n()}},email:["regexp","/(?<user>(?:[a-z0-9]+(?:[-_]?[a-z0-9]+|[a-z0-9]*)))@".concat(c,"/")],boolean:function(t,e){return e.utils.isOptional()},color$hex:{configOptions:{lowercase:{type:Boolean,default:!1},argb:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number}},generate:function(t,e){var n,a=this.getCurrentParams(t).$config,o=void 0===a?{}:a,i=o.lowercase,s=o.argb,c=o.min,u=o.max,p=e.utils.makeRandom,l=6;return s?(l=8,n=p(0,(0,r.hasOwn)(o,"max")?u:4294967295)):n=p(c,(0,r.hasOwn)(o,"max")?u:16777215),"#".concat(i?n.toString(16).padStart(l,"0"):n.toString(16).toUpperCase().padStart(l,"0"))}},color$rgb:function(t,e){var n=e.instance(":int[0,255]");return"rgb("+[n.a(),n.a(),n.a()].join(",")+")"},color$rgba:function(t,e){var n=e.instance(":int[0,255]"),r=e.as(":number[0,1]:%.2f");return"rgba("+[n.a(),n.a(),n.a(),r||0].join(",")+")"},color$hsl:function(t,e){var n=e.as(":int[0,360]"),r=e.instance(":percent");return"hsl("+[n,r.a(),r.a()].join(",")+")"},color$hsla:function(t,e){var n=e.as(":int[0,360]"),r=e.instance(":percent"),a=e.as(":number[0,1]:%.2f");return"hsla("+[n,r.a(),r.a(),a||0].join(",")+")"}},alias:{int:"integer",bool:"boolean"}};e.default=h},491:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateformat=e.strtotime=void 0;var r=n(789),a=function(t){return void 0===t?new Date:t instanceof Date?new Date(t.getTime()):new Date(t)},o=function(t,e,n){var r=new Date,a=r.getFullYear().toString();t=t||a,e=e||(r.getMonth()+1).toString(),n=n||r.getDate().toString();var o=t.length;return o<4&&(t=a.slice(0,a.length-o)+t),new Date("".concat(t,"/").concat(e,"/").concat(n," 00:00:00"))};e.strtotime=function(t,e){if("number"==typeof t)return new Date(t);if("string"==typeof t){var n=void 0;try{n=function(t,e){var n=new Date;if(""===t)return n.setHours(0,0,0,0),n;var i,s=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],c=["january","february","march","april","may","june","july","august","september","october","november","december"];if(i=(t=t.toLowerCase()).match(/^(\d{4})([-/.])(\d{1,2})\2(\d{1,2})$/))return o(i[1],i[3],i[4]);if(i=t.match(/^(today|yesterday|tomorrow)$/)){var u={today:0,tomorrow:1,yesterday:-1},p=i[1];return e?(e=a(e),u[p]&&e.setDate(e.getDate()+u[p]),e.setHours(0,0,0,0),e):o(null,null,u[p]?(n.getDate()+u[p]).toString():null)}if(i=t.match(/^(\d{4})(\d{1,2})(\d{1,2})$/)){var l=i.slice(1,4);return o.apply(void 0,l)}if(i=t.match(/^(\d{1,2})\/(\d{1,2})(?:\/(\d{2}|\d{4})?)$/))return o(i[4],i[1],i[2]);var h=new RegExp("^("+s.concat(c).join("|")+")(?:\\s+|\\.)(?:((?:[4-9]|1[0-9]|2[04-9]|30)(?:th)?|[23]?1(?:st)?|[23]?2(?:nd)?|[23]?3(?:rd)?))(?:\\s*,\\s*(\\d{2}|\\d{4}))?$");if(i=t.match(h)){var f=i[1],d=parseInt(i[2],10).toString(),g=i[3],m=s.indexOf(f);return f=m>-1?(m+1).toString():(c.indexOf(f)+1).toString(),o(g,f,d)}var y=/([+-]?\d+)\s+(day|month|week|year)s?/g;if(i=t.match(/^(([+-]?\d+)\s+(day|month|week|year)s?(\s+(?!$)|))+?(\s+ago)?$/)){for(var v=i[5]?"-":"",w={year:[],month:[],day:[],week:[]},b={year:0,month:0,day:0,week:0,date:0,fullYear:0},x=null;null!==(x=y.exec(t));){var O=x[2],k=x[1];w[O].push("("+k+")")}Object.keys(w).map((function(t){var e=w[t];e.length?b[t]=new Function("","return "+v+"("+e.join("+")+")")():b[t]=0})),b.date=7*b.week+b.day,b.fullYear=b.year;for(var _=["date","month","fullYear"],E=a(e),R=0,N=_.length;R<N;R++){k=b[p=_[R]];var P=(0,r.capitalize)(p);if(k){var j=E["get".concat(P)]();E["set".concat(P)](j+k)}}return E}throw new Error("can not parse the date!")}(t,e)}catch(e){if(n=new Date(t),isNaN(+n))throw new Error("Invalid date")}return n}throw new Error("Invalid date:".concat(t))};var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return this.getDate()},dd:function(){return u("d",this)},dddd:function(){return i[this.getDay()]},ddd:function(){return c.dddd.call(this).slice(0,3)},m:function(){return this.getMonth()+1},mm:function(){return u("m",this)},mmmm:function(){return s[this.getMonth()]},mmm:function(){return c.mmmm.call(this).slice(0,3)},yyyy:function(){return this.getFullYear().toString().padStart(4,"0")},yy:function(){return this.getFullYear().toString().slice(-2).padStart(2,"0")},h:function(){return(this.getHours()%12).toString()},hh:function(){return u("h",this)},H:function(){return this.getHours().toString()},HH:function(){return u("H",this)},M:function(){return this.getMinutes()},MM:function(){return u("M",this)},s:function(){return this.getSeconds().toString()},ss:function(){return u("s",this)},l:function(){return this.getMilliseconds().toString().padStart(3,"0")},L:function(){return Math.round(this.getMilliseconds()/10).toString().padStart(2,"0")},tt:function(){return this.getHours()>=12?"pm":"am"},t:function(){return c.tt.call(this).charAt(0)},TT:function(){return this.getHours()>=12?"PM":"AM"},T:function(){return c.TT.call(this).charAt(0)},S:function(){return["st","nd","rd"][this.getDate()%10-1]||"th"},N:function(){return(this.getDay()||7).toString()}},u=function(t,e){return c[t].call(e).toString().padStart(2,"0")};e.dateformat=function(t,e){return t.replace(/[A-Za-z]*/g,(function(t){return c[t]?c[t].call(e):t}))}},12:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(789),a=function(t){return"number"==typeof t},o=function(){function t(t){this.isPlain=t,this.result=null,this.initial=!1,this.rootValue=null,this.isSetRootValue=!1}return t.prototype.set=function(t,e){var n=(0,r.typeOf)(e),o=t.length;if(!this.isPlain||"Array"!==n&&"Object"!==n){this.initial||(this.result=a(t[0])?[]:{},this.initial=!0);var i=this.result;if(0!==t.length){for(var s=0;s<o-1;s++){var c=t[s],u=t[s+1];if((0,r.isArray)(i)&&a(c)&&c%1==0)i.length<c+1&&(i[c]=a(u)?[]:{}),i=i[c];else{if(!(0,r.isObject)(i))throw new Error("wrong field path key: '".concat(c,"'"));(0,r.hasOwn)(i,c)||(i[c]=a(u)?[]:{}),i=i[c]}}i[t[s]]=e}else this.rootValue=e,this.isSetRootValue=!0;return this}},t.prototype.get=function(t){var e=this.result;if(0!==t.length){var n=0;try{for(var r=t.length;n<r;n++){var o=t[n];a(o),e=e[o]}}catch(t){}return e}return this.isSetRootValue?this.rootValue:e},t.prototype.clear=function(){this.result=null,this.initial=!1},t.prototype.has=function(t){for(var e=this.result,n=!0,o=0,i=t.length;o<i;o++){var s=t[o];if(a(s)?(n=(0,r.isArray)(e)&&e.length>s,e=e[s]):(n=(0,r.isObject)(e)&&(0,r.hasOwn)(e,s),e=e[s]),!n)break}return n},t}();e.default=o},789:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeDictData=e.makeCascaderData=e.getCascaderValue=e.validator=e.getRefMocker=e.getPathInfo=e.parsePathSeg=e.path2str=e.isRelativePath=e.pickObj=e.shiftObj=e.deepCopy=e.getExpValue=e.getExp=e.decodeTrans=e.capitalize=e.isOptional=e.range=e.makeStrRangeList=e.makeRandom=e.setArrayEmtpy=e.setObjectEmpty=e.isNoEmptyObject=e.isObject=e.isArray=e.isFn=e.typeOf=e.dateformat=e.strtotime=e.hasOwn=void 0;e.hasOwn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r=Object.setPrototypeOf?function(t,e){Object.setPrototypeOf(t,e)}:{__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,n){for(var r in n)(0,e.hasOwn)(t,r)||(t[r]=n[r])},a=n(491);Object.defineProperty(e,"strtotime",{enumerable:!0,get:function(){return a.strtotime}}),Object.defineProperty(e,"dateformat",{enumerable:!0,get:function(){return a.dateformat}});e.typeOf=function(t){return Object.prototype.toString.call(t).slice(8,-1)};e.isFn=function(t){return"function"==typeof t};e.isArray=function(t){return Array.isArray(t)};e.isObject=function(t){return"Object"===(0,e.typeOf)(t)};e.isNoEmptyObject=function(t){return(0,e.isObject)(t)&&Object.keys(t).length>0};e.setObjectEmpty=function(t){for(var e=0,n=Object.getOwnPropertyNames(t);e<n.length;e++){delete t[n[e]]}};e.setArrayEmtpy=function(t){t.length=0};e.makeRandom=function(t,e){return t===e?t:t+Math.floor(Math.random()*(e+1-t))};e.makeStrRangeList=function(t,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!t||!n)return[];for(var o=t.charCodeAt(0),i=n.charCodeAt(0),s=[],c=o;c<=i;)s.push(String.fromCharCode(c++));return r.length>0&&r.length%2==0?s.concat(e.makeStrRangeList.apply(void 0,r)):s};e.range=function(t,e,n){void 0===n&&(n=1);var r=Math.floor((e-t)/n)+1;return Array.from({length:r},(function(e,r){return t+r*n}))};e.isOptional=function(){return Math.random()>=.5};e.capitalize=function(t){return t&&t.length?t.charAt(0).toUpperCase()+t.slice(1):""};e.decodeTrans=function(t){return t.replace(/\\(.)/g,"$1")};e.getExp=function(t){var e=new Function("","return ".concat(t));try{return e()}catch(e){throw new Error('wrong expression of "'.concat(t,'".reason:').concat(e))}};function o(t,n){var a=[],o=!1;(0,e.isObject)(n)?(a=Object.keys(n),o=n.constructor!==Object):(0,e.isArray)(n)&&(a=(0,e.range)(0,n.length-1)),a.map((function(r){var a=n[r],o=t[r],i=(0,e.typeOf)(a),s=(0,e.typeOf)(o);"Object"===i||"Array"===i?(t[r]=s===i?t[r]:"Object"===i?{}:[],(0,e.deepCopy)(t[r],a)):t[r]=a})),o&&r(t,n.constructor.prototype)}e.getExpValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r="__$__",a=t.pop();void 0!==(n=t.shift());)try{return new Function(r,"return ".concat(r,".").concat(a))(n)}catch(t){}};e.deepCopy=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=!1,i=!1;if((a=(0,e.isObject)(t))||(i=(0,e.isArray)(t)))for(var s=0,c=n.length;s<c;s++){var u=n[s];(a&&(0,e.isObject)(u)||i&&(0,e.isArray)(u))&&o(t,u)}return t};e.shiftObj=function(t,e){var n={};return e.map((function(e){n[e]=t[e],delete t[e]})),n};e.pickObj=function(t,n){var r={};return n.map((function(n){(0,e.hasOwn)(t,n)&&(r[n]=t[n])})),r};e.isRelativePath=function(t,n){var r=t.length;if(r>n.length)return(0,e.isRelativePath)(n,t);for(var a=0;a<r;){if(t[a].toString()!==n[a].toString())break;a++}return a===r};e.path2str=function(t){return"/".concat(t.join("/"))};e.parsePathSeg=function(t){void 0===t&&(t="");for(var e=[],n=!1,r="",a=0,o=t.length;a<o;a++){var i=t.charAt(a);n?(n=!1,r+=i):"\\"===i?n=!0:"/"===i?(e.push(r),r=""):r+=i}return""!==r&&e.push(r),e};e.getPathInfo=function(t,n){var r,a=n.path,o=n.template,i=t.path;if(t.relative)if(t.fix){if(!o)throw new Error("wrong path '".concat(t.fullpath,"', now only the template type support a fix path begin with '//'"));r=a.concat(i)}else{if(a.length<t.depth)throw new Error('the path of "'.concat(r?"/"+r.join("/"):t.fullpath,'" is not exists in the instances.'));r=a.slice(0,-(1+t.depth)).concat(i)}else r=i;if(!t.fix&&(0,e.isRelativePath)(a,r))throw new Error('the ref path of "'.concat(a.join("/"),'" and "').concat(r.join("/"),'" is a relative path.'));return r};e.getRefMocker=function(t,n){var r=n.root,a=r.instances,o=r.owner,i=(0,e.getPathInfo)(t,n);return o.checkIfHasPaths((0,e.path2str)(i)),a.get(i)},e.validator={validNumber:function(t,e,n){if("number"!=typeof n)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with number, but got a value of type '").concat(typeof n,"'"));return!0},validInteger:function(t,e,n){if("number"!=typeof n)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with integer number, but got a value of type '").concat(typeof n,"'"));if(n%1!=0)throw new Error("the data type '".concat(t,"' only accept a '").concat(e,"' configuration with integer number, but got a number '").concat(n,"'"));return!0}};e.getCascaderValue=function(t,n){for(var r=n.length,a=0;a<r;){var o=n[a++];if(!(0,e.isObject)(t))throw new Error("".concat(n.slice(0,a).join("."),""));t=t[o]}if((0,e.isArray)(t))return t[(0,e.makeRandom)(0,t.length-1)];var i=Object.keys(t);return i[(0,e.makeRandom)(0,i.length-1)]};e.makeCascaderData=function(t,n){for(var r=t.$path,a=void 0===r?[]:r,o=t.$config,i=a[0],s=o.handle,c=[],u=1;u++<10&&!o.root&&!o.data;){var p=(0,e.getRefMocker)(i,n);if(!p)return void console.error("the cascader reference the path '".concat(i,"' is not exist or generated."));var l=p.mockit.params;a=l.$path,o=l.$config,i=a&&a[0],s=s||o.handle,c.unshift(p.result)}return{handle:s=s||e.getCascaderValue,lastPath:i,values:c,$config:o}};e.makeDictData=function(t){var n=t.$length,r=function(t){var n=t[(0,e.makeRandom)(0,t.length-1)];return n[(0,e.makeRandom)(0,n.length-1)]};return function(t){for(var a=n?(0,e.makeRandom)(n.least,n.most):1,o=1===a,i=[];a--;)i.push(r(t));return o?i[0]:i}}},417:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(899),i=n(789),s=n(907),c=function(t,e){var n;if("number"==typeof t)n=new Date(t);else{if(!o.strRule.test(t))throw new Error("invalid date:".concat(t));n=(0,i.strtotime)(RegExp.$2,e)}return n},u={now:{type:[Date,String],default:new Date,validator:function(t){return t instanceof Date}}},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$size",(function(t){if(t){var e=t.range;if(2!==e.length)throw new Error("the time range should supply 2 arguments,but got ".concat(e.length))}}),!0),this.addRule("$format",(function(t){if(t){var e=t.format;return{format:e=(0,i.decodeTrans)(e.slice(1))}}}),!0),this.addModifier("$format",(function(t,e){var n=e.format;return(0,i.dateformat)(n,t)}))},e.prototype.generate=function(t){var e=this.getCurrentParams(t),n=e.$size,r=e.$config,a=void 0===r?{}:r,o="string"==typeof a.now?(0,i.strtotime)(a.now):a.now,s=n?function(){var t=n.range,e=t[0],r=t[1],a=c(e,o),i=c(r,o),s=a.getTime(),u=i.getTime();if(u<s)throw new Error("the time range of start time ".concat(e," is big than end time ").concat(r,"."));return[s,u]}():[(0,i.strtotime)("-10 years",o).getTime(),(0,i.strtotime)("+10 years",o).getTime()],u=s[0],p=s[1],l=(0,i.makeRandom)(u,p),h=new Date;return h.setTime(l),h},e.prototype.test=function(){return!0},e.constrName="ToDate",e.allowAttrs=[],e.configOptions=u,e.selfConfigOptions=u,e}(s.default);e.default=p},163:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(907),i=n(789),s="ToIncrement",c={step:{type:Number,default:1,validator:function(t){return i.validator.validNumber(s,"step",t)}},start:{type:Number,default:1,validator:function(t){return i.validator.validNumber(s,"start",t)}}},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.setAllowAttrs("$length","$size")},e.prototype.generate=function(t){var e=this.getCurrentParams(t),n=e.$config,r=e.$length,a=n||{},o=a.start,s=a.step,c=t.mocker,u="increment",p=c.store(u);if(r){var l=r.least,h=r.most,f=[],d=(0,i.makeRandom)(l,h);if(d>0){for("number"!=typeof p&&(p=o,f.push(o),d--);d-- >0;)p+=s,f.push(p);c.store(u,p)}return f}return"number"==typeof p?p+=s:p=o,c.store(u,p),p},e.prototype.test=function(){return!0},e.constrName=s,e.configOptions=c,e.selfConfigOptions=c,e.allowAttrs=[],e}(o.default);e.default=u},580:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(500),i=n(789),s=n(907),c={none:0,min:1,max:2,both:3},u={step:{type:Number}},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$size",(function(t){if(t){var e=t.range,n=e.length;if(2!==n)throw new Error(n<2?"the $size param must have the min and the max params":"the $size param length should be 2,but got ".concat(n));var r=e[0],a=e[1];if(r=r.trim(),a=a.trim(),""===r&&""===a)throw new Error("the min param and max param can not both undefined");if(""===r&&(r=Number.MIN_SAFE_INTEGER||Number.MIN_VALUE),""===a&&(a=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE),isNaN(r))throw new Error("the min param expect a number,but got ".concat(r));if(isNaN(a))throw new Error("the max param expect a number,but got ".concat(a));var o=Number(r),i=Number(a);if(o>i)throw new Error("the min number ".concat(r," is big than the max number ").concat(a));return{range:[o,i]}}})),this.addRule("$format",(function(t){if(t){var e=t.format;if(!o.rule.test(e))throw new Error("Wrong format rule(".concat(e,")"))}})),this.addModifier("$format",(function(t,e){return(0,o.default)(e.format,t)}))},e.prototype.generate=function(t){var e,n=this.getCurrentParams(t),r=n.$size,a=n.$config;if(r){var o=r.range,s=a&&a.step,u=o,p=u[0],l=u[1],h=a&&a.exclude;if(s){var f=Math.floor((l-p)/s);if(f>0)return+p+s*(0+Math.floor(Math.random()*(f-0)))}var d=c.both;if(h)h.split(",").map((function(t){d-=c[t]})),d=d<0?0:d;e=+p+(l-p)*function(t){var e=Number.EPSILON||Math.pow(2,-52);switch(t){case c.max:return 1-Math.random();case c.both:return(1+e)*Math.random();case c.none:return(1-e)*(1-Math.random());default:return Math.random()}}(d)}else e=Math.random()*Math.pow(10,Math.floor(10*Math.random())),e=(0,i.isOptional)()?-e:e;return e},e.prototype.test=function(){return!0},e.constrName="ToNumber",e.configOptions=u,e.selfConfigOptions=u,e.allowAttrs=[],e}(s.default);e.default=p},639:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$path",(function(t){if(!t)throw new Error("the ref type must has a path param.")}))},e.prototype.generate=function(t){var e=t.mocker,n=this.params.$path,r=[];if(!e)throw new Error("The ':ref' data type need a mocker object or a template object in a template literal.");return n.map((function(t){var n=(0,o.getRefMocker)(t,e);if(!n)throw new Error("The ':ref' type's reference path \"".concat(t.fullpath,'" is not found in the data paths.'));for(;n;)r.push(n.result),n=n.next})),1===n.length&&1===r.length?r[0]:r},e.prototype.test=function(){return!0},e.constrName="ToRef",e.allowAttrs=[],e}(n(907).default);e.default=i},634:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(536),i=n(907),s=n(789),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.addRule("$regexp",(function(t){if(!t)throw new Error("the regexp type must has a regexp rule.");var e=t.rule;if(!o.regexpRule.test(e))throw new Error("wrong regexp expression")})),this.addRule("$config",(function(t){if(t){var e={},n=/(.?)\|/g;return Object.keys(t).forEach((function(r){var a=t[r];if("string"==typeof a){for(var o=null,i=[],s=[],c=0;null!==(o=n.exec(a));)"\\"===o[1]?i.push(a.slice(c,n.lastIndex)):(s.push(i.join("")+a.slice(c,n.lastIndex-1)),i=[]),c=n.lastIndex;c<a.length&&s.push(a.slice(c,a.length)),e[r]=s}else e[r]=a})),e}}),!0)},e.prototype.generate=function(t){var e=this.instance,n=this.getCurrentParams(t),r=n.$config,a=void 0===r?{}:r,i=n.$regexp;if(!e){var c=Object.keys(a).reduce((function(t,e){var n=a[e];return(0,s.isArray)(n)?t[e]=n:"string"==typeof n&&(t[e]=[n]),t}),{});e=this.instance=new o.default(i.rule,{namedGroupConf:c})}return e.build()},e.prototype.test=function(){return!0},e.constrName="ToRegexp",e.allowAttrs=[],e}(i.default);e.default=c},935:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=n(907),s=/^\\u([0-9a-fA-F]{1,6})$/,c=/^\d+$/,u=function(t){return parseInt(t,16)},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.setAllowAttrs("$length"),this.addRule("$size",(function(t){if(t){var e=t.range,n=e.length;if(n<2)throw new Error("The '$size' should have 2 arguments,but got ".concat(n));var r=e,a=r[0],o=r[1],i=[],p=1114111,l=/^\\u([0-9a-fA-F]{1,6})-\\u([0-9a-fA-F]{1,6})$/,h=/^(\d+)-(\d+)$/,f=!1,d=0,g=!1;if(2===n&&((g=s.test(a))||c.test(a))){var m=void 0,y=void 0,v=!1;if(g?(m=u(RegExp.$1),v=!0,s.test(o)&&(f=!0,y=u(RegExp.$1))):(m=Number(a),c.test(o)&&(y=Number(o),f=!0)),f){if(y<m)throw new Error("the min param '".concat(a,"' is big than the max param '").concat(o,"'"));if(y>p)throw new Error("the max param's unicode point is big than the max point (".concat(o," > '0x10ffff')"));i.push([m,y])}else{if(!h.test(o)&&!l.test(o))throw new Error("the max param '".concat(o,"' must be a ").concat(v?"unicode":"number"," like the min param '").concat(a,"'"));d++}}if(!f)for(;d<n;d++){var w=e[d],b=null,x=(m=void 0,y=void 0,!0);if(b=w.match(l))m=u(b[1]),y=u(b[2]);else if(b=w.match(h))m=Number(b[1]),y=Number(b[2]);else if(b=w.match(c))x=!1,m=y=Number(b[0]);else{if(!(b=w.match(s)))throw new Error("the param of index ".concat(d,"(").concat(w,") is a wrong range or number."));x=!1,m=y=u(b[1])}if(x&&y<m)throw new Error("the param of index ".concat(d,"'s range is wrong.(").concat(b[1]," > ").concat(b[2],")"));if(y>p)throw new Error("the param of index ".concat(d,"'s code point(").concat(y,") is big than 0x10ffff"));i.push([m,y])}return{range:i}}}),!0)},e.prototype.generate=function(t){for(var e=this.getCurrentParams(t),n=e.$length,r=e.$size,a=Object.assign({least:1,most:100},n),i=a.least,s=a.most,c=Object.assign({range:[[32,126]]},r).range,u=c.length-1,p=(0,o.makeRandom)(Number(i),Number(s)),l="",h=1;h<=p;h++){var f=c[(0,o.makeRandom)(0,u)],d=f[0],g=f[1],m=(0,o.makeRandom)(d,g);l+=String.fromCodePoint(m)}return l},e.prototype.test=function(){return!0},e.constrName="ToString",e.allowAttrs=[],e}(i.default);e.default=p},735:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(789),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setTemplate=function(t){this.$template=t},e.prototype.init=function(){this.setAllowAttrs("$length")},e.prototype.generate=function(t){var e=this.$template,n=this.getCurrentParams(t).$length,r=e.value(t);if(n){var a=Number(n.least),i=Number(n.most),s=(0,o.makeRandom)(a,i);if(s>1)return r.repeat(s)}return r},e.prototype.test=function(){return!0},e.constrName="ToTemplate",e.allowAttrs=[],e}(n(907).default);e.default=i},968:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(789),a=n(899),o={config:{startTag:["#["],endTag:["]"],separator:",",pattern:/\s*([a-zA-Z_$][\w$]*)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|((?:\[(?:\d+|(['"])(?:(?!\5)[^\\]|\\.)*\5)\]|[^\s,\]])+))\s*)?/},parse:function(){var t=this.info().params,e={};if(t.length)for(var n=/^\s*([a-zA-Z_$][\w$]*)\s*(?:=\s*(?:(['"])((?:(?!\2)[^\\]|\\.)*)\2|((?:\[(?:\d+|(['"])(?:(?!\5)[^\\]|\\.)*\5)\]|[^\s,\]])+))\s*)?$/,o=["true","false","null","undefined","NaN"],i=0,s=t.length;i<s;i++){var c=t[i];if(n.test(c)){var u=RegExp.$1,p=RegExp.$2,l=RegExp.$3,h=RegExp.$4;if((0,r.hasOwn)(e,u))throw new Error('the config of "'.concat(u,'" has exists,do not define repeatly.'));if(p)e[u]=(0,r.decodeTrans)(l);else if(h){var f=h;isNaN(Number(f))?o.indexOf(f)>-1?e[u]=(0,r.getExp)(f):e[u]=new a.VariableExpression(f):e[u]=Number(f)}else e[u]=!0}else this.halt("[index: ".concat(i,'] The configuration of "').concat(c,'" is not a valid supported value, please check it.'))}return e},setting:{frozen:!1}};e.default=o},566:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["%"],endTag:[]},parse:function(){return{format:this.info().params[0]}}}},662:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(899),a=n(789),o={config:{startTag:["@"],endTag:[],separator:"|",pattern:/^([a-z][\w$]*)(?:\(((?:(?:(['"])(?:(?!\3)[^\\]|\\.)*\3|[+-]?\d+|[a-zA-Z_$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)\s*(?:,(?!\s*\))|(?=\s*\)))\s*)*)\)|)/,rule:new RegExp("^@(?:[a-z][\\w$]*(?:\\((?:(?:(['\"])(?:(?!\\1)[^\\\\]|\\\\.)*\\1|[+-]?\\d+|[a-zA-Z_$]+(?:\\.[\\w$]+|\\[(?:(['\"])(?:(?!\\2)[^\\\\]|\\.)*\\2|\\d+)\\])*)\\s*(?:,(?!\\s*\\))|(?=\\s*\\)))\\s*)*\\)|)(?:\\|(?!$|".concat(r.encodeSplitor,")|(?=\\s*$|").concat(r.encodeSplitor,")))*"))},parse:function(){var t=this.info().patterns,e={queue:[],fns:[],params:[],options:[]},n=/(['"])((?:(?!\1)[^\\]|\\.)*)\1|([+-]?[\w$]+(?:\.[\w$]+|\[(?:(['"])(?:(?!\4)[^\\]|\\.)*\4|\d+)\])*)/g,r=["true","false","undefined","null","NaN"];return t.forEach((function(t){var o=t[1],i=t[2],s=[];if(i)for(var c=null;null!==(c=n.exec(i));){var u=c[3],p={};u?r.indexOf(u)>-1||!isNaN(Number(u))?p.value=(0,a.getExp)(u):(p.value=u,p.variable=!0):p.value=c[2],s.push(p)}e.queue.push(o);var l={name:o,params:s};e.options.push(l);var h=function(t){var e=t.name,n=t.params,r=[];return n.forEach((function(t){var e=t.variable,n=t.value;e||r.push(n)})),{fn:function(t){var r="__CONFIG__",a="__VARS__",o="__ARGS__",i="__RESULT__",s="__EXP__",c=t?"__FN__":"".concat(i,".").concat(e),u=t?[c]:[],p=t?[i]:[],l=0;return n.forEach((function(t){var e=t.value;if(t.variable){var n="string"==typeof e&&(e.includes(".")||e.includes("["));p.push(n?"".concat(s,"(").concat(r,',"').concat(e,'")'):"".concat(r,'.hasOwnProperty("').concat(e,'") ? ').concat(r,'["').concat(e,'"] : ').concat(a,'["').concat(e,'"]'))}else p.push("".concat(o,"[").concat(l++,"]"))})),new Function(u.concat(o,a,i,r,s).join(","),t?"return ".concat(c,".apply(this,[").concat(p.join(","),"]);"):"return ".concat(c,"(").concat(p.join(","),")"))},param:r}}(l),f=h.fn,d=h.param;e.fns.push(f),e.params.push(d)})),e}};e.default=o},648:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={config:{startTag:["{"],endTag:["}"],separator:","},parse:function(){var t=this,e=this.info().params;if(e.length>2)return this.halt("the length should not have more than 2 params");var n=e[0],r=e[e.length-1],a={least:n,most:r},o=function(e){var n=a[e];if(isNaN(Number(n))||!/^(?:[1-9]+\d*|0)$/.test(n)||+n<0)return t.halt("the length param of ".concat(e,' expect a integer number greater than or equal to 0,but got "').concat(n,'"'))};if(o("least"),2===e.length&&(o("most"),Number(n)>=Number(r)))throw new Error('the length param of least "'.concat(n,'" is greater than or equal to the most "').concat(r,'"'));return{least:Number(n),most:Number(r)}}};e.default=n},668:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(899),a=n(789),o={config:{startTag:["&"],endTag:[],separator:",",pattern:new RegExp("^(\\.{1,2}(?:\\/\\.\\.)*|<\\w+?>|\\/)?((?:/(?:\\\\.?|[^\\/.,".concat(r.encodeSplitor,"]|\\.(?![.\\/,").concat(r.encodeSplitor,"]|$))+)+)")),rule:new RegExp("^&(?:(?:\\.{1,2}(?:\\/\\.\\.)*|<\\w+?>|\\/)?(?:\\/(?:\\\\.?|[^\\/.,".concat(r.encodeSplitor,"]|\\.(?![.\\/,").concat(r.encodeSplitor,"]|$))+)+(?=(,)|").concat(r.encodeSplitor,"|$)\\1?)+"))},parse:function(){var t=this.info().patterns,e=[];return t.forEach((function(t){var n,r=t[0],o=t[1],i=t[2],s=!!o,c=0,u=!1;if(s)switch(o.charAt(0)){case"<":n=o.slice(1,-1);break;case".":c=o.split("/").length-("."===o?1:0);break;case"/":u=!0}var p={relative:s,path:(0,a.parsePathSeg)(i).slice(1),depth:c,fullpath:r,variable:n,fix:u};e.push(p)})),e}};e.default=o},844:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r={config:{startTag:["/"],endTag:[],rule:n(536).parserRule},parse:function(){return{rule:this.info().params[0]}}};e.default=r},982:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={config:{startTag:["["],endTag:["]"],separator:","},parse:function(){return{range:this.info().params}}}},906:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AssignType=e.SpecialType=void 0,function(t){t[t.Enum=1]="Enum",t[t.Template=2]="Template"}(e.SpecialType||(e.SpecialType={})),function(t){t[t.None=0]="None",t[t.AlwaysVariable=1]="AlwaysVariable",t[t.MustNotOverride=2]="MustNotOverride",t[t.OverrideIfNotExist=4]="OverrideIfNotExist",t[t.Override=8]="Override"}(e.AssignType||(e.AssignType={}))}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}var r={};return(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.createNsSuch=void 0;var e=n(795),a=n(666),o=n(489),i=n(275),s=n(168);(0,s.addMockitList)(s.builtinMockits,!0),(0,s.addMockitList)({dict:o.default,cascader:i.default},!0);var c=new a.Such;c.config(e.default),t.default=c;var u=n(666);Object.defineProperty(t,"createNsSuch",{enumerable:!0,get:function(){return u.createNsSuch}})})(),r})()}));